import{A as Fn,a as H,b as ze,c as Cb,d as Tb,e as R,f as pC,g as Zh,h as gC,i as _C,j as bC,k as Sb,l as vC,m as ld,n as Ab,o as Xh,p as yC,q as wC,r as Mb,s as Et,t as Es,u as qi,v as Jh,w as cd,x as xC,y as EC,z as yo}from"./chunk-FH57UID4.js";var DC=null,ef=!1,kb=1,nf=Symbol("SIGNAL");function Ge(t){let e=DC;return DC=t,e}function MV(){return ef}var Ob={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kV(t){if(!(Vb(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kb)){if(!t.producerMustRecompute(t)&&!rf(t)){t.dirty=!1,t.lastCleanEpoch=kb;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=kb}}function RV(t){if(t.liveConsumerNode===void 0)return;let e=ef;ef=!0;try{for(let n of t.liveConsumerNode)n.dirty||IC(n)}finally{ef=e}}function IC(t){t.dirty=!0,RV(t),t.consumerMarkedDirty?.(t)}function Nb(t){return t&&(t.nextProducerIndex=0),Ge(t)}function Pb(t,e){if(Ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vb(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lb(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rf(t){tf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(kV(n),i!==n.version))return!0}return!1}function Fb(t){if(tf(t),Vb(t))for(let e=0;e<t.producerNode.length;e++)Lb(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lb(t,e){if(OV(t),tf(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Lb(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];tf(r),r.producerIndexOfThis[i]=e}}function Vb(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function OV(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function NV(){throw new Error}var PV=NV;function CC(t){PV=t}function TC(t,e,n){let i=Object.create(FV);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=l=>{i.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(Fb(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Rb)}let a=()=>{if(i.fn===null)return;if(MV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!rf(i))return;i.hasRun=!0;let l=Nb(i);try{i.cleanupFn(),i.cleanupFn=Rb,i.fn(r)}finally{Pb(i,l)}};return i.ref={notify:()=>IC(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[nf]:i},i.ref}var Rb=()=>{},FV=ze(H({},Ob),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Rb});function fe(t){return typeof t=="function"}function Ga(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var of=Ga(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ds(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(fe(i))try{i()}catch(o){e=o instanceof of?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{SC(o)}catch(s){e=e??[],s instanceof of?e=[...e,...s.errors]:e.push(s)}}if(e)throw new of(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ds(n,e)}remove(e){let{_finalizers:n}=this;n&&Ds(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var Bb=qe.EMPTY;function sf(t){return t instanceof qe||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function SC(t){fe(t)?t():t.unsubscribe()}var Ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qa={setTimeout(t,e,...n){let{delegate:i}=qa;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function af(t){qa.setTimeout(()=>{let{onUnhandledError:e}=Ii;if(e)e(t);else throw t})}function Ci(){}var AC=jb("C",void 0,void 0);function MC(t){return jb("E",void 0,t)}function kC(t){return jb("N",t,void 0)}function jb(t,e,n){return{kind:t,value:e,error:n}}var Is=null;function Wa(t){if(Ii.useDeprecatedSynchronousErrorHandling){let e=!Is;if(e&&(Is={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Is;if(Is=null,n)throw i}}else t()}function RC(t){Ii.useDeprecatedSynchronousErrorHandling&&Is&&(Is.errorThrown=!0,Is.error=t)}var Cs=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sf(e)&&e.add(this)):this.destination=BV}static create(e,n,i){return new Ar(e,n,i)}next(e){this.isStopped?Ub(kC(e),this):this._next(e)}error(e){this.isStopped?Ub(MC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ub(AC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LV=Function.prototype.bind;function zb(t,e){return LV.call(t,e)}var $b=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){lf(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){lf(i)}else lf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lf(n)}}},Ar=class extends Cs{constructor(e,n,i){super();let r;if(fe(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Ii.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&zb(e.next,o),error:e.error&&zb(e.error,o),complete:e.complete&&zb(e.complete,o)}):r=e}this.destination=new $b(r)}};function lf(t){Ii.useDeprecatedSynchronousErrorHandling?RC(t):af(t)}function VV(t){throw t}function Ub(t,e){let{onStoppedNotification:n}=Ii;n&&qa.setTimeout(()=>n(t,e))}var BV={closed:!0,next:Ci,error:VV,complete:Ci};var Ka=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dn(t){return t}function Hb(...t){return Gb(t)}function Gb(t){return t.length===0?dn:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=zV(n)?n:new Ar(n,i,r);return Wa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=OC(i),new i((r,o)=>{let s=new Ar({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ka](){return this}pipe(...n){return Gb(n)(this)}toPromise(n){return n=OC(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function OC(t){var e;return(e=t??Ii.Promise)!==null&&e!==void 0?e:Promise}function jV(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}function zV(t){return t&&t instanceof Cs||jV(t)&&sf(t)}function qb(t){return fe(t?.lift)}function _e(t){return e=>{if(qb(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(t,e,n,i,r){return new Wb(t,e,n,i,r)}var Wb=class extends Cs{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Qa(){return _e((t,e)=>{let n=null;t._refCount++;let i=me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Mr=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(me(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Qa()(this)}};var NC=Ga(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new cf(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new NC}next(n){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Bb:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,Ds(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new cf(e,n),t})(),cf=class extends oe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Bb}};var yt=class extends oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var dd={now(){return(dd.delegate||Date).now()},delegate:void 0};var df=class extends oe{constructor(e=1/0,n=1/0,i=dd){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var uf=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var ud={setInterval(t,e,...n){let{delegate:i}=ud;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ud;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ya=class extends uf{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return ud.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ud.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ds(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Za=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Za.now=dd.now;var Xa=class extends Za{constructor(e,n=Za.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var ri=new Xa(Ya),Kb=ri;var hf=class extends Ya{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var ff=class extends Xa{};var Qb=new ff(hf);var Pt=new de(t=>t.complete());function mf(t){return t&&fe(t.schedule)}function Yb(t){return t[t.length-1]}function wo(t){return fe(Yb(t))?t.pop():void 0}function Wi(t){return mf(Yb(t))?t.pop():void 0}function PC(t,e){return typeof Yb(t)=="number"?t.pop():e}var Ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function pf(t){return fe(t?.then)}function gf(t){return fe(t[Ka])}function _f(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function bf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vf=UV();function yf(t){return fe(t?.[vf])}function wf(t){return gC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Zh(n.read());if(r)return yield Zh(void 0);yield yield Zh(i)}}finally{n.releaseLock()}})}function xf(t){return fe(t?.getReader)}function Le(t){if(t instanceof de)return t;if(t!=null){if(gf(t))return $V(t);if(Ja(t))return HV(t);if(pf(t))return GV(t);if(_f(t))return FC(t);if(yf(t))return qV(t);if(xf(t))return WV(t)}throw bf(t)}function $V(t){return new de(e=>{let n=t[Ka]();if(fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HV(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function GV(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,af)})}function qV(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function FC(t){return new de(e=>{KV(t,e).catch(n=>e.error(n))})}function WV(t){return FC(wf(t))}function KV(t,e){var n,i,r,o;return pC(this,void 0,void 0,function*(){try{for(n=_C(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Ln(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function oi(t,e=0){return _e((n,i)=>{n.subscribe(me(i,r=>Ln(i,t,()=>i.next(r),e),()=>Ln(i,t,()=>i.complete(),e),r=>Ln(i,t,()=>i.error(r),e)))})}function Ti(t,e=0){return _e((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function LC(t,e){return Le(t).pipe(Ti(e),oi(e))}function VC(t,e){return Le(t).pipe(Ti(e),oi(e))}function BC(t,e){return new de(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function jC(t,e){return new de(n=>{let i;return Ln(n,e,()=>{i=t[vf](),Ln(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>fe(i?.return)&&i.return()})}function Ef(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Ln(n,e,()=>{let i=t[Symbol.asyncIterator]();Ln(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function zC(t,e){return Ef(wf(t),e)}function UC(t,e){if(t!=null){if(gf(t))return LC(t,e);if(Ja(t))return BC(t,e);if(pf(t))return VC(t,e);if(_f(t))return Ef(t,e);if(yf(t))return jC(t,e);if(xf(t))return zC(t,e)}throw bf(t)}function We(t,e){return e?UC(t,e):Le(t)}function ie(...t){let e=Wi(t);return We(t,e)}function Ki(t,e){let n=fe(t)?t:()=>t,i=r=>r.error(n());return new de(e?r=>e.schedule(i,0,r):i)}function hd(t){return!!t&&(t instanceof de||fe(t.lift)&&fe(t.subscribe))}var kr=Ga(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $C(t){return t instanceof Date&&!isNaN(t)}function K(t,e){return _e((n,i)=>{let r=0;n.subscribe(me(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:QV}=Array;function YV(t,e){return QV(e)?t(...e):t(e)}function el(t){return K(e=>YV(t,e))}var{isArray:ZV}=Array,{getPrototypeOf:XV,prototype:JV,keys:eB}=Object;function Df(t){if(t.length===1){let e=t[0];if(ZV(e))return{args:e,keys:null};if(tB(e)){let n=eB(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function tB(t){return t&&typeof t=="object"&&XV(t)===JV}function If(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function xo(...t){let e=Wi(t),n=wo(t),{args:i,keys:r}=Df(t);if(i.length===0)return We([],e);let o=new de(nB(i,e,r?s=>If(r,s):dn));return n?o.pipe(el(n)):o}function nB(t,e,n=dn){return i=>{HC(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)HC(e,()=>{let d=We(t[l],e),u=!1;d.subscribe(me(i,f=>{o[l]=f,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function HC(t,e,n){t?Ln(n,t,e):e()}function GC(t,e,n,i,r,o,s,a){let l=[],d=0,u=0,f=!1,p=()=>{f&&!l.length&&!d&&e.complete()},g=x=>d<i?v(x):l.push(x),v=x=>{o&&e.next(x),d++;let I=!1;Le(n(x,u++)).subscribe(me(e,L=>{r?.(L),o?g(L):e.next(L)},()=>{I=!0},void 0,()=>{if(I)try{for(d--;l.length&&d<i;){let L=l.shift();s?Ln(e,s,()=>v(L)):v(L)}p()}catch(L){e.error(L)}}))};return t.subscribe(me(e,g,()=>{f=!0,p()})),()=>{a?.()}}function _t(t,e,n=1/0){return fe(e)?_t((i,r)=>K((o,s)=>e(i,o,r,s))(Le(t(i,r))),n):(typeof e=="number"&&(n=e),_e((i,r)=>GC(i,r,t,n)))}function Eo(t=1/0){return _t(dn,t)}function qC(){return Eo(1)}function Vn(...t){return qC()(We(t,Wi(t)))}function Rr(t){return new de(e=>{Le(t()).subscribe(e)})}function fd(...t){let e=wo(t),{args:n,keys:i}=Df(t),r=new de(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let u=0;u<s;u++){let f=!1;Le(n[u]).subscribe(me(o,p=>{f||(f=!0,d--),a[u]=p},()=>l--,void 0,()=>{(!l||!f)&&(d||o.next(i?If(i,a):a),o.complete())}))}});return e?r.pipe(el(e)):r}var iB=["addListener","removeListener"],rB=["addEventListener","removeEventListener"],oB=["on","off"];function tn(t,e,n,i){if(fe(n)&&(i=n,n=void 0),i)return tn(t,e,n).pipe(el(i));let[r,o]=lB(t)?rB.map(s=>a=>t[s](e,a,n)):sB(t)?iB.map(WC(t,e)):aB(t)?oB.map(WC(t,e)):[];if(!r&&Ja(t))return _t(s=>tn(s,e,n))(Le(t));if(!r)throw new TypeError("Invalid event target");return new de(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function WC(t,e){return n=>i=>t[n](e,i)}function sB(t){return fe(t.addListener)&&fe(t.removeListener)}function aB(t){return fe(t.on)&&fe(t.off)}function lB(t){return fe(t.addEventListener)&&fe(t.removeEventListener)}function Ts(t=0,e,n=Kb){let i=-1;return e!=null&&(mf(e)?n=e:i=e),new de(r=>{let o=$C(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Tn(...t){let e=Wi(t),n=PC(t,1/0),i=t;return i.length?i.length===1?Le(i[0]):Eo(n)(We(i,e)):Pt}var Do=new de(Ci);var{isArray:cB}=Array;function Cf(t){return t.length===1&&cB(t[0])?t[0]:t}function Ce(t,e){return _e((n,i)=>{let r=0;n.subscribe(me(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Zb(...t){return t=Cf(t),t.length===1?Le(t[0]):new de(dB(t))}function dB(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Le(t[i]).subscribe(me(e,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}e.next(r)})))}}function md(...t){let e=wo(t),n=Cf(t);return n.length?new de(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)Le(n[s]).subscribe(me(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(d=>d.shift());i.next(e?e(...l):l),r.some((d,u)=>!d.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Pt}function KC(t){return _e((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let d=r;r=null,n.next(d)}s&&n.complete()},l=()=>{o=null,s&&n.complete()};e.subscribe(me(n,d=>{i=!0,r=d,o||Le(t(d)).subscribe(o=me(n,a,l))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function Tf(t,e=ri){return KC(()=>Ts(t,e))}function Qi(t){return _e((e,n)=>{let i=null,r=!1,o;i=e.subscribe(me(n,void 0,void 0,s=>{o=Le(t(s,Qi(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function QC(t,e,n,i,r){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(me(s,u=>{let f=d++;l=a?t(l,u,f):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Or(t,e){return fe(e)?_t(t,e,1):_t(t,1)}function YC(t){return new de(e=>t.subscribe(e))}var uB={connector:()=>new oe};function Sf(t,e=uB){let{connector:n}=e;return _e((i,r)=>{let o=n();Le(t(YC(o))).subscribe(r),r.add(i.subscribe(o))})}function pd(t,e=ri){return _e((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,i.next(d)}};function l(){let d=s+t,u=e.now();if(u<d){r=this.schedule(void 0,d-u),i.add(r);return}a()}n.subscribe(me(i,d=>{o=d,s=e.now(),r||(r=e.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Io(t){return _e((e,n)=>{let i=!1;e.subscribe(me(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Ze(t){return t<=0?()=>Pt:_e((e,n)=>{let i=0;e.subscribe(me(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function ZC(){return _e((t,e)=>{t.subscribe(me(e,Ci))})}function gd(t){return K(()=>t)}function Xb(t,e){return e?n=>Vn(e.pipe(Ze(1),ZC()),n.pipe(Xb(t))):_t((n,i)=>Le(t(n,i)).pipe(Ze(1),gd(n)))}function Af(t,e=ri){let n=Ts(t,e);return Xb(()=>n)}function Nr(t,e=dn){return t=t??hB,_e((n,i)=>{let r,o=!0;n.subscribe(me(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function hB(t,e){return t===e}function Mf(t=fB){return _e((e,n)=>{let i=!1;e.subscribe(me(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function fB(){return new kr}function Jb(...t){return e=>Vn(e,ie(...t))}function Pr(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function si(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ce((r,o)=>t(r,o,i)):dn,Ze(1),n?Io(e):Mf(()=>new kr))}function tl(t){return t<=0?()=>Pt:_e((e,n)=>{let i=[];e.subscribe(me(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function ev(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ce((r,o)=>t(r,o,i)):dn,tl(1),n?Io(e):Mf(()=>new kr))}function XC(t,e){let n=fe(t)?t:()=>t;return fe(e)?Sf(e,{connector:n}):i=>new Mr(i,n)}function nl(){return _e((t,e)=>{let n,i=!1;t.subscribe(me(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function tv(t){return t?e=>Sf(t)(e):e=>XC(new oe)(e)}function Ss(t,e){return _e(QC(t,e,arguments.length>=2,!0))}function _d(t={}){let{connector:e=()=>new oe,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,d=0,u=!1,f=!1,p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=l=void 0,u=f=!1},v=()=>{let x=s;g(),x?.unsubscribe()};return _e((x,I)=>{d++,!f&&!u&&p();let L=l=l??e();I.add(()=>{d--,d===0&&!f&&!u&&(a=nv(v,r))}),L.subscribe(I),!s&&d>0&&(s=new Ar({next:q=>L.next(q),error:q=>{f=!0,p(),a=nv(g,n,q),L.error(q)},complete:()=>{u=!0,p(),a=nv(g,i),L.complete()}}),Le(x).subscribe(s))})(o)}}function nv(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Ar({next:()=>{i.unsubscribe(),t()}});return Le(e(...n)).subscribe(i)}function As(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,_d({connector:()=>new df(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function il(t){return Ce((e,n)=>t<=n)}function Bn(...t){let e=Wi(t);return _e((n,i)=>{(e?Vn(t,n,e):Vn(t,n)).subscribe(i)})}function Ue(t,e){return _e((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(me(i,l=>{r?.unsubscribe();let d=0,u=o++;Le(t(l,u)).subscribe(r=me(i,f=>i.next(e?e(l,f,u,d++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function kf(t,e){return fe(e)?Ue(()=>t,e):Ue(()=>t)}function $e(t){return _e((e,n)=>{Le(t).subscribe(me(n,()=>n.complete(),Ci)),!n.closed&&e.subscribe(n)})}function iv(t,e=!1){return _e((n,i)=>{let r=0;n.subscribe(me(i,o=>{let s=t(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function rt(t,e,n){let i=fe(t)||e||n?{next:t,error:e,complete:n}:t;return i?_e((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(me(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):dn}function Rf(...t){let e=wo(t);return _e((n,i)=>{let r=t.length,o=new Array(r),s=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)Le(t[l]).subscribe(me(i,d=>{o[l]=d,!a&&!s[l]&&(s[l]=!0,(a=s.every(dn))&&(s=null))},Ci));n.subscribe(me(i,l=>{if(a){let d=[l,...o];i.next(e?e(...d):d)}}))})}var LT="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(w0(e,n)),this.code=e}};function w0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Md(t){return{toString:t}.toString()}var Of="__parameters__";function mB(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function VT(t,e,n){return Md(()=>{let i=mB(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,u){let f=l.hasOwnProperty(Of)?l[Of]:Object.defineProperty(l,Of,{value:[]})[Of];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var un=globalThis;function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function pB(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function An(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(An).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _v(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gB=ct({__forward_ref__:ct});function Oi(t){return t.__forward_ref__=Oi,t.toString=function(){return An(this())},t}function Sn(t){return BT(t)?t():t}function BT(t){return typeof t=="function"&&t.hasOwnProperty(gB)&&t.__forward_ref__===Oi}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Y(t){return{providers:t.providers||[],imports:t.imports||[]}}function pm(t){return JC(t,zT)||JC(t,UT)}function jT(t){return pm(t)!==null}function JC(t,e){return t.hasOwnProperty(e)?t[e]:null}function _B(t){let e=t&&(t[zT]||t[UT]);return e||null}function eT(t){return t&&(t.hasOwnProperty(tT)||t.hasOwnProperty(bB))?t[tT]:null}var zT=ct({\u0275prov:ct}),tT=ct({\u0275inj:ct}),UT=ct({ngInjectableDef:ct}),bB=ct({ngInjectorDef:ct}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $T(t){return t&&!!t.\u0275providers}var vB=ct({\u0275cmp:ct}),yB=ct({\u0275dir:ct}),wB=ct({\u0275pipe:ct}),xB=ct({\u0275mod:ct}),Wf=ct({\u0275fac:ct}),bd=ct({__NG_ELEMENT_ID__:ct}),nT=ct({__NG_ENV_ID__:ct});function gm(t){return typeof t=="string"?t:t==null?"":String(t)}function EB(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gm(t)}function DB(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function x0(t,e){throw new G(-201,!1)}var Be=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Be||{}),bv;function HT(){return bv}function jn(t){let e=bv;return bv=t,e}function GT(t,e,n){let i=pm(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Be.Optional)return null;if(e!==void 0)return e;x0(t,"Injector")}var IB={},yd=IB,vv="__NG_DI_FLAG__",Kf="ngTempTokenPath",CB="ngTokenPath",TB=/\n/gm,SB="\u0275",iT="__source",ll;function AB(){return ll}function Co(t){let e=ll;return ll=t,e}function MB(t,e=Be.Default){if(ll===void 0)throw new G(-203,!1);return ll===null?GT(t,void 0,e):ll.get(t,e&Be.Optional?null:void 0,e)}function T(t,e=Be.Default){return(HT()||MB)(Sn(t),e)}function V(t,e=Be.Default){return T(t,_m(e))}function _m(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yv(t){let e=[];for(let n=0;n<t.length;n++){let i=Sn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new G(900,!1);let r,o=Be.Default;for(let s=0;s<i.length;s++){let a=i[s],l=kB(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(T(r,o))}else e.push(T(i))}return e}function qT(t,e){return t[vv]=e,t.prototype[vv]=e,t}function kB(t){return t[vv]}function RB(t,e,n,i){let r=t[Kf];throw e[iT]&&r.unshift(e[iT]),t.message=OB(`
`+t.message,r,n,i),t[CB]=r,t[Kf]=null,t}function OB(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==SB?t.slice(2):t;let r=An(e);if(Array.isArray(e))r=e.map(An).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):An(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(TB,`
  `)}`}var Us=qT(VT("Optional"),8);var bm=qT(VT("SkipSelf"),4);function Rs(t,e){let n=t.hasOwnProperty(Wf);return n?t[Wf]:null}function NB(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function PB(t){return t.flat(Number.POSITIVE_INFINITY)}function E0(t,e){t.forEach(n=>Array.isArray(n)?E0(n,e):e(n))}function WT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function FB(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function LB(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function vm(t,e,n){let i=kd(t,e);return i>=0?t[i|1]=n:(i=~i,LB(t,i,e,n)),i}function rv(t,e){let n=kd(t,e);if(n>=0)return t[n|1]}function kd(t,e){return VB(t,e,1)}function VB(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var dl={},zn=[],ul=new U(""),KT=new U("",-1),QT=new U(""),Yf=class{get(e,n=yd){if(n===yd){let i=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw i.name="NullInjectorError",i}return n}},YT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(YT||{}),Xi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xi||{}),Q=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Q||{});function BB(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function wv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];jB(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function ZT(t){return t===3||t===4||t===6}function jB(t){return t.charCodeAt(0)===64}function wd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?rT(t,n,r,null,e[++i]):rT(t,n,r,null,null))}}return t}function rT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var XT="ng-template";function zB(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&BB(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(D0(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function D0(t){return t.type===4&&t.value!==XT}function UB(t,e,n){let i=t.type===4&&!n?XT:t.value;return e===i}function $B(t,e,n){let i=4,r=t.attrs,o=r!==null?qB(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Si(i)&&!Si(l))return!1;if(s&&Si(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!UB(t,l,n)||l===""&&e.length===1){if(Si(i))return!1;s=!0}}else if(i&8){if(r===null||!zB(t,r,l,n)){if(Si(i))return!1;s=!0}}else{let d=e[++a],u=HB(l,r,D0(t),n);if(u===-1){if(Si(i))return!1;s=!0;continue}if(d!==""){let f;if(u>o?f="":f=r[u+1].toLowerCase(),i&2&&d!==f){if(Si(i))return!1;s=!0}}}}return Si(i)||s}function Si(t){return(t&1)===0}function HB(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return WB(e,t)}function JT(t,e,n=!1){for(let i=0;i<e.length;i++)if($B(t,e[i],n))return!0;return!1}function GB(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function qB(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZT(n))return e}return t.length}function WB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function KB(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function oT(t,e){return t?":not("+e.trim()+")":e}function QB(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Si(s)&&(e+=oT(o,r),r=""),i=s,o=o||!Si(i);n++}return r!==""&&(e+=oT(o,r)),e}function YB(t){return t.map(QB).join(",")}function ZB(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Si(r))break;r=o}i++}return{attrs:e,classes:n}}function Se(t){return Md(()=>{let e=rS(t),n=ze(H({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===YT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xi.Emulated,styles:t.styles||zn,_:null,schemas:t.schemas||null,tView:null,id:""});oS(n);let i=t.dependencies;return n.directiveDefs=aT(i,!1),n.pipeDefs=aT(i,!0),n.id=ej(n),n})}function XB(t){return Fr(t)||eS(t)}function JB(t){return t!==null}function Z(t){return Md(()=>({type:t.type,bootstrap:t.bootstrap||zn,declarations:t.declarations||zn,imports:t.imports||zn,exports:t.exports||zn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sT(t,e){if(t==null)return dl;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Q.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==Q.None?[i,a]:i,e[o]=s):n[o]=i}return n}function ye(t){return Md(()=>{let e=rS(t);return oS(e),e})}function ym(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fr(t){return t[vB]||null}function eS(t){return t[yB]||null}function tS(t){return t[wB]||null}function nS(t){let e=Fr(t)||eS(t)||tS(t);return e!==null?e.standalone:!1}function iS(t,e){let n=t[xB]||null;if(!n&&e===!0)throw new Error(`Type ${An(t)} does not have '\u0275mod' property.`);return n}function rS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||dl,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||zn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sT(t.inputs,e),outputs:sT(t.outputs),debugInfo:null}}function oS(t){t.features?.forEach(e=>e(t))}function aT(t,e){if(!t)return null;let n=e?tS:XB;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(JB)}function ej(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wm(t){return{\u0275providers:t}}function tj(...t){return{\u0275providers:sS(!0,t),\u0275fromNgModule:!0}}function sS(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return E0(e,s=>{let a=s;xv(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&aS(r,o),n}function aS(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];I0(r,o=>{e(o,i)})}}function xv(t,e,n,i){if(t=Sn(t),!t)return!1;let r=null,o=eT(t),s=!o&&Fr(t);if(!o&&!s){let l=t.ngModule;if(o=eT(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)xv(d,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{E0(o.imports,u=>{xv(u,e,n,i)&&(d||=[],d.push(u))})}finally{}d!==void 0&&aS(d,e)}if(!a){let d=Rs(r)||(()=>new r);e({provide:r,useFactory:d,deps:zn},r),e({provide:QT,useValue:r,multi:!0},r),e({provide:ul,useValue:()=>T(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=t;I0(l,u=>{e(u,d)})}}else return!1;return r!==t&&t.providers!==void 0}function I0(t,e){for(let n of t)$T(n)&&(n=n.\u0275providers),Array.isArray(n)?I0(n,e):e(n)}var nj=ct({provide:String,useValue:ct});function lS(t){return t!==null&&typeof t=="object"&&nj in t}function ij(t){return!!(t&&t.useExisting)}function rj(t){return!!(t&&t.useFactory)}function hl(t){return typeof t=="function"}function oj(t){return!!t.useClass}var xm=new U(""),jf={},sj={},ov;function Em(){return ov===void 0&&(ov=new Yf),ov}var nn=class{},xd=class extends nn{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dv(e,s=>this.processProvider(s)),this.records.set(KT,rl(void 0,this)),r.has("environment")&&this.records.set(nn,rl(void 0,this));let o=this.records.get(xm);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QT,zn,Be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ge(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Co(this),i=jn(void 0),r;try{return e()}finally{Co(n),jn(i)}}get(e,n=yd,i=Be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nT))return e[nT](this);i=_m(i);let r,o=Co(this),s=jn(void 0);try{if(!(i&Be.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=uj(e)&&pm(e);d&&this.injectableDefInScope(d)?l=rl(Ev(e),jf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Be.Self?Em():this.parent;return n=i&Be.Optional&&n===yd?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Kf]=a[Kf]||[]).unshift(An(e)),o)throw a;return RB(a,e,"R3InjectorError",this.source)}else throw a}finally{jn(s),Co(o)}}resolveInjectorInitializers(){let e=Ge(null),n=Co(this),i=jn(void 0),r;try{let o=this.get(ul,zn,Be.Self);for(let s of o)s()}finally{Co(n),jn(i),Ge(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(An(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Sn(e);let n=hl(e)?e:Sn(e&&e.provide),i=lj(e);if(!hl(e)&&e.multi===!0){let r=this.records.get(n);r||(r=rl(void 0,jf,!0),r.factory=()=>yv(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ge(null);try{return n.value===jf&&(n.value=sj,n.value=n.factory()),typeof n.value=="object"&&n.value&&dj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ge(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Sn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ev(t){let e=pm(t),n=e!==null?e.factory:Rs(t);if(n!==null)return n;if(t instanceof U)throw new G(204,!1);if(t instanceof Function)return aj(t);throw new G(204,!1)}function aj(t){if(t.length>0)throw new G(204,!1);let n=_B(t);return n!==null?()=>n.factory(t):()=>new t}function lj(t){if(lS(t))return rl(void 0,t.useValue);{let e=cS(t);return rl(e,jf)}}function cS(t,e,n){let i;if(hl(t)){let r=Sn(t);return Rs(r)||Ev(r)}else if(lS(t))i=()=>Sn(t.useValue);else if(rj(t))i=()=>t.useFactory(...yv(t.deps||[]));else if(ij(t))i=()=>T(Sn(t.useExisting));else{let r=Sn(t&&(t.useClass||t.provide));if(cj(t))i=()=>new r(...yv(t.deps));else return Rs(r)||Ev(r)}return i}function rl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cj(t){return!!t.deps}function dj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uj(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Dv(t,e){for(let n of t)Array.isArray(n)?Dv(n,e):n&&$T(n)?Dv(n.\u0275providers,e):e(n)}function jr(t,e){t instanceof xd&&t.assertNotDestroyed();let n,i=Co(t),r=jn(void 0);try{return e()}finally{Co(i),jn(r)}}function dS(){return HT()!==void 0||AB()!=null}function uS(t){if(!dS())throw new G(-203,!1)}function hj(t){let e=un.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fj(t){return typeof t=="function"}var zr=0,ke=1,xe=2,hn=3,Mi=4,Qn=5,Ed=6,Dd=7,ai=8,fl=9,ki=10,wt=11,Id=12,lT=13,vl=14,Ri=15,Rd=16,ol=17,Lr=18,Dm=19,hS=20,To=21,zf=22,Os=23,Mn=25,fS=1;var Ns=7,Zf=8,ml=9,Un=10,C0=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(C0||{});function Ms(t){return Array.isArray(t)&&typeof t[fS]=="object"}function Ur(t){return Array.isArray(t)&&t[fS]===!0}function T0(t){return(t.flags&4)!==0}function Im(t){return t.componentOffset>-1}function Cm(t){return(t.flags&1)===1}function So(t){return!!t.template}function mj(t){return(t[xe]&512)!==0}var Iv=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function mS(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Ft(){return pS}function pS(t){return t.type.prototype.ngOnChanges&&(t.setInput=gj),pj}Ft.ngInherit=!0;function pj(){let t=_S(this),e=t?.current;if(e){let n=t.previous;if(n===dl)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function gj(t,e,n,i,r){let o=this.declaredInputs[i],s=_S(t)||_j(t,{previous:dl,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Iv(d&&d.currentValue,n,l===dl),mS(t,e,r,n)}var gS="__ngSimpleChanges__";function _S(t){return t[gS]||null}function _j(t,e){return t[gS]=e}var cT=null;var Yi=function(t,e,n){cT?.(t,e,n)},bS="svg",bj="math",vj=!1;function yj(){return vj}function Ji(t){for(;Array.isArray(t);)t=t[zr];return t}function vS(t,e){return Ji(e[t])}function li(t,e){return Ji(e[t.index])}function S0(t,e){return t.data[e]}function yS(t,e){return t[e]}function ko(t,e){let n=e[t];return Ms(n)?n:n[zr]}function wj(t){return(t[xe]&4)===4}function A0(t){return(t[xe]&128)===128}function xj(t){return Ur(t[hn])}function pl(t,e){return e==null?null:t[e]}function wS(t){t[ol]=0}function Ej(t){t[xe]&1024||(t[xe]|=1024,A0(t)&&Cd(t))}function Dj(t,e){for(;t>0;)e=e[vl],t--;return e}function M0(t){return!!(t[xe]&9216||t[Os]?.dirty)}function Cv(t){t[ki].changeDetectionScheduler?.notify(1),M0(t)?Cd(t):t[xe]&64&&(yj()?(t[xe]|=1024,Cd(t)):t[ki].changeDetectionScheduler?.notify())}function Cd(t){t[ki].changeDetectionScheduler?.notify();let e=Td(t);for(;e!==null&&!(e[xe]&8192||(e[xe]|=8192,!A0(e)));)e=Td(e)}function xS(t,e){if((t[xe]&256)===256)throw new G(911,!1);t[To]===null&&(t[To]=[]),t[To].push(e)}function Ij(t,e){if(t[To]===null)return;let n=t[To].indexOf(e);n!==-1&&t[To].splice(n,1)}function Td(t){let e=t[hn];return Ur(e)?e[hn]:e}var Pe={lFrame:kS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cj(){return Pe.lFrame.elementDepthCount}function Tj(){Pe.lFrame.elementDepthCount++}function Sj(){Pe.lFrame.elementDepthCount--}function ES(){return Pe.bindingsEnabled}function DS(){return Pe.skipHydrationRootTNode!==null}function Aj(t){return Pe.skipHydrationRootTNode===t}function Mj(){Pe.skipHydrationRootTNode=null}function Ve(){return Pe.lFrame.lView}function Dt(){return Pe.lFrame.tView}function Lt(t){return Pe.lFrame.contextLView=t,t[ai]}function Vt(t){return Pe.lFrame.contextLView=null,t}function yn(){let t=IS();for(;t!==null&&t.type===64;)t=t.parent;return t}function IS(){return Pe.lFrame.currentTNode}function kj(){let t=Pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $s(t,e){let n=Pe.lFrame;n.currentTNode=t,n.isParent=e}function k0(){return Pe.lFrame.isParent}function R0(){Pe.lFrame.isParent=!1}function Rj(){return Pe.lFrame.contextLView}function CS(){let t=Pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Oj(t){return Pe.lFrame.bindingIndex=t}function yl(){return Pe.lFrame.bindingIndex++}function TS(t){let e=Pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Nj(){return Pe.lFrame.inI18n}function Pj(t,e){let n=Pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tv(e)}function Fj(){return Pe.lFrame.currentDirectiveIndex}function Tv(t){Pe.lFrame.currentDirectiveIndex=t}function Lj(t){let e=Pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function SS(){return Pe.lFrame.currentQueryIndex}function O0(t){Pe.lFrame.currentQueryIndex=t}function Vj(t){let e=t[ke];return e.type===2?e.declTNode:e.type===1?t[Qn]:null}function AS(t,e,n){if(n&Be.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&Be.Host);)if(r=Vj(o),r===null||(o=o[vl],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Pe.lFrame=MS();return i.currentTNode=e,i.lView=t,!0}function N0(t){let e=MS(),n=t[ke];Pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MS(){let t=Pe.lFrame,e=t===null?null:t.child;return e===null?kS(t):e}function kS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RS(){let t=Pe.lFrame;return Pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OS=RS;function P0(){let t=RS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bj(t){return(Pe.lFrame.contextLView=Dj(t,Pe.lFrame.contextLView))[ai]}function Hs(){return Pe.lFrame.selectedIndex}function Ps(t){Pe.lFrame.selectedIndex=t}function Od(){let t=Pe.lFrame;return S0(t.tView,t.selectedIndex)}function wl(){Pe.lFrame.currentNamespace=bS}function Tm(){jj()}function jj(){Pe.lFrame.currentNamespace=null}function zj(){return Pe.lFrame.currentNamespace}var NS=!0;function Sm(){return NS}function Am(t){NS=t}function Uj(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=pS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Mm(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Uf(t,e,n){PS(t,e,3,n)}function $f(t,e,n,i){(t[xe]&3)===n&&PS(t,e,n,i)}function sv(t,e){let n=t[xe];(n&3)===e&&(n&=16383,n+=1,t[xe]=n)}function PS(t,e,n,i){let r=i!==void 0?t[ol]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[ol]+=65536),(a<o||o==-1)&&($j(t,n,e,l),t[ol]=(t[ol]&4294901760)+l+2),l++}function dT(t,e){Yi(4,t,e);let n=Ge(null);try{e.call(t)}finally{Ge(n),Yi(5,t,e)}}function $j(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[xe]>>14<t[ol]>>16&&(t[xe]&3)===e&&(t[xe]+=16384,dT(a,o)):dT(a,o)}var cl=-1,Fs=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function Hj(t){return t instanceof Fs}function Gj(t){return(t.flags&8)!==0}function qj(t){return(t.flags&16)!==0}function FS(t){return t!==cl}function Xf(t){return t&32767}function Wj(t){return t>>16}function Jf(t,e){let n=Wj(t),i=e;for(;n>0;)i=i[vl],n--;return i}var Sv=!0;function em(t){let e=Sv;return Sv=t,e}var Kj=256,LS=Kj-1,VS=5,Qj=0,Zi={};function Yj(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(bd)&&(i=n[bd]),i==null&&(i=n[bd]=Qj++);let r=i&LS,o=1<<r;e.data[t+(r>>VS)]|=o}function tm(t,e){let n=BS(t,e);if(n!==-1)return n;let i=e[ke];i.firstCreatePass&&(t.injectorIndex=e.length,av(i.data,t),av(e,null),av(i.blueprint,null));let r=F0(t,e),o=t.injectorIndex;if(FS(r)){let s=Xf(r),a=Jf(r,e),l=a[ke].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=r,o}function av(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function F0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=HS(r),i===null)return cl;if(n++,r=r[vl],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return cl}function Av(t,e,n){Yj(t,e,n)}function Zj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(ZT(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function jS(t,e,n){if(n&Be.Optional||t!==void 0)return t;x0(e,"NodeInjector")}function zS(t,e,n,i){if(n&Be.Optional&&i===void 0&&(i=null),!(n&(Be.Self|Be.Host))){let r=t[fl],o=jn(void 0);try{return r?r.get(e,i,n&Be.Optional):GT(e,i,n&Be.Optional)}finally{jn(o)}}return jS(i,e,n)}function US(t,e,n,i=Be.Default,r){if(t!==null){if(e[xe]&2048&&!(i&Be.Self)){let s=t4(t,e,n,i,Zi);if(s!==Zi)return s}let o=$S(t,e,n,i,Zi);if(o!==Zi)return o}return zS(e,n,i,r)}function $S(t,e,n,i,r){let o=Jj(n);if(typeof o=="function"){if(!AS(e,t,i))return i&Be.Host?jS(r,n,i):zS(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Be.Optional))x0(n);else return s}finally{OS()}}else if(typeof o=="number"){let s=null,a=BS(t,e),l=cl,d=i&Be.Host?e[Ri][Qn]:null;for((a===-1||i&Be.SkipSelf)&&(l=a===-1?F0(t,e):e[a+8],l===cl||!hT(i,!1)?a=-1:(s=e[ke],a=Xf(l),e=Jf(l,e)));a!==-1;){let u=e[ke];if(uT(o,a,u.data)){let f=Xj(a,e,n,s,i,d);if(f!==Zi)return f}l=e[a+8],l!==cl&&hT(i,e[ke].data[a+8]===d)&&uT(o,a,e)?(s=u,a=Xf(l),e=Jf(l,e)):a=-1}}return r}function Xj(t,e,n,i,r,o){let s=e[ke],a=s.data[t+8],l=i==null?Im(a)&&Sv:i!=s&&(a.type&3)!==0,d=r&Be.Host&&o===a,u=Hf(a,s,n,l,d);return u!==null?Ls(e,s,u,a):Zi}function Hf(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,u=o>>20,f=i?a:a+u,p=r?a+u:d;for(let g=f;g<p;g++){let v=s[g];if(g<l&&n===v||g>=l&&v.type===n)return g}if(r){let g=s[l];if(g&&So(g)&&g.type===n)return l}return null}function Ls(t,e,n,i){let r=t[n],o=e.data;if(Hj(r)){let s=r;s.resolving&&DB(EB(o[n]));let a=em(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?jn(s.injectImpl):null,u=AS(t,i,Be.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&Uj(n,o[n],e)}finally{d!==null&&jn(d),em(a),s.resolving=!1,OS()}}return r}function Jj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bd)?t[bd]:void 0;return typeof e=="number"?e>=0?e&LS:e4:e}function uT(t,e,n){let i=1<<t;return!!(n[e+(t>>VS)]&i)}function hT(t,e){return!(t&Be.Self)&&!(t&Be.Host&&e)}var ks=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return US(this._tNode,this._lView,e,_m(i),n)}};function e4(){return new ks(yn(),Ve())}function tr(t){return Md(()=>{let e=t.prototype.constructor,n=e[Wf]||Mv(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Wf]||Mv(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Mv(t){return BT(t)?()=>{let e=Mv(Sn(t));return e&&e()}:Rs(t)}function t4(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[xe]&2048&&!(s[xe]&512);){let a=$S(o,s,n,i|Be.Self,Zi);if(a!==Zi)return a;let l=o.parent;if(!l){let d=s[hS];if(d){let u=d.get(n,Zi,i);if(u!==Zi)return u}l=HS(s),s=s[vl]}o=l}return r}function HS(t){let e=t[ke],n=e.type;return n===2?e.declTNode:n===1?t[Qn]:null}function nr(t){return Zj(yn(),t)}function fT(t,e=null,n=null,i){let r=GS(t,e,n,i);return r.resolveInjectorInitializers(),r}function GS(t,e=null,n=null,i,r=new Set){let o=[n||zn,tj(t)];return i=i||(typeof t=="object"?void 0:An(t)),new xd(o,e||Em(),i||null,r)}var kt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return fT({name:""},r,i,"");{let o=i.name??"";return fT({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=yd,e.NULL=new Yf,e.\u0275prov=B({token:e,providedIn:"any",factory:()=>T(KT)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var n4="ngOriginalError";function lv(t){return t[n4]}var kn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lv(e);for(;n&&lv(n);)n=lv(n);return n||null}},qS=new U("",{providedIn:"root",factory:()=>V(kn).handleError.bind(void 0)}),Nd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=i4,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),kv=class extends Nd{constructor(e){super(),this._lView=e}onDestroy(e){return xS(this._lView,e),()=>Ij(this._lView,e)}};function i4(){return new kv(Ve())}function r4(){return xl(yn(),Ve())}function xl(t,e){return new ve(li(t,e))}var ve=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=r4;let t=e;return t})();function o4(t){return t instanceof ve?t.nativeElement:t}var Rv=class extends oe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,dS()&&(this.destroyRef=V(Nd,{optional:!0})??void 0)}emit(e){let n=Ge(null);try{super.next(e)}finally{Ge(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=cv(o),r&&(r=cv(r)),s&&(s=cv(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof qe&&e.add(a),a}};function cv(t){return e=>{setTimeout(t,void 0,e)}}var Te=Rv;function s4(){return this._results[Symbol.iterator]()}var gl=class t{get changes(){return this._changes??=new Te}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=s4)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=PB(e);(this._changesDetected=!NB(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function WS(t){return(t.flags&128)===128}var KS=new Map,a4=0;function l4(){return a4++}function c4(t){KS.set(t[Dm],t)}function d4(t){KS.delete(t[Dm])}var mT="__ngContext__";function Ao(t,e){Ms(e)?(t[mT]=e[Dm],c4(e)):t[mT]=e}function QS(t){return ZS(t[Id])}function YS(t){return ZS(t[Mi])}function ZS(t){for(;t!==null&&!Ur(t);)t=t[Mi];return t}var Ov;function XS(t){Ov=t}function u4(){if(Ov!==void 0)return Ov;if(typeof document<"u")return document;throw new G(210,!1)}var Pd=new U("",{providedIn:"root",factory:()=>h4}),h4="ng",L0=new U(""),Ht=new U("",{providedIn:"platform",factory:()=>"unknown"});var $n=new U(""),Fd=new U("",{providedIn:"root",factory:()=>u4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var f4="h",m4="b";var p4=()=>null;function V0(t,e,n=!1){return p4(t,e,n)}var JS=!1,g4=new U("",{providedIn:"root",factory:()=>JS});var Nf;function _4(){if(Nf===void 0&&(Nf=null,un.trustedTypes))try{Nf=un.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nf}function km(t){return _4()?.createHTML(t)||t}var Pf;function b4(){if(Pf===void 0&&(Pf=null,un.trustedTypes))try{Pf=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pf}function pT(t){return b4()?.createScriptURL(t)||t}var Vr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LT})`}},Nv=class extends Vr{getTypeName(){return"HTML"}},Pv=class extends Vr{getTypeName(){return"Style"}},Fv=class extends Vr{getTypeName(){return"Script"}},Lv=class extends Vr{getTypeName(){return"URL"}},Vv=class extends Vr{getTypeName(){return"ResourceURL"}};function Ni(t){return t instanceof Vr?t.changingThisBreaksApplicationSecurity:t}function Ro(t,e){let n=v4(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${LT})`)}return n===e}function v4(t){return t instanceof Vr&&t.getTypeName()||null}function eA(t){return new Nv(t)}function tA(t){return new Pv(t)}function nA(t){return new Fv(t)}function iA(t){return new Lv(t)}function rA(t){return new Vv(t)}function y4(t){let e=new jv(t);return w4()?new Bv(e):e}var Bv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(km(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},jv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=km(e),n}};function w4(){try{return!!new window.DOMParser().parseFromString(km(""),"text/html")}catch{return!1}}var x4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rm(t){return t=String(t),t.match(x4)?t:"unsafe:"+t}function $r(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ld(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var oA=$r("area,br,col,hr,img,wbr"),sA=$r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aA=$r("rp,rt"),E4=Ld(aA,sA),D4=Ld(sA,$r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),I4=Ld(aA,$r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gT=Ld(oA,D4,I4,E4),lA=$r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),C4=$r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),T4=$r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),S4=Ld(lA,C4,T4),A4=$r("script,style,template"),zv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=R4(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=k4(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=_T(e).toLowerCase();if(!gT.hasOwnProperty(n))return this.sanitizedSomething=!0,!A4.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!S4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;lA[a]&&(l=Rm(l)),this.buf.push(" ",s,'="',bT(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=_T(e).toLowerCase();gT.hasOwnProperty(n)&&!oA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(bT(e))}};function M4(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function k4(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw cA(e);return e}function R4(t){let e=t.firstChild;if(e&&M4(t,e))throw cA(e);return e}function _T(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function cA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var O4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N4=/([^\#-~ |!])/g;function bT(t){return t.replace(/&/g,"&amp;").replace(O4,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(N4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ff;function dA(t,e){let n=null;try{Ff=Ff||y4(t);let i=e?String(e):"";n=Ff.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Ff.getInertBodyElement(i)}while(i!==o);let a=new zv().sanitizeChildren(vT(n)||n);return km(a)}finally{if(n){let i=vT(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function vT(t){return"content"in t&&P4(t)?t.content:null}function P4(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var wn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wn||{});function Hr(t){let e=hA();return e?e.sanitize(wn.URL,t)||"":Ro(t,"URL")?Ni(t):Rm(gm(t))}function F4(t){let e=hA();if(e)return pT(e.sanitize(wn.RESOURCE_URL,t)||"");if(Ro(t,"ResourceURL"))return pT(Ni(t));throw new G(904,!1)}function L4(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?F4:Hr}function uA(t,e,n){return L4(e,n)(t)}function hA(){let t=Ve();return t&&t[ki].sanitizer}var V4=/^>|^->|<!--|-->|--!>|<!-$/g,B4=/(<|>)/g,j4="\u200B$1\u200B";function z4(t){return t.replace(V4,e=>e.replace(B4,j4))}function fA(t){return t instanceof Function?t():t}function U4(t){return(t??V(kt)).get(Ht)==="browser"}var Br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Br||{}),$4;function B0(t,e){return $4(t,e)}function sl(t,e,n,i,r){if(i!=null){let o,s=!1;Ur(i)?o=i:Ms(i)&&(s=!0,i=i[zr]);let a=Ji(i);t===0&&n!==null?r==null?bA(e,n,a):im(e,n,a,r||null,!0):t===1&&n!==null?im(e,n,a,r||null,!0):t===2?o3(e,a,s):t===3&&e.destroyNode(a),o!=null&&a3(e,t,o,n,r)}}function H4(t,e){return t.createText(e)}function G4(t,e,n){t.setValue(e,n)}function q4(t,e){return t.createComment(z4(e))}function mA(t,e,n){return t.createElement(e,n)}function W4(t,e){pA(t,e),e[zr]=null,e[Qn]=null}function K4(t,e,n,i,r,o){i[zr]=r,i[Qn]=e,Nm(t,i,n,1,r,o)}function pA(t,e){e[ki].changeDetectionScheduler?.notify(1),Nm(t,e,e[wt],2,null,null)}function Q4(t){let e=t[Id];if(!e)return dv(t[ke],t);for(;e;){let n=null;if(Ms(e))n=e[Id];else{let i=e[Un];i&&(n=i)}if(!n){for(;e&&!e[Mi]&&e!==t;)Ms(e)&&dv(e[ke],e),e=e[hn];e===null&&(e=t),Ms(e)&&dv(e[ke],e),n=e&&e[Mi]}e=n}}function Y4(t,e,n,i){let r=Un+i,o=n.length;i>0&&(n[r-1][Mi]=e),i<o-Un?(e[Mi]=n[r],WT(n,Un+i,e)):(n.push(e),e[Mi]=null),e[hn]=n;let s=e[Rd];s!==null&&n!==s&&Z4(s,e);let a=e[Lr];a!==null&&a.insertView(t),Cv(e),e[xe]|=128}function Z4(t,e){let n=t[ml],r=e[hn][hn][Ri];e[Ri]!==r&&(t[xe]|=C0.HasTransplantedViews),n===null?t[ml]=[e]:n.push(e)}function gA(t,e){let n=t[ml],i=n.indexOf(e);n.splice(i,1)}function nm(t,e){if(t.length<=Un)return;let n=Un+e,i=t[n];if(i){let r=i[Rd];r!==null&&r!==t&&gA(r,i),e>0&&(t[n-1][Mi]=i[Mi]);let o=Qf(t,Un+e);W4(i[ke],i);let s=o[Lr];s!==null&&s.detachView(o[ke]),i[hn]=null,i[Mi]=null,i[xe]&=-129}return i}function j0(t,e){if(!(e[xe]&256)){let n=e[wt];n.destroyNode&&Nm(t,e,n,3,null,null),Q4(e)}}function dv(t,e){if(e[xe]&256)return;let n=Ge(null);try{e[xe]&=-129,e[xe]|=256,e[Os]&&Fb(e[Os]),J4(t,e),X4(t,e),e[ke].type===1&&e[wt].destroy();let i=e[Rd];if(i!==null&&Ur(e[hn])){i!==e[hn]&&gA(i,e);let r=e[Lr];r!==null&&r.detachView(t)}d4(e)}finally{Ge(n)}}function X4(t,e){let n=t.cleanup,i=e[Dd];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Dd]=null);let r=e[To];if(r!==null){e[To]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function J4(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Fs)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Yi(4,a,l);try{l.call(a)}finally{Yi(5,a,l)}}else{Yi(4,r,o);try{o.call(r)}finally{Yi(5,r,o)}}}}}function _A(t,e,n){return e3(t,e.parent,n)}function e3(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[zr];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Xi.None||o===Xi.Emulated)return null}return li(i,n)}}function im(t,e,n,i,r){t.insertBefore(e,n,i,r)}function bA(t,e,n){t.appendChild(e,n)}function yT(t,e,n,i,r){i!==null?im(t,e,n,i,r):bA(t,e,n)}function t3(t,e,n,i){t.removeChild(e,n,i)}function z0(t,e){return t.parentNode(e)}function n3(t,e){return t.nextSibling(e)}function vA(t,e,n){return r3(t,e,n)}function i3(t,e,n){return t.type&40?li(t,n):null}var r3=i3,wT;function Om(t,e,n,i){let r=_A(t,i,e),o=e[wt],s=i.parent||e[Qn],a=vA(s,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)yT(o,r,n[l],a,!1);else yT(o,r,n,a,!1);wT!==void 0&&wT(o,i,e,n,r)}function Gf(t,e){if(e!==null){let n=e.type;if(n&3)return li(e,t);if(n&4)return Uv(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Gf(t,i);{let r=t[e.index];return Ur(r)?Uv(-1,r):Ji(r)}}else{if(n&32)return B0(e,t)()||Ji(t[e.index]);{let i=yA(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Td(t[Ri]);return Gf(r,i)}else return Gf(t,e.next)}}}return null}function yA(t,e){if(e!==null){let i=t[Ri][Qn],r=e.projection;return i.projection[r]}return null}function Uv(t,e){let n=Un+t+1;if(n<e.length){let i=e[n],r=i[ke].firstChild;if(r!==null)return Gf(i,r)}return e[Ns]}function o3(t,e,n){let i=z0(t,e);i&&t3(t,i,e,n)}function U0(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],l=n.type;if(s&&e===0&&(a&&Ao(Ji(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)U0(t,e,n.child,i,r,o,!1),sl(e,t,r,a,o);else if(l&32){let d=B0(n,i),u;for(;u=d();)sl(e,t,r,u,o);sl(e,t,r,a,o)}else l&16?wA(t,e,i,n,r,o):sl(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Nm(t,e,n,i,r,o){U0(n,i,t.firstChild,e,r,o,!1)}function s3(t,e,n){let i=e[wt],r=_A(t,n,e),o=n.parent||e[Qn],s=vA(o,n,e);wA(i,0,e,n,r,s)}function wA(t,e,n,i,r,o){let s=n[Ri],l=s[Qn].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let u=l[d];sl(e,t,r,u,o)}else{let d=l,u=s[hn];WS(i)&&(d.flags|=128),U0(t,e,d,u,r,o,!0)}}function a3(t,e,n,i,r){let o=n[Ns],s=Ji(n);o!==s&&sl(e,t,i,o,r);for(let a=Un;a<n.length;a++){let l=n[a];Nm(l[ke],l,t,e,i,o)}}function l3(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Br.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Br.Important),t.setStyle(n,i,r,o))}}function c3(t,e,n){t.setAttribute(e,"style",n)}function xA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function EA(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&wv(t,e,i),r!==null&&xA(t,e,r),o!==null&&c3(t,e,o)}var ir={};function ee(t=1){DA(Dt(),Ve(),Hs()+t,!1)}function DA(t,e,n,i){if(!i)if((e[xe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Uf(e,o,n)}else{let o=t.preOrderHooks;o!==null&&$f(e,o,0,n)}Ps(n)}function M(t,e=Be.Default){let n=Ve();if(n===null)return T(t,e);let i=yn();return US(i,n,Sn(t),e)}function Pm(){let t="invalid";throw new Error(t)}function IA(t,e,n,i,r,o){let s=Ge(null);try{let a=null;r&Q.SignalBased&&(a=e[i][nf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Q.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):mS(e,a,i,o)}finally{Ge(s)}}function d3(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ps(~r);else{let o=r,s=n[++i],a=n[++i];Pj(s,o);let l=e[o];a(2,l)}}}finally{Ps(-1)}}function Fm(t,e,n,i,r,o,s,a,l,d,u){let f=e.blueprint.slice();return f[zr]=r,f[xe]=i|4|128|8|64,(d!==null||t&&t[xe]&2048)&&(f[xe]|=2048),wS(f),f[hn]=f[vl]=t,f[ai]=n,f[ki]=s||t&&t[ki],f[wt]=a||t&&t[wt],f[fl]=l||t&&t[fl]||null,f[Qn]=o,f[Dm]=l4(),f[Ed]=u,f[hS]=d,f[Ri]=e.type==2?t[Ri]:f,f}function El(t,e,n,i,r){let o=t.data[e];if(o===null)o=u3(t,e,n,i,r),Nj()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=kj();o.injectorIndex=s===null?-1:s.injectorIndex}return $s(o,!0),o}function u3(t,e,n,i,r){let o=IS(),s=k0(),a=s?o:o&&o.parent,l=t.data[e]=_3(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function CA(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function TA(t,e,n,i,r){let o=Hs(),s=i&2;try{Ps(-1),s&&e.length>Mn&&DA(t,e,Mn,!1),Yi(s?2:0,r),n(i,r)}finally{Ps(o),Yi(s?3:1,r)}}function $0(t,e,n){if(T0(e)){let i=Ge(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Ge(i)}}}function H0(t,e,n){ES()&&(E3(t,e,n,li(n,e)),(n.flags&64)===64&&MA(t,e,n))}function G0(t,e,n=li){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function SA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=q0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function q0(t,e,n,i,r,o,s,a,l,d,u){let f=Mn+i,p=f+r,g=h3(f,p),v=typeof d=="function"?d():d;return g[ke]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function h3(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:ir);return n}function f3(t,e,n,i){let o=i.get(g4,JS)||n===Xi.ShadowDom,s=t.selectRootElement(e,o);return m3(s),s}function m3(t){p3(t)}var p3=()=>null;function g3(t,e,n,i){let r=OA(e);r.push(n),t.firstCreatePass&&NA(t).push(i,r.length-1)}function _3(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return DS()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xT(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=Q.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(r!==null){if(!r.hasOwnProperty(o))continue;d=r[o]}t===0?ET(i,n,d,a,l):ET(i,n,d,a)}return i}function ET(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function b3(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,d=null;for(let u=i;u<r;u++){let f=o[u],p=n?n.get(f):null,g=p?p.inputs:null,v=p?p.outputs:null;l=xT(0,f.inputs,u,l,g),d=xT(1,f.outputs,u,d,v);let x=l!==null&&s!==null&&!D0(e)?N3(l,u,s):null;a.push(x)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function v3(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Lm(t,e,n,i,r,o,s,a){let l=li(e,n),d=e.inputs,u;!a&&d!=null&&(u=d[i])?(K0(t,n,u,i,r),Im(e)&&y3(n,e.index)):e.type&3?(i=v3(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function y3(t,e){let n=ko(e,t);n[xe]&16||(n[xe]|=64)}function W0(t,e,n,i){if(ES()){let r=i===null?null:{"":-1},o=I3(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&AA(t,e,n,s,r,a),r&&C3(n,i,r)}n.mergedAttrs=wd(n.mergedAttrs,n.attrs)}function AA(t,e,n,i,r,o){for(let d=0;d<i.length;d++)Av(tm(n,e),t,i[d].type);S3(n,t.data.length,i.length);for(let d=0;d<i.length;d++){let u=i[d];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=CA(t,e,i.length,null);for(let d=0;d<i.length;d++){let u=i[d];n.mergedAttrs=wd(n.mergedAttrs,u.hostAttrs),A3(t,n,e,l,u),T3(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}b3(t,n,o)}function w3(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;x3(s)!=a&&s.push(a),s.push(n,i,o)}}function x3(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function E3(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Im(n)&&M3(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||tm(n,e),Ao(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],d=Ls(e,t,a,n);if(Ao(d,e),s!==null&&O3(e,a-r,d,l,n,s),So(l)){let u=ko(n.index,e);u[ai]=Ls(e,t,a,n)}}}function MA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Fj();try{Ps(o);for(let a=i;a<r;a++){let l=t.data[a],d=e[a];Tv(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&D3(l,d)}}finally{Ps(-1),Tv(s)}}function D3(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function I3(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(JT(e,s.selectors,!1))if(i||(i=[]),So(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;$v(t,e,l)}else i.unshift(s),$v(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function $v(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function C3(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new G(-301,!1);i.push(e[r],o)}}}function T3(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;So(e)&&(n[""]=t)}}function S3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function A3(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Rs(r.type,!0)),s=new Fs(o,So(r),M);t.blueprint[i]=s,n[i]=s,w3(t,e,i,CA(t,n,r.hostVars,ir),r)}function M3(t,e,n){let i=li(e,t),r=SA(n),o=t[ki].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Vm(t,Fm(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function k3(t,e,n,i,r,o){let s=li(t,e);R3(e[wt],s,o,t.value,n,i,r)}function R3(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?gm(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function O3(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],u=s[a++],f=s[a++];IA(i,n,l,d,u,f)}}function N3(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function kA(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function RA(t,e){let n=t.contentQueries;if(n!==null){let i=Ge(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];O0(o),a.contentQueries(2,e[s],s)}}}finally{Ge(i)}}}function Vm(t,e){return t[Id]?t[lT][Mi]=e:t[Id]=e,t[lT]=e,e}function Hv(t,e,n){O0(0);let i=Ge(null);try{e(t,n)}finally{Ge(i)}}function OA(t){return t[Dd]||(t[Dd]=[])}function NA(t){return t.cleanup||(t.cleanup=[])}function PA(t,e){let n=t[fl],i=n?n.get(kn,null):null;i&&i.handleError(e)}function K0(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],d=e[s],u=t.data[s];IA(u,d,i,a,l,r)}}function P3(t,e,n){let i=vS(e,t);G4(t[wt],i,n)}function F3(t,e){let n=ko(e,t),i=n[ke];L3(i,n);let r=n[zr];r!==null&&n[Ed]===null&&(n[Ed]=V0(r,n[fl])),Q0(i,n,n[ai])}function L3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Q0(t,e,n){N0(e);try{let i=t.viewQuery;i!==null&&Hv(1,i,n);let r=t.template;r!==null&&TA(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Lr]?.finishViewCreation(t),t.staticContentQueries&&RA(t,e),t.staticViewQueries&&Hv(2,t.viewQuery,n);let o=t.components;o!==null&&V3(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[xe]&=-5,P0()}}function V3(t,e){for(let n=0;n<e.length;n++)F3(t,e[n])}function FA(t,e,n,i){let r=Ge(null);try{let o=e.tView,a=t[xe]&4096?4096:16,l=Fm(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=t[e.index];l[Rd]=d;let u=t[Lr];return u!==null&&(l[Lr]=u.createEmbeddedView(o)),Q0(o,l,n),l}finally{Ge(r)}}function B3(t,e){let n=Un+e;if(n<t.length)return t[n]}function Gv(t,e){return!e||e.firstChild===null||WS(t)}function LA(t,e,n,i=!0){let r=e[ke];if(Y4(r,e,t,n),i){let s=Uv(n,t),a=e[wt],l=z0(a,t[Ns]);l!==null&&K4(r,t[Qn],a,e,l,s)}let o=e[Ed];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function j3(t,e){let n=nm(t,e);return n!==void 0&&j0(n[ke],n),n}function rm(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Ji(o)),Ur(o)&&z3(o,i);let s=n.type;if(s&8)rm(t,e,n.child,i);else if(s&32){let a=B0(n,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=yA(e,n);if(Array.isArray(a))i.push(...a);else{let l=Td(e[Ri]);rm(l[ke],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function z3(t,e){for(let n=Un;n<t.length;n++){let i=t[n],r=i[ke].firstChild;r!==null&&rm(i[ke],i,r,e)}t[Ns]!==t[zr]&&e.push(t[Ns])}var VA=[];function U3(t){return t[Os]??$3(t)}function $3(t){let e=VA.pop()??Object.create(G3);return e.lView=t,e}function H3(t){t.lView[Os]!==t&&(t.lView=null,VA.push(t))}var G3=ze(H({},Ob),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cd(t.lView)},consumerOnSignalRead(){this.lView[Os]=this}}),BA=100;function jA(t,e=!0,n=0){let i=t[ki],r=i.rendererFactory,o=!1;o||r.begin?.();try{q3(t,n)}catch(s){throw e&&PA(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function q3(t,e){qv(t,e);let n=0;for(;M0(t);){if(n===BA)throw new G(103,!1);n++,qv(t,1)}}function W3(t,e,n,i){let r=e[xe];if((r&256)===256)return;let o=!1;!o&&e[ki].inlineEffectRunner?.flush(),N0(e);let s=null,a=null;!o&&K3(t)&&(a=U3(e),s=Nb(a));try{wS(e),Oj(t.bindingStartIndex),n!==null&&TA(t,e,n,2,i);let l=(r&3)===3;if(!o)if(l){let f=t.preOrderCheckHooks;f!==null&&Uf(e,f,null)}else{let f=t.preOrderHooks;f!==null&&$f(e,f,0,null),sv(e,0)}if(Q3(e),zA(e,0),t.contentQueries!==null&&RA(t,e),!o)if(l){let f=t.contentCheckHooks;f!==null&&Uf(e,f)}else{let f=t.contentHooks;f!==null&&$f(e,f,1),sv(e,1)}d3(t,e);let d=t.components;d!==null&&$A(e,d,0);let u=t.viewQuery;if(u!==null&&Hv(2,u,i),!o)if(l){let f=t.viewCheckHooks;f!==null&&Uf(e,f)}else{let f=t.viewHooks;f!==null&&$f(e,f,2),sv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zf]){for(let f of e[zf])f();e[zf]=null}o||(e[xe]&=-73)}catch(l){throw Cd(e),l}finally{a!==null&&(Pb(a,s),H3(a)),P0()}}function K3(t){return t.type!==2}function zA(t,e){for(let n=QS(t);n!==null;n=YS(n))for(let i=Un;i<n.length;i++){let r=n[i];UA(r,e)}}function Q3(t){for(let e=QS(t);e!==null;e=YS(e)){if(!(e[xe]&C0.HasTransplantedViews))continue;let n=e[ml];for(let i=0;i<n.length;i++){let r=n[i],o=r[hn];Ej(r)}}}function Y3(t,e,n){let i=ko(e,t);UA(i,n)}function UA(t,e){A0(t)&&qv(t,e)}function qv(t,e){let i=t[ke],r=t[xe],o=t[Os],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&rf(o)),o&&(o.dirty=!1),t[xe]&=-9217,s)W3(i,t,i.template,t[ai]);else if(r&8192){zA(t,1);let a=i.components;a!==null&&$A(t,a,1)}}function $A(t,e,n){for(let i=0;i<e.length;i++)Y3(t,e[i],n)}function Y0(t){for(t[ki].changeDetectionScheduler?.notify();t;){t[xe]|=64;let e=Td(t);if(mj(t)&&!e)return t;t=e}return null}var Vs=class{get rootNodes(){let e=this._lView,n=e[ke];return rm(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(e){this._lView[ai]=e}get destroyed(){return(this._lView[xe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[hn];if(Ur(e)){let n=e[Zf],i=n?n.indexOf(this):-1;i>-1&&(nm(e,i),Qf(n,i))}this._attachedToViewContainer=!1}j0(this._lView[ke],this._lView)}onDestroy(e){xS(this._lView,e)}markForCheck(){Y0(this._cdRefInjectingView||this._lView)}detach(){this._lView[xe]&=-129}reattach(){Cv(this._lView),this._lView[xe]|=128}detectChanges(){this._lView[xe]|=1024,jA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,pA(this._lView[ke],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e,Cv(this._lView)}},Kn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=J3;let t=e;return t})(),Z3=Kn,X3=class extends Z3{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=FA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Vs(r)}};function J3(){return Bm(yn(),Ve())}function Bm(t,e){return t.type&4?new X3(e,t,xl(t,e)):null}var Zie=new RegExp(`^(\\d+)*(${m4}|${f4})*(.*)`);var ez=()=>null;function Wv(t,e){return ez(t,e)}var _l=class{},Kv=class{},om=class{};function tz(t){let e=Error(`No component factory found for ${An(t)}.`);return e[nz]=t,e}var nz="ngComponent";var Qv=class{resolveComponentFactory(e){throw tz(e)}},Gs=(()=>{let e=class e{};e.NULL=new Qv;let t=e;return t})(),Bs=class{},Oo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>iz();let t=e;return t})();function iz(){let t=Ve(),e=yn(),n=ko(e.index,t);return(Ms(n)?n:t)[wt]}var rz=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),uv={};var DT=new Set;function Dl(t){DT.has(t)||(DT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function IT(...t){}function oz(){let t=typeof un.requestAnimationFrame=="function",e=un[t?"requestAnimationFrame":"setTimeout"],n=un[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var J=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=oz().nativeRequestAnimationFrame,lz(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,sz,IT,IT);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},sz={};function Z0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function az(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(un,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yv(t),t.isCheckStableRunning=!0,Z0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yv(t))}function lz(t){let e=()=>{az(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(cz(a))return n.invokeTask(r,o,s,a);try{return CT(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),TT(t)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return CT(t),n.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),TT(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Yv(t),Z0(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Yv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function CT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TT(t){t._nesting--,Z0(t)}var Zv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function cz(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function dz(t="zone.js",e){return t==="noop"?new Zv:t==="zone.js"?new J(e):t}var al=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(al||{}),uz={destroy(){}};function jm(t,e){!e&&uS(jm);let n=e?.injector??V(kt);if(!U4(n))return uz;Dl("NgAfterNextRender");let i=n.get(X0),r=i.handler??=new Jv,o=e?.phase??al.MixedReadWrite,s=()=>{r.unregister(l),a()},a=n.get(Nd).onDestroy(s),l=jr(n,()=>new Xv(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var Xv=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=V(J),this.errorHandler=V(kn,{optional:!0}),V(_l,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Jv=class{constructor(){this.executingCallbacks=!1,this.buckets={[al.EarlyRead]:new Set,[al.Write]:new Set,[al.MixedReadWrite]:new Set,[al.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},X0=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sm(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=_v(r,a);else if(o==2){let l=a,d=e[++s];i=_v(i,l+": "+d+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var am=class extends Gs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fr(e);return new js(n,this.ngModule)}};function ST(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function hz(t){let e=t.toLowerCase();return e==="svg"?bS:e==="math"?bj:null}var e0=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=_m(i);let r=this.injector.get(e,uv,i);return r!==uv||n===uv?r:this.parentInjector.get(e,n,i)}},js=class extends om{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=ST(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return ST(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=YB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ge(null);try{r=r||this.ngModule;let s=r instanceof nn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new e0(e,s):e,l=a.get(Bs,null);if(l===null)throw new G(407,!1);let d=a.get(rz,null),u=a.get(X0,null),f=a.get(_l,null),p={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:f},g=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",x=i?f3(g,i,this.componentDef.encapsulation,a):mA(g,v,hz(v)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let L=null;x!==null&&(L=V0(x,a,!0));let q=q0(0,null,null,1,0,null,null,null,null,null,null),j=Fm(null,q,null,I,null,null,p,g,a,null,L);N0(j);let te,he;try{let ae=this.componentDef,E,b=null;ae.findHostDirectiveDefs?(E=[],b=new Map,ae.findHostDirectiveDefs(ae,E,b),E.push(ae)):E=[ae];let y=fz(j,x),D=mz(y,x,ae,E,j,p,g);he=S0(q,Mn),x&&_z(g,ae,x,i),n!==void 0&&bz(he,this.ngContentSelectors,n),te=gz(D,ae,E,b,j,[vz]),Q0(q,j,null)}finally{P0()}return new t0(this.componentType,te,xl(he,j),j,he)}finally{Ge(o)}}},t0=class extends Kv{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vs(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;K0(o[ke],o,r,e,n),this.previousInputValues.set(e,n);let s=ko(this._tNode.index,o);Y0(s)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fz(t,e){let n=t[ke],i=Mn;return t[i]=e,El(n,i,2,"#host",null)}function mz(t,e,n,i,r,o,s){let a=r[ke];pz(i,t,e,s);let l=null;e!==null&&(l=V0(e,r[fl]));let d=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=Fm(r,SA(n),null,u,r[t.index],t,o,d,null,null,l);return a.firstCreatePass&&$v(a,t,i.length-1),Vm(r,f),r[t.index]=f}function pz(t,e,n,i){for(let r of t)e.mergedAttrs=wd(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(sm(e,e.mergedAttrs,!0),n!==null&&EA(i,n,e))}function gz(t,e,n,i,r,o){let s=yn(),a=r[ke],l=li(s,r);AA(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let f=s.directiveStart+u,p=Ls(r,a,f,s);Ao(p,r)}MA(a,r,s),l&&Ao(l,r);let d=Ls(r,a,s.directiveStart+s.componentOffset,s);if(t[ai]=r[ai]=d,o!==null)for(let u of o)u(d,e);return $0(a,s,r),d}function _z(t,e,n,i){if(i)wv(t,n,["ng-version","17.3.9"]);else{let{attrs:r,classes:o}=ZB(e.selectors[0]);r&&wv(t,n,r),o&&o.length>0&&xA(t,n,o.join(" "))}}function bz(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function vz(){let t=yn();Mm(Ve()[ke],t)}var Hn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yz;let t=e;return t})();function yz(){let t=yn();return GA(t,Ve())}var wz=Hn,HA=class extends wz{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){let e=F0(this._hostTNode,this._hostLView);if(FS(e)){let n=Jf(e,this._hostLView),i=Xf(e),r=n[ke].data[i+8];return new ks(r,n)}else return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=AT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Wv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,Gv(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!fj(e),a;if(s)a=n;else{let v=n||{};a=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let l=s?e:new js(Fr(e)),d=i||this.parentInjector;if(!o&&l.ngModule==null){let x=(s?d:this.parentInjector).get(nn,null);x&&(o=x)}let u=Fr(l.componentType??{}),f=Wv(this._lContainer,u?.id??null),p=f?.firstChild??null,g=l.create(d,r,p,o);return this.insertImpl(g.hostView,a,Gv(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(xj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[hn],d=new HA(l,l[Qn],l[hn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return LA(s,r,o,i),e.attachToViewContainerRef(),WT(hv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=AT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=nm(this._lContainer,n);i&&(Qf(hv(this._lContainer),n),j0(i[ke],i))}detach(e){let n=this._adjustIndex(e,-1),i=nm(this._lContainer,n);return i&&Qf(hv(this._lContainer),n)!=null?new Vs(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function AT(t){return t[Zf]}function hv(t){return t[Zf]||(t[Zf]=[])}function GA(t,e){let n,i=e[t.index];return Ur(i)?n=i:(n=kA(i,e,null,t),e[t.index]=n,Vm(e,n)),Ez(n,e,t,i),new HA(n,t,e)}function xz(t,e){let n=t[wt],i=n.createComment(""),r=li(e,t),o=z0(n,r);return im(n,o,i,n3(n,r),!1),i}var Ez=Cz,Dz=()=>!1;function Iz(t,e,n){return Dz(t,e,n)}function Cz(t,e,n,i){if(t[Ns])return;let r;n.type&8?r=Ji(i):r=xz(e,n),t[Ns]=r}var n0=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},i0=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)J0(e,n).matches!==null&&this.queries[n].setDirty()}},lm=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=Nz(e):this.predicate=e}},r0=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},o0=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,Tz(n,o)),this.matchTNodeWithReadOption(e,n,Hf(n,e,o,!1,!1))}else i===Kn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Hf(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ve||r===Hn||r===Kn&&n.type&4)this.addMatch(n.index,-2);else{let o=Hf(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Tz(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function Sz(t,e){return t.type&11?xl(t,e):t.type&4?Bm(t,e):null}function Az(t,e,n,i){return n===-1?Sz(e,t):n===-2?Mz(t,e,i):Ls(t,t[ke],n,e)}function Mz(t,e,n){if(n===ve)return xl(e,t);if(n===Kn)return Bm(e,t);if(n===Hn)return GA(e,t)}function qA(t,e,n,i){let r=e[Lr].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let u=o[d];a.push(Az(e,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function s0(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=qA(t,e,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],u=e[-l];for(let f=Un;f<u.length;f++){let p=u[f];p[Rd]===p[hn]&&s0(p[ke],p,d,i)}if(u[ml]!==null){let f=u[ml];for(let p=0;p<f.length;p++){let g=f[p];s0(g[ke],g,d,i)}}}}}return i}function kz(t,e){return t[Lr].queries[e].queryList}function WA(t,e,n){let i=new gl((n&4)===4);return g3(t,e,i,i.destroy),(e[Lr]??=new i0).queries.push(new n0(i))-1}function Rz(t,e,n){let i=Dt();return i.firstCreatePass&&(KA(i,new lm(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),WA(i,Ve(),e)}function Oz(t,e,n,i){let r=Dt();if(r.firstCreatePass){let o=yn();KA(r,new lm(e,n,i),o.index),Pz(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return WA(r,Ve(),n)}function Nz(t){return t.split(",").map(e=>e.trim())}function KA(t,e,n){t.queries===null&&(t.queries=new r0),t.queries.track(new o0(e,n))}function Pz(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function J0(t,e){return t.queries.getByIndex(e)}function Fz(t,e){let n=t[ke],i=J0(n,e);return i.crossesNgTemplate?s0(n,t,e,[]):qA(n,t,i,e)}function zm(t){return typeof t=="function"&&t[nf]!==void 0}function QA(t){return zm(t)&&typeof t.set=="function"}function Lz(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(zz))}return o}return cm.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(d=>{r.template=d}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let d=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((f,p)=>{a.push(""),s.push(i(f).then(g=>{a[d+p]=g,u.splice(u.indexOf(f),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(d=>{a.push(d),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>Uz(o));e.push(l)}),Bz(),Promise.all(e).then(()=>{})}var cm=new Map,Vz=new Set;function Bz(){let t=cm;return cm=new Map,t}function jz(){return cm.size===0}function zz(t){return typeof t=="string"?t:t.text()}function Uz(t){Vz.delete(t)}function $z(t){return Object.getPrototypeOf(t.prototype).constructor}function Xt(t){let e=$z(t.type),n=!0,i=[t];for(;e;){let r;if(So(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Lf(t.inputs),s.inputTransforms=Lf(t.inputTransforms),s.declaredInputs=Lf(t.declaredInputs),s.outputs=Lf(t.outputs);let a=r.hostBindings;a&&Kz(t,a);let l=r.viewQuery,d=r.contentQueries;if(l&&qz(t,l),d&&Wz(t,d),Hz(t,r),pB(t.outputs,r.outputs),So(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Xt&&(n=!1)}}e=Object.getPrototypeOf(e)}Gz(i)}function Hz(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function Gz(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=wd(r.hostAttrs,n=wd(n,r.hostAttrs))}}function Lf(t){return t===dl?{}:t===zn?[]:t}function qz(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function Wz(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function Kz(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function fn(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Mo=class{},Sd=class{};var dm=class extends Mo{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new am(this);let r=iS(e);this._bootstrapComponents=fA(r.bootstrap),this._r3Injector=GS(e,n,[{provide:Mo,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver},...i],An(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},um=class extends Sd{constructor(e){super(),this.moduleType=e}create(e){return new dm(this.moduleType,e,[])}};function Qz(t,e,n){return new dm(t,e,n)}var a0=class extends Mo{constructor(e){super(),this.componentFactoryResolver=new am(this),this.instance=null;let n=new xd([...e.providers,{provide:Mo,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver}],e.parent||Em(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Um(t,e,n=null){return new a0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Vd=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YA(t){return Zz(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Yz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function Zz(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Xz(t,e,n){return t[e]=n}function Gr(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Jz(t){return(t.flags&32)===32}function eU(t,e,n,i,r,o,s,a,l){let d=e.consts,u=El(e,t,4,s||null,pl(d,a));W0(e,n,u,pl(d,l)),Mm(e,u);let f=u.tView=q0(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function Ae(t,e,n,i,r,o,s,a){let l=Ve(),d=Dt(),u=t+Mn,f=d.firstCreatePass?eU(u,d,l,e,n,i,r,o,s):d.data[u];$s(f,!1);let p=tU(d,l,f,t);Sm()&&Om(d,l,p,f),Ao(p,l);let g=kA(p,l,p,f);return l[u]=g,Vm(l,g),Iz(g,f,l),Cm(f)&&H0(d,l,f),s!=null&&G0(l,f,a),Ae}var tU=nU;function nU(t,e,n,i){return Am(!0),e[wt].createComment("")}function ht(t,e,n,i){let r=Ve(),o=yl();if(Gr(r,o,e)){let s=Dt(),a=Od();k3(a,r,t,e,n,i)}return ht}function ey(t,e,n,i){return Gr(t,yl(),n)?e+gm(n)+i:ir}function Vf(t,e){return t<<17|e<<2}function zs(t){return t>>17&32767}function iU(t){return(t&2)==2}function rU(t,e){return t&131071|e<<17}function l0(t){return t|2}function bl(t){return(t&131068)>>2}function fv(t,e){return t&-131069|e<<2}function oU(t){return(t&1)===1}function c0(t){return t|1}function sU(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=zs(s),l=bl(s);t[i]=n;let d=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||kd(f,u)>0)&&(d=!0)}else u=n;if(r)if(l!==0){let p=zs(t[a+1]);t[i+1]=Vf(p,a),p!==0&&(t[p+1]=fv(t[p+1],i)),t[a+1]=rU(t[a+1],i)}else t[i+1]=Vf(a,0),a!==0&&(t[a+1]=fv(t[a+1],i)),a=i;else t[i+1]=Vf(l,0),a===0?a=i:t[l+1]=fv(t[l+1],i),l=i;d&&(t[i+1]=l0(t[i+1])),MT(t,u,i,!0),MT(t,u,i,!1),aU(e,u,t,i,o),s=Vf(a,l),o?e.classBindings=s:e.styleBindings=s}function aU(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&kd(o,e)>=0&&(n[i+1]=c0(n[i+1]))}function MT(t,e,n,i){let r=t[n+1],o=e===null,s=i?zs(r):bl(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];lU(l,e)&&(a=!0,t[s+1]=i?c0(d):l0(d)),s=i?zs(d):bl(d)}a&&(t[n+1]=i?l0(r):c0(r))}function lU(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?kd(t,e)>=0:!1}var Ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cU(t){return t.substring(Ai.key,Ai.keyEnd)}function dU(t){return uU(t),ZA(t,XA(t,0,Ai.textEnd))}function ZA(t,e){let n=Ai.textEnd;return n===e?-1:(e=Ai.keyEnd=hU(t,Ai.key=e,n),XA(t,e,n))}function uU(t){Ai.key=0,Ai.keyEnd=0,Ai.value=0,Ai.valueEnd=0,Ai.textEnd=t.length}function XA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hU(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function De(t,e,n){let i=Ve(),r=yl();if(Gr(i,r,e)){let o=Dt(),s=Od();Lm(o,s,i,t,e,i[wt],n,!1)}return De}function d0(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";K0(t,n,o[s],s,i)}function Xe(t,e){return fU(t,e,null,!0),Xe}function Pi(t){eM(vU,JA,t,!0)}function JA(t,e){for(let n=dU(e);n>=0;n=ZA(e,n))vm(t,cU(e),!0)}function fU(t,e,n,i){let r=Ve(),o=Dt(),s=TS(2);if(o.firstUpdatePass&&nM(o,t,s,i),e!==ir&&Gr(r,s,e)){let a=o.data[Hs()];iM(o,a,r,r[wt],t,r[s+1]=wU(e,n),i,s)}}function eM(t,e,n,i){let r=Dt(),o=TS(2);r.firstUpdatePass&&nM(r,null,o,i);let s=Ve();if(n!==ir&&Gr(s,o,n)){let a=r.data[Hs()];if(rM(a,i)&&!tM(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=_v(l,n||"")),d0(r,a,s,n,i)}else yU(r,a,s,s[wt],s[o+1],s[o+1]=bU(t,e,n),i,o)}}function tM(t,e){return e>=t.expandoStartIndex}function nM(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[Hs()],s=tM(t,n);rM(o,i)&&e===null&&!s&&(e=!1),e=mU(r,o,e,i),sU(r,o,e,n,s,i)}}function mU(t,e,n,i){let r=Lj(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=mv(null,t,e,n,i),n=Ad(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=mv(r,t,e,n,i),o===null){let l=pU(t,e,i);l!==void 0&&Array.isArray(l)&&(l=mv(null,t,e,l[1],i),l=Ad(l,e.attrs,i),gU(t,e,i,l))}else o=_U(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function pU(t,e,n){let i=n?e.classBindings:e.styleBindings;if(bl(i)!==0)return t[zs(i)]}function gU(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[zs(r)]=i}function _U(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Ad(i,s,n)}return Ad(i,e.attrs,n)}function mv(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Ad(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Ad(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vm(t,s,n?!0:e[++o]))}return t===void 0?null:t}function bU(t,e,n){if(n==null||n==="")return zn;let i=[],r=Ni(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function vU(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&vm(t,i,n)}function yU(t,e,n,i,r,o,s,a){r===ir&&(r=zn);let l=0,d=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let p=l<r.length?r[l+1]:void 0,g=d<o.length?o[d+1]:void 0,v=null,x;u===f?(l+=2,d+=2,p!==g&&(v=f,x=g)):f===null||u!==null&&u<f?(l+=2,v=u):(d+=2,v=f,x=g),v!==null&&iM(t,e,n,i,v,x,s,a),u=l<r.length?r[l]:null,f=d<o.length?o[d]:null}}function iM(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],u=oU(d)?kT(l,e,n,r,bl(d),s):void 0;if(!hm(u)){hm(o)||iU(d)&&(o=kT(l,null,n,r,a,s));let f=vS(Hs(),n);l3(i,s,f,r,o)}}function kT(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let l=t[r],d=Array.isArray(l),u=d?l[1]:l,f=u===null,p=n[r+1];p===ir&&(p=f?zn:void 0);let g=f?rv(p,i):u===i?p:void 0;if(d&&!hm(g)&&(g=rv(l,i)),hm(g)&&(a=g,s))return a;let v=t[r+1];r=s?zs(v):bl(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=rv(l,i))}return a}function hm(t){return t!==void 0}function wU(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=An(Ni(t)))),t}function rM(t,e){return(t.flags&(e?8:16))!==0}function oM(t,e,n){let i=Ve(),r=ey(i,t,e,n);eM(vm,JA,r,!0)}function It(t,e,n){Dl("NgControlFlow");let i=Ve(),r=yl(),o=xU(i,Mn+t),s=0;if(Gr(i,r,e)){let a=Ge(null);try{if(j3(o,s),e!==-1){let l=EU(i[ke],Mn+e),d=Wv(o,l.tView.ssrId),u=FA(i,l,n,{dehydratedView:d});LA(o,u,s,Gv(l,d))}}finally{Ge(a)}}else{let a=B3(o,s);a!==void 0&&(a[ai]=n)}}function xU(t,e){return t[e]}function EU(t,e){return S0(t,e)}function DU(t,e,n,i,r,o){let s=e.consts,a=pl(s,r),l=El(e,t,2,i,a);return W0(e,n,l,pl(s,o)),l.attrs!==null&&sm(l,l.attrs,!1),l.mergedAttrs!==null&&sm(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function F(t,e,n,i){let r=Ve(),o=Dt(),s=Mn+t,a=r[wt],l=o.firstCreatePass?DU(s,o,r,e,n,i):o.data[s],d=IU(o,r,l,a,e,t);r[s]=d;let u=Cm(l);return $s(l,!0),EA(a,d,l),!Jz(l)&&Sm()&&Om(o,r,d,l),Cj()===0&&Ao(d,r),Tj(),u&&(H0(o,r,l),$0(o,l,r)),i!==null&&G0(r,l),F}function P(){let t=yn();k0()?R0():(t=t.parent,$s(t,!1));let e=t;Aj(e)&&Mj(),Sj();let n=Dt();return n.firstCreatePass&&(Mm(n,t),T0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Gj(e)&&d0(n,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&qj(e)&&d0(n,e,Ve(),e.stylesWithoutHost,!1),P}function be(t,e,n,i){return F(t,e,n,i),P(),be}var IU=(t,e,n,i,r,o)=>(Am(!0),mA(i,r,zj()));function CU(t,e,n,i,r){let o=e.consts,s=pl(o,i),a=El(e,t,8,"ng-container",s);s!==null&&sm(a,s,!0);let l=pl(o,r);return W0(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function $m(t,e,n){let i=Ve(),r=Dt(),o=t+Mn,s=r.firstCreatePass?CU(o,r,i,e,n):r.data[o];$s(s,!0);let a=TU(r,i,s,t);return i[o]=a,Sm()&&Om(r,i,a,s),Ao(a,i),Cm(s)&&(H0(r,i,s),$0(r,s,i)),n!=null&&G0(i,s),$m}function Hm(){let t=yn(),e=Dt();return k0()?R0():(t=t.parent,$s(t,!1)),e.firstCreatePass&&(Mm(e,t),T0(t)&&e.queries.elementEnd(t)),Hm}var TU=(t,e,n,i)=>(Am(!0),q4(e[wt],""));function mn(){return Ve()}function qr(t,e,n){let i=Ve(),r=yl();if(Gr(i,r,e)){let o=Dt(),s=Od();Lm(o,s,i,t,e,i[wt],n,!0)}return qr}var fm="en-US";var SU=fm;function AU(t){typeof t=="string"&&(SU=t.toLowerCase().replace(/_/g,"-"))}function Re(t,e,n,i){let r=Ve(),o=Dt(),s=yn();return sM(o,r,r[wt],s,t,e,i),Re}function MU(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Dd],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function sM(t,e,n,i,r,o,s){let a=Cm(i),d=t.firstCreatePass&&NA(t),u=e[ai],f=OA(e),p=!0;if(i.type&3||s){let x=li(i,e),I=s?s(x):x,L=f.length,q=s?te=>s(Ji(te[i.index])):i.index,j=null;if(!s&&a&&(j=MU(t,e,r,i.index)),j!==null){let te=j.__ngLastListenerFn__||j;te.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,p=!1}else{o=OT(i,e,u,o,!1);let te=n.listen(I,r,o);f.push(o,te),d&&d.push(r,q,L,L+1)}}else o=OT(i,e,u,o,!1);let g=i.outputs,v;if(p&&g!==null&&(v=g[r])){let x=v.length;if(x)for(let I=0;I<x;I+=2){let L=v[I],q=v[I+1],he=e[L][q].subscribe(o),ae=f.length;f.push(o,he),d&&d.push(r,i.index,ae,-(ae+1))}}}function RT(t,e,n,i){let r=Ge(null);try{return Yi(6,e,n),n(i)!==!1}catch(o){return PA(t,o),!1}finally{Yi(7,e,n),Ge(r)}}function OT(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?ko(t.index,e):e;Y0(a);let l=RT(e,n,i,s),d=o.__ngNextListenerFn__;for(;d;)l=RT(e,n,d,s)&&l,d=d.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function Oe(t=1){return Bj(t)}function kU(t,e){let n=null,i=GB(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?JT(t,o,!0):KB(i,o))return r}return n}function rn(t){let e=Ve()[Ri][Qn];if(!e.projection){let n=t?t.length:1,i=e.projection=FB(n,null),r=i.slice(),o=e.child;for(;o!==null;){let s=t?kU(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function tt(t,e=0,n){let i=Ve(),r=Dt(),o=El(r,Mn+t,16,null,n||null);o.projection===null&&(o.projection=e),R0(),(!i[Ed]||DS())&&(o.flags&32)!==32&&s3(r,i,o)}function Wr(t,e,n){return aM(t,"",e,"",n),Wr}function aM(t,e,n,i,r){let o=Ve(),s=ey(o,e,n,i);if(s!==ir){let a=Dt(),l=Od();Lm(a,l,o,t,s,o[wt],r,!1)}return aM}function pn(t,e,n,i){Oz(t,e,n,i)}function on(t,e,n){Rz(t,e,n)}function nt(t){let e=Ve(),n=Dt(),i=SS();O0(i+1);let r=J0(n,i);if(t.dirty&&wj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=Fz(e,i);t.reset(o,o4),t.notifyOnChanges()}return!0}return!1}function it(){return kz(Ve(),SS())}function RU(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Kr(t){let e=Rj();return yS(e,Mn+t)}function W(t,e=""){let n=Ve(),i=Dt(),r=t+Mn,o=i.firstCreatePass?El(i,r,1,e,null):i.data[r],s=OU(i,n,o,e,t);n[r]=s,Sm()&&Om(i,n,s,o),$s(o,!1)}var OU=(t,e,n,i,r)=>(Am(!0),H4(e[wt],i));function bt(t){return ci("",t,""),bt}function ci(t,e,n){let i=Ve(),r=ey(i,t,e,n);return r!==ir&&P3(i,Hs(),r),ci}function Il(t,e,n){QA(e)&&(e=e());let i=Ve(),r=yl();if(Gr(i,r,e)){let o=Dt(),s=Od();Lm(o,s,i,t,e,i[wt],n,!1)}return Il}function Bd(t,e){let n=QA(t);return n&&t.set(e),n}function Cl(t,e){let n=Ve(),i=Dt(),r=yn();return sM(i,n,n[wt],r,t,e),Cl}function NU(t,e,n){let i=Dt();if(i.firstCreatePass){let r=So(t);u0(n,i.data,i.blueprint,r,!0),u0(e,i.data,i.blueprint,r,!1)}}function u0(t,e,n,i,r){if(t=Sn(t),Array.isArray(t))for(let o=0;o<t.length;o++)u0(t[o],e,n,i,r);else{let o=Dt(),s=Ve(),a=yn(),l=hl(t)?t:Sn(t.provide),d=cS(t),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(hl(t)||!t.multi){let g=new Fs(d,r,M),v=gv(l,e,r?u:u+p,f);v===-1?(Av(tm(a,s),o,l),pv(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[v]=g,s[v]=g)}else{let g=gv(l,e,u+p,f),v=gv(l,e,u,u+p),x=g>=0&&n[g],I=v>=0&&n[v];if(r&&!I||!r&&!x){Av(tm(a,s),o,l);let L=LU(r?FU:PU,n.length,r,i,d);!r&&I&&(n[v].providerFactory=L),pv(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=lM(n[r?v:g],d,!r&&i);pv(o,t,g>-1?g:v,L)}!r&&i&&I&&n[v].componentProviders++}}}function pv(t,e,n,i){let r=hl(e),o=oj(e);if(r||o){let l=(o?Sn(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=d.indexOf(n);u===-1?d.push(n,[i,l]):d[u+1].push(i,l)}else d.push(n,l)}}}function lM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gv(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function PU(t,e,n,i){return h0(this.multi,[])}function FU(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ls(n,n[ke],this.providerFactory.index,i);o=a.slice(0,s),h0(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],h0(r,o);return o}function h0(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function LU(t,e,n,i,r){let o=new Fs(t,n,M);return o.multi=[],o.index=e,o.componentProviders=0,lM(o,r,i&&!n),o}function Bt(t,e=[]){return n=>{n.providersResolver=(i,r)=>NU(i,r?r(t):t,e)}}var VU=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=sS(!1,i.type),o=r.length>0?Um([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(T(nn))});let t=e;return t})();function Ct(t){Dl("NgStandalone"),t.getStandaloneInjector=e=>e.get(VU).getOrCreateStandaloneInjector(t)}function jd(t,e,n,i){return cM(Ve(),CS(),t,e,n,i)}function BU(t,e){let n=t[e];return n===ir?void 0:n}function cM(t,e,n,i,r,o){let s=e+n;return Gr(t,s,r)?Xz(t,s+1,o?i.call(o,r):i(r)):BU(t,s+1)}function di(t,e){let n=Dt(),i,r=t+Mn;n.firstCreatePass?(i=jU(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=Rs(i.type,!0)),s,a=jn(M);try{let l=em(!1),d=o();return em(l),RU(n,Ve(),r,d),d}finally{jn(a)}}function jU(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function ui(t,e,n){let i=t+Mn,r=Ve(),o=yS(r,i);return zU(r,i)?cM(r,CS(),e,o.transform,n,o):o.transform(n)}function zU(t,e){return t[ke].data[e].pure}function Tl(t,e){return Bm(t,e)}var Bf=null;function UU(t){Bf!==null&&(t.defaultEncapsulation!==Bf.defaultEncapsulation||t.preserveWhitespaces!==Bf.preserveWhitespaces)||(Bf=t)}var er=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},dM=new er("17.3.9"),Gm=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ty=new U(""),zd=new U(""),qm=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ny||($U(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(T(J),T(Wm),T(zd))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Wm=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return ny?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function $U(t){ny=t}var ny;function No(t){return!!t&&typeof t.then=="function"}function iy(t){return!!t&&typeof t.subscribe=="function"}var Sl=new U(""),uM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=V(Sl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(No(s))i.push(s);else if(iy(s)){let a=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ry=new U("");function HU(){CC(()=>{throw new G(600,!1)})}function GU(t){return t.isBoundToModule}function qU(t,e,n){try{let i=n();return No(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function hM(t,e){return Array.isArray(e)?e.reduce(hM,t):H(H({},t),e)}var hi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(qS),this.afterRenderEffectManager=V(X0),this.externalTestViews=new Set,this.beforeRender=new oe,this.afterTick=new oe,this.componentTypes=[],this.components=[],this.isStable=V(Vd).hasPendingTasks.pipe(K(i=>!i)),this._injector=V(nn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof om;if(!this._injector.get(uM).done){let g=!o&&nS(i),v=!1;throw new G(405,v)}let a;o?a=i:a=this._injector.get(Gs).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=GU(a)?void 0:this._injector.get(Mo),d=r||a.selector,u=a.create(kt.NULL,[],d,l),f=u.location.nativeElement,p=u.injector.get(ty,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),qf(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new G(101,!1);let r=Ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ge(r)}}detectChangesInAttachedViews(i){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===BA)throw new G(103,!1);if(i){let s=r===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)WU(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>f0(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>f0(s))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;qf(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(ry,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>qf(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new G(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WU(t,e,n){!e&&!f0(t)||KU(t,n,e)}function f0(t){return M0(t)}function KU(t,e,n){let i;n?(i=0,t[xe]|=1024):t[xe]&64?i=0:i=1,jA(t,e,i)}var m0=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Km=(()=>{let e=class e{compileModuleSync(i){return new um(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=iS(i),s=fA(o.declarations).reduce((a,l)=>{let d=Fr(l);return d&&a.push(new js(d)),a},[]);return new m0(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QU=new U("");function YU(t,e,n){let i=new um(n);return Promise.resolve(i)}function NT(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var ZU=(()=>{let e=class e{constructor(){this.zone=V(J),this.applicationRef=V(hi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XU(t){return[{provide:J,useFactory:t},{provide:ul,multi:!0,useFactory:()=>{let e=V(ZU,{optional:!0});return()=>e.initialize()}},{provide:ul,multi:!0,useFactory:()=>{let e=V(t5);return()=>{e.initialize()}}},{provide:qS,useFactory:JU}]}function JU(){let t=V(J),e=V(kn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function e5(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var t5=(()=>{let e=class e{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=V(J),this.pendingTasks=V(Vd)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{J.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n5(){return typeof $localize<"u"&&$localize.locale||fm}var Ud=new U("",{providedIn:"root",factory:()=>V(Ud,Be.Optional|Be.SkipSelf)||n5()});var fM=new U(""),mM=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=dz(r?.ngZone,e5({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=Qz(i.moduleType,this.injector,XU(()=>o)),a=s.injector.get(kn,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:d=>{a.handleError(d)}});s.onDestroy(()=>{qf(this._modules,s),l.unsubscribe()})}),qU(a,o,()=>{let l=s.injector.get(uM);return l.runInitializers(),l.donePromise.then(()=>{let d=s.injector.get(Ud,fm);return AU(d||fm),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=hM({},r);return YU(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(hi);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new G(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(fM,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(T(kt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),vd=null,pM=new U("");function i5(t){if(vd&&!vd.get(pM,!1))throw new G(400,!1);HU(),vd=t;let e=t.get(mM);return s5(t),e}function oy(t,e,n=[]){let i=`Platform: ${e}`,r=new U(i);return(o=[])=>{let s=gM();if(!s||s.injector.get(pM,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):i5(r5(a,i))}return o5(r)}}function r5(t=[],e){return kt.create({name:e,providers:[{provide:xm,useValue:"platform"},{provide:fM,useValue:new Set([()=>vd=null])},...t]})}function o5(t){let e=gM();if(!e)throw new G(401,!1);return e}function gM(){return vd?.get(mM)??null}function s5(t){t.get(L0,null)?.forEach(n=>n())}function $d(){return!1}var Jt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=a5;let t=e;return t})();function a5(t){return l5(yn(),Ve(),(t&16)===16)}function l5(t,e,n){if(Im(t)&&!n){let i=ko(t.index,e);return new Vs(i,i)}else if(t.type&47){let i=e[Ri];return new Vs(i,e)}return null}var p0=class{constructor(){}supports(e){return YA(e)}create(e){return new g0(e)}},c5=(t,e)=>e,g0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||c5}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<PT(i,r,o)?n:i,a=PT(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,u=l-r;if(d!=u){for(let p=0;p<d;p++){let g=p<o.length?o[p]:o[p]=0,v=g+p;u<=v&&v<d&&(o[p]=g+1)}let f=s.previousIndex;o[f]=u-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!YA(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,Yz(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new _0(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new mm),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new mm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_0=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},b0=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},mm=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new b0,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function PT(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function FT(){return new Qm([new p0])}var Qm=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||FT()),deps:[[e,new bm,new Us]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new G(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:FT});let t=e;return t})();var _M=oy(null,"core",[]),bM=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(T(hi))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();function et(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Hd(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function sy(t){let e=Ge(null);try{return t()}finally{Ge(e)}}var d5=new U("",{providedIn:"root",factory:()=>V(u5)}),u5=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new v0});let t=e;return t})(),v0=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=V(Vd),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},y0=class{constructor(e,n,i,r,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=TC(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(kn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ay(t,e){Dl("NgSignals"),!e?.injector&&uS(ay);let n=e?.injector??V(kt),i=e?.manualCleanup!==!0?n.get(Nd):null,r=new y0(n.get(d5),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(Jt,null,{optional:!0});return!o||!(o._lView[xe]&8)?r.watcher.notify():(o._lView[zf]??=[]).push(r.watcher.notify),r}function Ym(t,e){let n=Fr(t),i=e.elementInjector||Em();return new js(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function vM(t){let e=Fr(t);if(!e)return null;let n=new js(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var CM=null;function rr(){return CM}function TM(t){CM??=t}var Zm=class{};var we=new U(""),py=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>V(h5),providedIn:"platform"});let t=e;return t})(),SM=new U(""),h5=(()=>{let e=class e extends py{constructor(){super(),this._doc=V(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(i){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function yM(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Qr(t){return t&&t[0]!=="?"?"?"+t:t}var Yr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>V(_y),providedIn:"root"});let t=e;return t})(),AM=new U(""),_y=(()=>{let e=class e extends Yr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return gy(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Qr(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Qr(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Qr(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(T(py),T(AM,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MM=(()=>{let e=class e extends Yr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=gy(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Qr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Qr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(T(py),T(AM,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Po=(()=>{let e=class e{constructor(i){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=p5(yM(wM(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Qr(r))}normalize(i){return e.stripTrailingSlash(m5(this._basePath,wM(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Qr(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Qr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Qr,e.joinWithSlash=gy,e.stripTrailingSlash=yM,e.\u0275fac=function(r){return new(r||e)(T(Yr))},e.\u0275prov=B({token:e,factory:()=>f5(),providedIn:"root"});let t=e;return t})();function f5(){return new Po(T(Yr))}function m5(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wM(t){return t.replace(/\/index.html$/,"")}function p5(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function kM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var ly=/\s+/,xM=[],RM=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=xM,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(ly):xM}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(ly):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(ly).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(Oo))},e.\u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Q.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var cy=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Al=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new cy(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),EM(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);EM(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(M(Hn),M(Kn),M(Qm))},e.\u0275dir=ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function EM(t,e){t.context.$implicit=e.item}var or=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new dy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){DM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){DM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(M(Hn),M(Kn))},e.\u0275dir=ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),dy=class{constructor(){this.$implicit=null,this.ngIf=null}};function DM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${An(e)}'.`)}var Jm=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(i,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(M(Hn))},e.\u0275dir=ye({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ft]});let t=e;return t})();function g5(t,e){return new G(2100,!1)}var uy=class{createSubscription(e,n){return sy(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){sy(()=>e.unsubscribe())}},hy=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},_5=new hy,b5=new uy,Ml=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(No(i))return _5;if(iy(i))return b5;throw g5(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(M(Jt,16))},e.\u0275pipe=ym({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Fo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),by="browser",v5="server";function qs(t){return t===by}function Ws(t){return t===v5}var OM=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>qs(V(Ht))?new fy(V(we),window):new my});let t=e;return t})(),fy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=y5(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function y5(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var my=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Xm=class{};var yy=class{};var kl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wy=class{encodeKey(e){return NM(e)}encodeValue(e){return NM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function w5(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var x5=/%(\d[a-f0-9])/gi,E5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NM(t){return encodeURIComponent(t).replace(x5,(e,n)=>E5[n]??e)}function ep(t){return`${t}`}var Lo=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=w5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(ep):[ep(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ep(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(ep(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function D5(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function FM(t){return typeof Blob<"u"&&t instanceof Blob}function LM(t){return typeof FormData<"u"&&t instanceof FormData}function I5(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Gd=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(D5(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new kl,this.context??=new xy,!this.params)this.params=new Lo,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PM(this.body)||FM(this.body)||LM(this.body)||I5(this.body)?this.body:this.body instanceof Lo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||LM(this.body)?null:FM(this.body)?this.body.type||null:PM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Lo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,u=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),d)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),u)),new t(n,i,s,{params:u,headers:d,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},VM=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(VM||{}),Ey=class{constructor(e,n=BM.Ok,i="OK"){this.headers=e.headers||new kl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Dy=class t extends Ey{constructor(e={}){super(e),this.type=VM.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var BM=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(BM||{});function vy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var jM=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Gd)s=i;else{let d;o.headers instanceof kl?d=o.headers:d=new kl(o.headers);let u;o.params&&(o.params instanceof Lo?u=o.params:u=new Lo({fromObject:o.params})),s=new Gd(i,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ie(s).pipe(Or(d=>this.handler.handle(d)));if(i instanceof Gd||o.observe==="events")return a;let l=a.pipe(Ce(d=>d instanceof Dy));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(K(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(K(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(K(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(K(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Lo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,vy(o,r))}post(i,r,o={}){return this.request("POST",i,vy(o,r))}put(i,r,o={}){return this.request("PUT",i,vy(o,r))}};e.\u0275fac=function(r){return new(r||e)(T(yy))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var Ty=class extends Zm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sy=class t extends Ty{static makeCurrent(){TM(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=T5();return n==null?null:S5(n)}resetBaseElement(){qd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kM(document.cookie,e)}},qd=null;function T5(){return qd=qd||document.querySelector("base"),qd?qd.getAttribute("href"):null}function S5(t){return new URL(t,document.baseURI).pathname}var Ay=class{addToWindow(e){un.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new G(5103,!1);return o},un.getAllAngularTestabilities=()=>e.getAllTestabilities(),un.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=un.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};un.frameworkStabilizers||(un.frameworkStabilizers=[]),un.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?rr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},A5=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),My=new U(""),$M=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(T(My),T(J))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),tp=class{constructor(e){this._doc=e}},Iy="ng-app-id",HM=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ws(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Iy}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(Iy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Iy,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(T(we),T(Pd),T(Fd,8),T(Ht))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ry=/%COMP%/g,GM="%COMP%",M5=`_nghost-${GM}`,k5=`_ngcontent-${GM}`,R5=!0,O5=new U("",{providedIn:"root",factory:()=>R5});function N5(t){return k5.replace(Ry,t)}function P5(t){return M5.replace(Ry,t)}function qM(t,e){return e.map(n=>n.replace(Ry,t))}var np=(()=>{let e=class e{constructor(i,r,o,s,a,l,d,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ws(l),this.defaultRenderer=new Wd(i,a,d,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xi.ShadowDom&&(r=ze(H({},r),{encapsulation:Xi.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof ip?o.applyToHost(i):o instanceof Kd&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Xi.Emulated:s=new ip(d,u,r,this.appId,f,a,l,p);break;case Xi.ShadowDom:return new ky(d,u,i,r,a,l,this.nonce,p);default:s=new Kd(d,u,r,f,a,l,p);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(T($M),T(HM),T(Pd),T(O5),T(we),T(Ht),T(J),T(Fd))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Wd=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Cy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(zM(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(zM(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new G(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=Cy[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Cy[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Br.DashCase|Br.Important)?e.style.setProperty(n,i,r&Br.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function zM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ky=class extends Wd{constructor(e,n,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=qM(r.id,r.styles);for(let u of d){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kd=class extends Wd{constructor(e,n,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?qM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ip=class extends Kd{constructor(e,n,i,r,o,s,a,l){let d=r+"-"+i.id;super(e,n,i,o,s,a,l,d),this.contentAttr=N5(d),this.hostAttr=P5(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},F5=(()=>{let e=class e extends tp{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),UM=["alt","control","meta","shift"],L5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},B5=(()=>{let e=class e extends tp{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),UM.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(i,r){let o=L5[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),UM.forEach(a=>{if(a!==o){let l=V5[a];l(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function j5(){Sy.makeCurrent()}function z5(){return new kn}function U5(){return XS(document),document}var $5=[{provide:Ht,useValue:by},{provide:L0,useValue:j5,multi:!0},{provide:we,useFactory:U5,deps:[]}],WM=oy(_M,"browser",$5),H5=new U(""),G5=[{provide:zd,useClass:Ay,deps:[]},{provide:ty,useClass:qm,deps:[J,Wm,zd]},{provide:qm,useClass:qm,deps:[J,Wm,zd]}],q5=[{provide:xm,useValue:"root"},{provide:kn,useFactory:z5,deps:[]},{provide:My,useClass:F5,multi:!0,deps:[we,J,Ht]},{provide:My,useClass:B5,multi:!0,deps:[we]},np,HM,$M,{provide:Bs,useExisting:np},{provide:Xm,useClass:A5,deps:[]},[]],rp=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Pd,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(T(H5,12))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[...q5,...G5],imports:[Fo,bM]});let t=e;return t})();var KM=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=T(W5),o},providedIn:"root"});let t=e;return t})(),W5=(()=>{let e=class e extends Oy{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case wn.NONE:return r;case wn.HTML:return Ro(r,"HTML")?Ni(r):dA(this._doc,String(r)).toString();case wn.STYLE:return Ro(r,"Style")?Ni(r):r;case wn.SCRIPT:if(Ro(r,"Script"))return Ni(r);throw new G(5200,!1);case wn.URL:return Ro(r,"URL")?Ni(r):Rm(String(r));case wn.RESOURCE_URL:if(Ro(r,"ResourceURL"))return Ni(r);throw new G(5201,!1);default:throw new G(5202,!1)}}bypassSecurityTrustHtml(i){return eA(i)}bypassSecurityTrustStyle(i){return tA(i)}bypassSecurityTrustScript(i){return nA(i)}bypassSecurityTrustUrl(i){return iA(i)}bypassSecurityTrustResourceUrl(i){return rA(i)}};e.\u0275fac=function(r){return new(r||e)(T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ie=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ie||{}),sr="*";function Yd(t,e){return{type:Ie.Trigger,name:t,definitions:e,options:{}}}function Zd(t,e=null){return{type:Ie.Animate,styles:e,timings:t}}function QM(t,e=null){return{type:Ie.Sequence,steps:t,options:e}}function ar(t){return{type:Ie.Style,styles:t,offset:null}}function op(t,e,n){return{type:Ie.State,name:t,styles:e,options:n}}function Rl(t,e,n=null){return{type:Ie.Transition,expr:t,animation:e,options:n}}function YM(t=null){return{type:Ie.AnimateChild,options:t}}function ZM(t,e,n=null){return{type:Ie.Query,selector:t,animation:e,options:n}}var Vo=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Qd=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},sp="!";function XM(t){return new G(3e3,!1)}function K5(){return new G(3100,!1)}function Q5(){return new G(3101,!1)}function Y5(t){return new G(3001,!1)}function Z5(t){return new G(3003,!1)}function X5(t){return new G(3004,!1)}function J5(t,e){return new G(3005,!1)}function e$(){return new G(3006,!1)}function t$(){return new G(3007,!1)}function n$(t,e){return new G(3008,!1)}function i$(t){return new G(3002,!1)}function r$(t,e,n,i,r){return new G(3010,!1)}function o$(){return new G(3011,!1)}function s$(){return new G(3012,!1)}function a$(){return new G(3200,!1)}function l$(){return new G(3202,!1)}function c$(){return new G(3013,!1)}function d$(t){return new G(3014,!1)}function u$(t){return new G(3015,!1)}function h$(t){return new G(3016,!1)}function f$(t,e){return new G(3404,!1)}function m$(t){return new G(3502,!1)}function p$(t){return new G(3503,!1)}function g$(){return new G(3300,!1)}function _$(t){return new G(3504,!1)}function b$(t){return new G(3301,!1)}function v$(t,e){return new G(3302,!1)}function y$(t){return new G(3303,!1)}function w$(t,e){return new G(3400,!1)}function x$(t){return new G(3401,!1)}function E$(t){return new G(3402,!1)}function D$(t,e){return new G(3505,!1)}function Bo(t){switch(t.length){case 0:return new Vo;case 1:return t[0];default:return new Qd(t)}}function hk(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let d=l.get("offset"),u=d==s,f=u&&a||new Map;l.forEach((p,g)=>{let v=g,x=p;if(g!=="offset")switch(v=t.normalizePropertyName(v,r),x){case sp:x=n.get(g);break;case sr:x=i.get(g);break;default:x=t.normalizeStyleValue(g,v,x,r);break}f.set(v,x)}),u||o.push(f),a=f,s=d}),r.length)throw m$(r);return o}function iw(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Py(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Py(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Py(n,"destroy",t)));break}}function Py(t,e,n){let i=n.totalTime,r=!!n.disabled,o=rw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function rw(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Zn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function JM(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var I$=typeof document>"u"?null:document.documentElement;function ow(t){let e=t.parentNode||t.host||null;return e===I$?null:e}function C$(t){return t.substring(1,6)=="ebkit"}var Ks=null,ek=!1;function T$(t){Ks||(Ks=S$()||{},ek=Ks.style?"WebkitAppearance"in Ks.style:!1);let e=!0;return Ks.style&&!C$(t)&&(e=t in Ks.style,!e&&ek&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ks.style)),e}function S$(){return typeof document<"u"?document.body:null}function fk(t,e){for(;e;){if(e===t)return!0;e=ow(e)}return!1}function mk(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var sw=(()=>{let e=class e{validateStyleProperty(i){return T$(i)}matchesElement(i,r){return!1}containsElement(i,r){return fk(i,r)}getParentElement(i){return ow(i)}query(i,r,o){return mk(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,l=[],d){return new Vo(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),dw=class dw{};dw.NOOP=new sw;var Zs=dw,Xs=class{};var A$=1e3,pk="{{",M$="}}",gk="ng-enter",zy="ng-leave",ap="ng-trigger",hp=".ng-trigger",tk="ng-animating",Uy=".ng-animating";function Xr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$y(parseFloat(e[1]),e[2])}function $y(t,e){switch(e){case"s":return t*A$;default:return t}}function fp(t,e,n){return t.hasOwnProperty("duration")?t:k$(t,e,n)}function k$(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(XM(t)),{duration:0,delay:0,easing:""};r=$y(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=$y(parseFloat(l),a[4]));let d=a[5];d&&(s=d)}else r=t;if(!n){let a=!1,l=e.length;r<0&&(e.push(K5()),a=!0),o<0&&(e.push(Q5()),a=!0),a&&e.splice(l,0,XM(t))}return{duration:r,delay:o,easing:s}}function R$(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function lr(t,e,n){e.forEach((i,r)=>{let o=aw(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function Ys(t,e){e.forEach((n,i)=>{let r=aw(i);t.style[r]=""})}function Xd(t){return Array.isArray(t)?t.length==1?t[0]:QM(t):t}function O$(t,e,n){let i=e.params||{},r=_k(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(Y5(o))})}var Hy=new RegExp(`${pk}\\s*(.+?)\\s*${M$}`,"g");function _k(t){let e=[];if(typeof t=="string"){let n;for(;n=Hy.exec(t);)e.push(n[1]);Hy.lastIndex=0}return e}function eu(t,e,n){let i=`${t}`,r=i.replace(Hy,(o,s)=>{let a=e[s];return a==null&&(n.push(Z5(s)),a=""),a.toString()});return r==i?t:r}var N$=/-+([a-z0-9])/g;function aw(t){return t.replace(N$,(...e)=>e[1].toUpperCase())}function P$(t,e){return t===0||e===0}function F$(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,lw(t,a)))}}return e}function Yn(t,e,n){switch(e.type){case Ie.Trigger:return t.visitTrigger(e,n);case Ie.State:return t.visitState(e,n);case Ie.Transition:return t.visitTransition(e,n);case Ie.Sequence:return t.visitSequence(e,n);case Ie.Group:return t.visitGroup(e,n);case Ie.Animate:return t.visitAnimate(e,n);case Ie.Keyframes:return t.visitKeyframes(e,n);case Ie.Style:return t.visitStyle(e,n);case Ie.Reference:return t.visitReference(e,n);case Ie.AnimateChild:return t.visitAnimateChild(e,n);case Ie.AnimateRef:return t.visitAnimateRef(e,n);case Ie.Query:return t.visitQuery(e,n);case Ie.Stagger:return t.visitStagger(e,n);default:throw X5(e.type)}}function lw(t,e){return window.getComputedStyle(t)[e]}var L$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),mp=class extends Xs{normalizePropertyName(e,n){return aw(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(L$.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(J5(e,i))}return s+o}};var pp="*";function V$(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>B$(i,n,e)):n.push(t),n}function B$(t,e,n){if(t[0]==":"){let l=j$(t,n);if(typeof l=="function"){e.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(u$(t)),e;let r=i[1],o=i[2],s=i[3];e.push(nk(r,s));let a=r==pp&&s==pp;o[0]=="<"&&!a&&e.push(nk(s,r))}function j$(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(h$(t)),"* => *"}}var lp=new Set(["true","1"]),cp=new Set(["false","0"]);function nk(t,e){let n=lp.has(t)||cp.has(t),i=lp.has(e)||cp.has(e);return(r,o)=>{let s=t==pp||t==r,a=e==pp||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?lp.has(t):cp.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?lp.has(e):cp.has(e)),s&&a}}var bk=":self",z$=new RegExp(`s*${bk}s*,?`,"g");function vk(t,e,n,i){return new Gy(t).build(e,n,i)}var ik="",Gy=class{constructor(e){this._driver=e}build(e,n,i){let r=new qy(n);return this._resetContextStyleTimingState(r),Yn(this,Xd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=ik,e.collectedStyles=new Map,e.collectedStyles.set(ik,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(e$()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Ie.State){let l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,n))}),l.name=d}else if(a.type==Ie.Transition){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,s.push(l)}else n.errors.push(t$())}),{type:Ie.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{_k(l).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&n.errors.push(n$(e.name,[...o.values()]))}return{type:Ie.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Yn(this,Xd(e.animation),n),r=V$(e.expr,n.errors);return{type:Ie.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Qs(e.options)}}visitSequence(e,n){return{type:Ie.Sequence,steps:e.steps.map(i=>Yn(this,i,n)),options:Qs(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let a=Yn(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:Ie.Group,steps:o,options:Qs(e.options)}}visitAnimate(e,n){let i=G$(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:ar({});if(o.type==Ie.Keyframes)r=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let d={};i.easing&&(d.easing=i.easing),s=ar(d)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:Ie.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===sr?i.push(a):n.errors.push(i$(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(pk)>=0){o=!0;break}}}),{type:Ie.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let d=n.collectedStyles.get(n.currentQuerySelector),u=d.get(l),f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(n.errors.push(r$(l,u.startTime,u.endTime,o,r)),f=!1),o=u.startTime),f&&d.set(l,{startTime:o,endTime:r}),n.options&&O$(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ie.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(o$()),i;let r=1,o=0,s=[],a=!1,l=!1,d=0,u=e.steps.map(L=>{let q=this._makeStyleAst(L,n),j=q.offset!=null?q.offset:H$(q.styles),te=0;return j!=null&&(o++,te=q.offset=j),l=l||te<0||te>1,a=a||te<d,d=te,s.push(te),q});l&&n.errors.push(s$()),a&&n.errors.push(a$());let f=e.steps.length,p=0;o>0&&o<f?n.errors.push(l$()):o==0&&(p=r/(f-1));let g=f-1,v=n.currentTime,x=n.currentAnimateTimings,I=x.duration;return u.forEach((L,q)=>{let j=p>0?q==g?1:p*q:s[q],te=j*I;n.currentTime=v+x.delay+te,x.duration=te,this._validateStyleAst(L,n),L.offset=j,i.styles.push(L)}),i}visitReference(e,n){return{type:Ie.Reference,animation:Yn(this,Xd(e.animation),n),options:Qs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ie.AnimateChild,options:Qs(e.options)}}visitAnimateRef(e,n){return{type:Ie.AnimateRef,animation:this.visitReference(e.animation,n),options:Qs(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=U$(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Zn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Yn(this,Xd(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ie.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Qs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(c$());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:fp(e.timings,n.errors,!0);return{type:Ie.Stagger,animation:Yn(this,Xd(e.animation),n),timings:i,options:null}}};function U$(t){let e=!!t.split(/\s*,\s*/).find(n=>n==bk);return e&&(t=t.replace(z$,"")),t=t.replace(/@\*/g,hp).replace(/@\w+/g,n=>hp+"-"+n.slice(1)).replace(/:animating/g,Uy),[t,e]}function $$(t){return t?H({},t):null}var qy=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function H$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function G$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=fp(t,e).duration;return Fy(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Fy(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=fp(n,e);return Fy(r.duration,r.delay,r.easing)}function Qs(t){return t?(t=H({},t),t.params&&(t.params=$$(t.params))):t={},t}function Fy(t,e,n){return{duration:t,delay:e,easing:n}}function cw(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var tu=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},q$=1,W$=":enter",K$=new RegExp(W$,"g"),Q$=":leave",Y$=new RegExp(Q$,"g");function yk(t,e,n,i,r,o=new Map,s=new Map,a,l,d=[]){return new Wy().buildKeyframes(t,e,n,i,r,o,s,a,l,d)}var Wy=class{buildKeyframes(e,n,i,r,o,s,a,l,d,u=[]){d=d||new tu;let f=new Ky(e,n,d,r,o,u,[]);f.options=l;let p=l.delay?Xr(l.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([s],null,f.errors,l),Yn(this,i,f);let g=f.timelines.filter(v=>v.containsAnimation());if(g.length&&a.size){let v;for(let x=g.length-1;x>=0;x--){let I=g[x];if(I.element===n){v=I;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return g.length?g.map(v=>v.buildKeyframes()):[cw(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Xr(eu(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?Xr(i.duration):null,a=i.delay!=null?Xr(i.delay):null;return s!==0&&e.forEach(l=>{let d=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Yn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ie.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=gp);let s=Xr(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Yn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Xr(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Yn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?eu(i,n.params,n.errors):i;return fp(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ie.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let d=l.offset||0;a.forwardTime(d*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?Xr(r.delay):0;o&&(n.previousNode.type===Ie.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=gp);let s=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((d,u)=>{n.currentQueryIndex=u;let f=n.createSubContext(e.options,d);o&&f.delayNextStep(o),d===n.element&&(l=f.currentTimeline),Yn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let p=f.currentTimeline.currentTime;s=Math.max(s,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let f=u.currentTime;Yn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},gp={},Ky=class t{constructor(e,n,i,r,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _p(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Xr(i.duration)),i.delay!=null&&(r.delay=Xr(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=eu(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=gp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Qy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(K$,"."+this._enterClassName),e=e.replace(Y$,"."+this._leaveClassName);let l=i!=1,d=this._driver.query(this.element,e,l);i!==0&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&a.length==0&&s.push(d$(n)),a}},_p=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=q$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||sr),this._currentKeyframe.set(n,sr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=Z$(e,this._globalTimelineStyles);for(let[a,l]of s){let d=eu(l,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??sr),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let d=new Map([...this._backFill,...a]);d.forEach((u,f)=>{u===sp?e.add(f):u===sr&&n.add(f)}),i||d.set("offset",l/this.duration),r.push(d)});let o=[...e.values()],s=[...n.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return cw(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Qy=class extends _p{constructor(e,n,i,r,o,s,a=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let d=new Map(e[0]);d.set("offset",rk(a)),o.push(d);let u=e.length-1;for(let f=1;f<=u;f++){let p=new Map(e[f]),g=p.get("offset"),v=n+g*i;p.set("offset",rk(v/s)),o.push(p)}i=s,n=0,r="",e=o}return cw(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function rk(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Z$(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,sr)}else for(let[o,s]of r)n.set(o,s)}),n}function ok(t,e,n,i,r,o,s,a,l,d,u,f,p){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:u,totalTime:f,errors:p}}var Ly={},bp=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return X$(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,a,l,d,u){let f=[],p=this.ast.options&&this.ast.options.params||Ly,g=a&&a.params||Ly,v=this.buildStyles(i,g,f),x=l&&l.params||Ly,I=this.buildStyles(r,x,f),L=new Set,q=new Map,j=new Map,te=r==="void",he={params:wk(x,p),delay:this.ast.options?.delay},ae=u?[]:yk(e,n,this.ast.animation,o,s,v,I,he,d,f),E=0;return ae.forEach(b=>{E=Math.max(b.duration+b.delay,E)}),f.length?ok(n,this._triggerName,i,r,te,v,I,[],[],q,j,E,f):(ae.forEach(b=>{let y=b.element,D=Zn(q,y,new Set);b.preStyleProps.forEach(A=>D.add(A));let C=Zn(j,y,new Set);b.postStyleProps.forEach(A=>C.add(A)),y!==n&&L.add(y)}),ok(n,this._triggerName,i,r,te,v,I,ae,[...L.values()],q,j,E))}};function X$(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function wk(t,e){let n=H({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var Yy=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=wk(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=eu(s,r,n));let l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),i.set(a,s)})}),i}};function J$(t,e,n){return new Zy(t,e,n)}var Zy=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Yy(r.style,o,i))}),sk(this.states,"true","1"),sk(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new bp(e,r,this.states))}),this.fallbackTransition=eH(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function eH(t,e,n){let i=[(s,a)=>!0],r={type:Ie.Sequence,steps:[],options:null},o={type:Ie.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new bp(t,o,e)}function sk(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var tH=new tu,Xy=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=vk(this._driver,n,i,r);if(i.length)throw p$(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=hk(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=yk(this._driver,n,o,gk,zy,new Map,new Map,i,tH,r),s.forEach(u=>{let f=Zn(a,u.element,new Map);u.postStyleProps.forEach(p=>f.set(p,null))})):(r.push(g$()),s=[]),r.length)throw _$(r);a.forEach((u,f)=>{u.forEach((p,g)=>{u.set(g,this._driver.computeStyle(f,g,sr))})});let l=s.map(u=>{let f=a.get(u.element);return this._buildPlayer(u,new Map,f)}),d=Bo(l);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw b$(e);return n}listen(e,n,i,r){let o=rw(n,"","","");return iw(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},ak="ng-animate-queued",nH=".ng-animate-queued",Vy="ng-animate-disabled",iH=".ng-animate-disabled",rH="ng-star-inserted",oH=".ng-star-inserted",sH=[],xk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fi="__ng_removed",nu=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=cH(r),i){let o=e,{value:s}=o,a=Cb(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},Jd="void",By=new nu(Jd),Jy=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fi(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw v$(i,n);if(i==null||i.length==0)throw y$(n);if(!dH(i))throw w$(i,n);let o=Zn(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let a=Zn(this._engine.statesByElement,e,new Map);return a.has(n)||(fi(e,ap),fi(e,ap+"-"+n),a.set(n,By)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw x$(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new iu(this.id,n,e),a=this._engine.statesByElement.get(e);a||(fi(e,ap),fi(e,ap+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),d=new nu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(n,d),l||(l=By),!(d.value===Jd)&&l.value===d.value){if(!fH(l.params,d.params)){let x=[],I=o.matchStyles(l.value,l.params,x),L=o.matchStyles(d.value,d.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Ys(e,I),lr(e,L)})}return}let p=Zn(this._engine.playersByElement,e,[]);p.forEach(x=>{x.namespaceId==this.id&&x.triggerName==n&&x.queued&&x.destroy()});let g=o.matchTransition(l.value,d.value,e,d.params),v=!1;if(!g){if(!r)return;g=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:g,fromState:l,toState:d,player:s,isFallbackTransition:v}),v||(fi(e,ak),s.onStart(()=>{Ol(e,ak)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);let I=this._engine.playersByElement.get(e);if(I){let L=I.indexOf(s);L>=0&&I.splice(L,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,hp,!0);i.forEach(r=>{if(r[Fi])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,d)=>{if(s.set(d,l.value),this._triggers.has(d)){let u=this.trigger(e,d,Jd,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&Bo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,d=i.get(s)||By,u=new nu(Jd),f=new iu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:d,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Fi];(!o||o===xk)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){fi(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=rw(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,iw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ew=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new Jy(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let d=i.indexOf(l);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(dp(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!dp(n))return;let o=n[Fi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fi(e,Vy)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ol(e,Vy))}removeNode(e,n,i){if(dp(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Fi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return dp(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,hp,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Uy,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Fi];if(n&&n.setForRemoval){if(e[Fi]=xk,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Vy)&&this.markElementAsDisabled(e,!1),this.driver.query(e,iH,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];fi(r,rH)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Bo(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw E$(e)}_flushAnimations(e,n){let i=new tu,r=[],o=new Map,s=[],a=new Map,l=new Map,d=new Map,u=new Set;this.disabledNodes.forEach(le=>{u.add(le);let ce=this.driver.query(le,nH,!0);for(let ge=0;ge<ce.length;ge++)u.add(ce[ge])});let f=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=dk(p,this.collectedEnterElements),v=new Map,x=0;g.forEach((le,ce)=>{let ge=gk+x++;v.set(ce,ge),le.forEach(je=>fi(je,ge))});let I=[],L=new Set,q=new Set;for(let le=0;le<this.collectedLeaveElements.length;le++){let ce=this.collectedLeaveElements[le],ge=ce[Fi];ge&&ge.setForRemoval&&(I.push(ce),L.add(ce),ge.hasAnimation?this.driver.query(ce,oH,!0).forEach(je=>L.add(je)):q.add(ce))}let j=new Map,te=dk(p,Array.from(L));te.forEach((le,ce)=>{let ge=zy+x++;j.set(ce,ge),le.forEach(je=>fi(je,ge))}),e.push(()=>{g.forEach((le,ce)=>{let ge=v.get(ce);le.forEach(je=>Ol(je,ge))}),te.forEach((le,ce)=>{let ge=j.get(ce);le.forEach(je=>Ol(je,ge))}),I.forEach(le=>{this.processLeaveNode(le)})});let he=[],ae=[];for(let le=this._namespaceList.length-1;le>=0;le--)this._namespaceList[le].drainQueuedTransitions(n).forEach(ge=>{let je=ge.player,Nt=ge.element;if(he.push(je),this.collectedEnterElements.length){let At=Nt[Fi];if(At&&At.setForMove){if(At.previousTriggersValues&&At.previousTriggersValues.has(ge.triggerName)){let Ir=At.previousTriggersValues.get(ge.triggerName),Pn=this.statesByElement.get(ge.element);if(Pn&&Pn.has(ge.triggerName)){let Cr=Pn.get(ge.triggerName);Cr.value=Ir,Pn.set(ge.triggerName,Cr)}}je.destroy();return}}let ii=!f||!this.driver.containsElement(f,Nt),St=j.get(Nt),mt=v.get(Nt),pt=this._buildInstruction(ge,i,mt,St,ii);if(pt.errors&&pt.errors.length){ae.push(pt);return}if(ii){je.onStart(()=>Ys(Nt,pt.fromStyles)),je.onDestroy(()=>lr(Nt,pt.toStyles)),r.push(je);return}if(ge.isFallbackTransition){je.onStart(()=>Ys(Nt,pt.fromStyles)),je.onDestroy(()=>lr(Nt,pt.toStyles)),r.push(je);return}let po=[];pt.timelines.forEach(At=>{At.stretchStartingKeyframe=!0,this.disabledNodes.has(At.element)||po.push(At)}),pt.timelines=po,i.append(Nt,pt.timelines);let tb={instruction:pt,player:je,element:Nt};s.push(tb),pt.queriedElements.forEach(At=>Zn(a,At,[]).push(je)),pt.preStyleProps.forEach((At,Ir)=>{if(At.size){let Pn=l.get(Ir);Pn||l.set(Ir,Pn=new Set),At.forEach((Cr,go)=>Pn.add(go))}}),pt.postStyleProps.forEach((At,Ir)=>{let Pn=d.get(Ir);Pn||d.set(Ir,Pn=new Set),At.forEach((Cr,go)=>Pn.add(go))})});if(ae.length){let le=[];ae.forEach(ce=>{le.push(D$(ce.triggerName,ce.errors))}),he.forEach(ce=>ce.destroy()),this.reportError(le)}let E=new Map,b=new Map;s.forEach(le=>{let ce=le.element;i.has(ce)&&(b.set(ce,ce),this._beforeAnimationBuild(le.player.namespaceId,le.instruction,E))}),r.forEach(le=>{let ce=le.element;this._getPreviousPlayers(ce,!1,le.namespaceId,le.triggerName,null).forEach(je=>{Zn(E,ce,[]).push(je),je.destroy()})});let y=I.filter(le=>uk(le,l,d)),D=new Map;ck(D,this.driver,q,d,sr).forEach(le=>{uk(le,l,d)&&y.push(le)});let A=new Map;g.forEach((le,ce)=>{ck(A,this.driver,new Set(le),l,sp)}),y.forEach(le=>{let ce=D.get(le),ge=A.get(le);D.set(le,new Map([...ce?.entries()??[],...ge?.entries()??[]]))});let w=[],ni=[],mo={};s.forEach(le=>{let{element:ce,player:ge,instruction:je}=le;if(i.has(ce)){if(u.has(ce)){ge.onDestroy(()=>lr(ce,je.toStyles)),ge.disabled=!0,ge.overrideTotalTime(je.totalTime),r.push(ge);return}let Nt=mo;if(b.size>1){let St=ce,mt=[];for(;St=St.parentNode;){let pt=b.get(St);if(pt){Nt=pt;break}mt.push(St)}mt.forEach(pt=>b.set(pt,Nt))}let ii=this._buildAnimation(ge.namespaceId,je,E,o,A,D);if(ge.setRealPlayer(ii),Nt===mo)w.push(ge);else{let St=this.playersByElement.get(Nt);St&&St.length&&(ge.parentPlayer=Bo(St)),r.push(ge)}}else Ys(ce,je.fromStyles),ge.onDestroy(()=>lr(ce,je.toStyles)),ni.push(ge),u.has(ce)&&r.push(ge)}),ni.forEach(le=>{let ce=o.get(le.element);if(ce&&ce.length){let ge=Bo(ce);le.setRealPlayer(ge)}}),r.forEach(le=>{le.parentPlayer?le.syncPlayerEvents(le.parentPlayer):le.destroy()});for(let le=0;le<I.length;le++){let ce=I[le],ge=ce[Fi];if(Ol(ce,zy),ge&&ge.hasAnimation)continue;let je=[];if(a.size){let ii=a.get(ce);ii&&ii.length&&je.push(...ii);let St=this.driver.query(ce,Uy,!0);for(let mt=0;mt<St.length;mt++){let pt=a.get(St[mt]);pt&&pt.length&&je.push(...pt)}}let Nt=je.filter(ii=>!ii.destroyed);Nt.length?uH(this,ce,Nt):this.processLeaveNode(ce)}return I.length=0,w.forEach(le=>{this.players.push(le),le.onDone(()=>{le.destroy();let ce=this.players.indexOf(le);this.players.splice(ce,1)}),le.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Jd;a.forEach(d=>{d.queued||!l&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let d=l.element,u=d!==o,f=Zn(i,d,[]);this._getPreviousPlayers(d,u,s,a,n.toState).forEach(g=>{let v=g.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),g.destroy(),f.push(g)})}Ys(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let a=n.triggerName,l=n.element,d=[],u=new Set,f=new Set,p=n.timelines.map(v=>{let x=v.element;u.add(x);let I=x[Fi];if(I&&I.removedBeforeQueried)return new Vo(v.duration,v.delay);let L=x!==l,q=hH((i.get(x)||sH).map(E=>E.getRealPlayer())).filter(E=>{let b=E;return b.element?b.element===x:!1}),j=o.get(x),te=s.get(x),he=hk(this._normalizer,v.keyframes,j,te),ae=this._buildPlayer(v,he,q);if(v.subTimeline&&r&&f.add(x),L){let E=new iu(e,a,x);E.setRealPlayer(ae),d.push(E)}return ae});d.forEach(v=>{Zn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>lH(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>fi(v,tk));let g=Bo(p);return g.onDestroy(()=>{u.forEach(v=>Ol(v,tk)),lr(l,n.toStyles)}),f.forEach(v=>{Zn(r,v,[]).push(g)}),g}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Vo(e.duration,e.delay)}},iu=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Vo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>iw(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Zn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function lH(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function cH(t){return t??null}function dp(t){return t&&t.nodeType===1}function dH(t){return t=="start"||t=="done"}function lk(t,e){let n=t.style.display;return t.style.display=e??"none",n}function ck(t,e,n,i,r){let o=[];n.forEach(l=>o.push(lk(l)));let s=[];i.forEach((l,d)=>{let u=new Map;l.forEach(f=>{let p=e.computeStyle(d,f,r);u.set(f,p),(!p||p.length==0)&&(d[Fi]=aH,s.push(d))}),t.set(d,u)});let a=0;return n.forEach(l=>lk(l,o[a++])),s}function dk(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let d=a.parentNode;return n.has(d)?l=d:r.has(d)?l=i:l=s(d),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==i&&n.get(l).push(a)}),n}function fi(t,e){t.classList?.add(e)}function Ol(t,e){t.classList?.remove(e)}function uH(t,e,n){Bo(n).onDone(()=>t.processLeaveNode(e))}function hH(t){let e=[];return Ek(t,e),e}function Ek(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof Qd?Ek(i.players,e):e.push(i)}}function fH(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function uk(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Pl=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new ew(e.body,n,i,r),this._timelineEngine=new Xy(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],d=[],u=vk(this._driver,o,l,d);if(l.length)throw f$(r,l);d.length&&void 0,a=J$(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=JM(i),a=r;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,a]=JM(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function mH(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=jy(e[0]),e.length>1&&(i=jy(e[e.length-1]))):e instanceof Map&&(n=jy(e)),n||i?new tw(t,n,i):null}var Nl=class Nl{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=Nl.initialStylesByElement.get(e);r||Nl.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&lr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lr(this._element,this._initialStyles),this._endStyles&&(lr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Nl.initialStylesByElement.delete(this._element),this._startStyles&&(Ys(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ys(this._element,this._endStyles),this._endStyles=null),lr(this._element,this._initialStyles),this._state=3)}};Nl.initialStylesByElement=new WeakMap;var tw=Nl;function jy(t){let e=null;return t.forEach((n,i)=>{pH(i)&&(e=e||new Map,e.set(i,n))}),e}function pH(t){return t==="display"||t==="position"}var vp=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:lw(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},yp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return fk(e,n)}getParentElement(e){return ow(e)}query(e,n,i){return mk(e,n,i)}computeStyle(e,n,i){return lw(e,n)}animate(e,n,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let d=new Map,u=s.filter(g=>g instanceof vp);P$(i,r)&&u.forEach(g=>{g.currentSnapshot.forEach((v,x)=>d.set(x,v))});let f=R$(n).map(g=>new Map(g));f=F$(e,f,d);let p=mH(e,f);return new vp(e,f,l,p)}};var up="@",Dk="@.disabled",wp=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==up&&n==Dk?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},nw=class extends wp{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==up?n.charAt(1)=="."&&n==Dk?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==up){let r=gH(e),o=n.slice(1),s="";return o.charAt(0)!=up&&([o,s]=_H(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,n,i)}};function gH(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function _H(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var xp=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let d=this._rendererCache,u=d.get(r);if(!u){let f=()=>d.delete(r);u=new wp(i,r,this.engine,f),d.set(r,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return n.data.animation.forEach(a),new nw(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var vH=(()=>{let e=class e extends Pl{constructor(i,r,o){super(i,r,o,V(_l,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(T(we),T(Zs),T(Xs))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function yH(){return new mp}function wH(t,e,n){return new xp(t,e,n)}var Ck=[{provide:Xs,useFactory:yH},{provide:Pl,useClass:vH},{provide:Bs,useFactory:wH,deps:[np,Pl,J]}],Ik=[{provide:Zs,useFactory:()=>new yp},{provide:$n,useValue:"BrowserAnimations"},...Ck],xH=[{provide:Zs,useClass:sw},{provide:$n,useValue:"NoopAnimations"},...Ck],Tk=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?xH:Ik}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:Ik,imports:[rp]});let t=e;return t})();var Fk=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(M(Oo),M(ve))},e.\u0275dir=ye({type:e});let t=e;return t})(),Lk=(()=>{let e=class e extends Fk{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=tr(e)))(o||e)}})(),e.\u0275dir=ye({type:e,features:[Xt]});let t=e;return t})(),kp=new U("");var EH={provide:kp,useExisting:Oi(()=>cr),multi:!0};function DH(){let t=rr()?rr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var IH=new U(""),cr=(()=>{let e=class e extends Fk{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!DH())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(M(Oo),M(ve),M(IH,8))},e.\u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Re("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Bt([EH]),Xt]});let t=e;return t})();function jo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Vk(t){return t!=null&&typeof t.length=="number"}var lu=new U(""),Rp=new U(""),CH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gt=class{static min(e){return TH(e)}static max(e){return SH(e)}static required(e){return Bk(e)}static requiredTrue(e){return AH(e)}static email(e){return MH(e)}static minLength(e){return kH(e)}static maxLength(e){return RH(e)}static pattern(e){return OH(e)}static nullValidator(e){return Dp(e)}static compose(e){return Gk(e)}static composeAsync(e){return qk(e)}};function TH(t){return e=>{if(jo(e.value)||jo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function SH(t){return e=>{if(jo(e.value)||jo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Bk(t){return jo(t.value)?{required:!0}:null}function AH(t){return t.value===!0?null:{required:!0}}function MH(t){return jo(t.value)||CH.test(t.value)?null:{email:!0}}function kH(t){return e=>jo(e.value)||!Vk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function RH(t){return e=>Vk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function OH(t){if(!t)return Dp;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(jo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Dp(t){return null}function jk(t){return t!=null}function zk(t){return No(t)?We(t):t}function Uk(t){let e={};return t.forEach(n=>{e=n!=null?H(H({},e),n):e}),Object.keys(e).length===0?null:e}function $k(t,e){return e.map(n=>n(t))}function NH(t){return!t.validate}function Hk(t){return t.map(e=>NH(e)?e:n=>e.validate(n))}function Gk(t){if(!t)return null;let e=t.filter(jk);return e.length==0?null:function(n){return Uk($k(n,e))}}function mw(t){return t!=null?Gk(Hk(t)):null}function qk(t){if(!t)return null;let e=t.filter(jk);return e.length==0?null:function(n){let i=$k(n,e).map(zk);return fd(i).pipe(K(Uk))}}function pw(t){return t!=null?qk(Hk(t)):null}function Sk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wk(t){return t._rawValidators}function Kk(t){return t._rawAsyncValidators}function uw(t){return t?Array.isArray(t)?t:[t]:[]}function Ip(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ak(t,e){let n=uw(e);return uw(t).forEach(r=>{Ip(n,r)||n.push(r)}),n}function Mk(t,e){return uw(e).filter(n=>!Ip(t,n))}var Cp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Jr=class extends Cp{get formDirective(){return null}get path(){return null}},Li=class extends Cp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},PH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uoe=ze(H({},PH),{"[class.ng-submitted]":"isSubmitted"}),zo=(()=>{let e=class e extends Tp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(M(Li,2))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xt]});let t=e;return t})(),Uo=(()=>{let e=class e extends Tp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(M(Jr,10))},e.\u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Xt]});let t=e;return t})();var ru="VALID",Ep="INVALID",Fl="PENDING",ou="DISABLED";function gw(t){return(Op(t)?t.validators:t)||null}function FH(t){return Array.isArray(t)?mw(t):t||null}function _w(t,e){return(Op(e)?e.asyncValidators:t)||null}function LH(t){return Array.isArray(t)?pw(t):t||null}function Op(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Qk(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new G(1e3,"");if(!i[n])throw new G(1001,"")}function Yk(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new G(1002,"")})}var Ll=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===Ep}get pending(){return this.status==Fl}get disabled(){return this.status===ou}get enabled(){return this.status!==ou}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ak(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ak(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mk(e,this._rawAsyncValidators))}hasValidator(e){return Ip(this._rawValidators,e)}hasAsyncValidator(e){return Ip(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fl,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ou,this.errors=null,this._forEachChild(i=>{i.disable(ze(H({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ze(H({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ru,this._forEachChild(i=>{i.enable(ze(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ze(H({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===Fl)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ou:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fl,this._hasOwnPendingAsyncValidator=!0;let n=zk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?ou:this.errors?Ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fl)?Fl:this._anyControlsHaveStatus(Ep)?Ep:ru}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Op(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LH(this._rawAsyncValidators)}},Vl=class extends Ll{constructor(e,n,i){super(gw(n),_w(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Yk(this,!0,e),Object.keys(e).forEach(i=>{Qk(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hw=class extends Vl{};var cu=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Np}),Np="always";function Zk(t,e){return[...e.path,t]}function Sp(t,e,n=Np){bw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),BH(t,e),zH(t,e),jH(t,e),VH(t,e)}function kk(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Mp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ap(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function VH(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function bw(t,e){let n=Wk(t);e.validator!==null?t.setValidators(Sk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Kk(t);e.asyncValidator!==null?t.setAsyncValidators(Sk(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Ap(e._rawValidators,r),Ap(e._rawAsyncValidators,r)}function Mp(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Wk(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=Kk(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Ap(e._rawValidators,i),Ap(e._rawAsyncValidators,i),n}function BH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Xk(t,e)})}function jH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Xk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Xk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zH(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Jk(t,e){t==null,bw(t,e)}function UH(t,e){return Mp(t,e)}function eR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $H(t){return Object.getPrototypeOf(t.constructor)===Lk}function tR(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function nR(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===cr?n=o:$H(o)?i=o:r=o}),r||i||n||null}function HH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var GH={provide:Jr,useExisting:Oi(()=>Js)},su=Promise.resolve(),Js=(()=>{let e=class e extends Jr{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Te,this.form=new Vl({},mw(i),pw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){su.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Sp(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){su.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){su.then(()=>{let r=this._findContainer(i.path),o=new Vl({});Jk(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){su.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){su.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,tR(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(M(lu,10),M(Rp,10),M(cu,8))},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Re("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Q.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([GH]),Xt]});let t=e;return t})();function Rk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ok(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var au=class extends Ll{constructor(e=null,n,i){super(gw(n),_w(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Op(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ok(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ok(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qH=t=>t instanceof au;var WH={provide:Li,useExisting:Oi(()=>vw)},Nk=Promise.resolve(),vw=(()=>{let e=class e extends Li{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new au,this._registered=!1,this.name="",this.update=new Te,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=nR(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),eR(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Sp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Nk.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&et(r);Nk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Zk(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(M(Jr,9),M(lu,10),M(Rp,10),M(kp,10),M(Jt,8),M(cu,8))},e.\u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Q.None,"disabled","isDisabled"],model:[Q.None,"ngModel","model"],options:[Q.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bt([WH]),Xt,Ft]});let t=e;return t})(),$o=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),KH={provide:kp,useExisting:Oi(()=>du),multi:!0},du=(()=>{let e=class e extends Lk{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=tr(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&Re("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Bt([KH]),Xt]});let t=e;return t})();var iR=new U("");var QH={provide:Jr,useExisting:Oi(()=>Vi)},Vi=(()=>{let e=class e extends Jr{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Sp(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){kk(i.control||null,i,!1),HH(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,tR(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(kk(r||null,i),qH(o)&&(Sp(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Jk(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&UH(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bw(this.form,this),this._oldForm&&Mp(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(M(lu,10),M(Rp,10),M(cu,8))},e.\u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Re("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Q.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bt([QH]),Xt,Ft]});let t=e;return t})();var YH={provide:Li,useExisting:Oi(()=>ea)},ea=(()=>{let e=class e extends Li{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Te,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=nR(this,s)}ngOnChanges(i){this._added||this._setUpControl(),eR(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Zk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(M(Jr,13),M(lu,10),M(Rp,10),M(kp,10),M(iR,8))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[Q.None,"formControlName","name"],isDisabled:[Q.None,"disabled","isDisabled"],model:[Q.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bt([YH]),Xt,Ft]});let t=e;return t})();var ZH=(()=>{let e=class e{constructor(){this._validator=Dp}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Dp,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,features:[Ft]});let t=e;return t})();var XH={provide:lu,useExisting:Oi(()=>ta),multi:!0};var ta=(()=>{let e=class e extends ZH{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=et,this.createValidator=i=>Bk}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=tr(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&ht("required",o._enabled?"":null)},inputs:{required:"required"},features:[Bt([XH]),Xt]});let t=e;return t})();var rR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),fw=class extends Ll{constructor(e,n,i){super(gw(n),_w(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Yk(this,!1,e),e.forEach((i,r)=>{Qk(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Pk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Bl=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return Pk(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Vl(o,s)}record(i,r=null){let o=this._reduceControls(i);return new hw(o,r)}control(i,r,o){let s={};return this.useNonNullable?(Pk(r)?s=r:(s.validators=r,s.asyncValidators=o),new au(i,ze(H({},s),{nonNullable:!0}))):new au(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new fw(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof au)return i;if(i instanceof Ll)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oR=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:cu,useValue:i.callSetDisabledState??Np}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[rR]});let t=e;return t})(),sR=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:iR,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:cu,useValue:i.callSetDisabledState??Np}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[rR]});let t=e;return t})();var Fe="primary",Iu=Symbol("RouteTitle"),Dw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gl(t){return new Dw(t)}function JH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function eG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dr(t[n],e[n]))return!1;return!0}function dr(t,e){let n=t?Iw(t):void 0,i=e?Iw(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!pR(t[r],e[r]))return!1;return!0}function Iw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function gR(t){return t.length>0?t[t.length-1]:null}function Wo(t){return hd(t)?t:No(t)?We(Promise.resolve(t)):ie(t)}var tG={exact:bR,subset:vR},_R={exact:nG,subset:iG,ignored:()=>!0};function aR(t,e,n){return tG[n.paths](t.root,e.root,n.matrixParams)&&_R[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function nG(t,e){return dr(t,e)}function bR(t,e,n){if(!ia(t.segments,e.segments)||!Lp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!bR(t.children[i],e.children[i],n))return!1;return!0}function iG(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pR(t[n],e[n]))}function vR(t,e,n){return yR(t,e,e.segments,n)}function yR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!ia(r,n)||e.hasChildren()||!Lp(r,n,i))}else if(t.segments.length===n.length){if(!ia(t.segments,n)||!Lp(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!vR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ia(t.segments,r)||!Lp(t.segments,r,i)||!t.children[Fe]?!1:yR(t.children[Fe],e,o,i)}}function Lp(t,e,n){return e.every((i,r)=>_R[n](t[r].parameters,i.parameters))}var Ho=class{constructor(e=new ot([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Gl(this.queryParams),this._queryParamMap}toString(){return sG.serialize(this)}},ot=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vp(this)}},na=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Gl(this.parameters),this._parameterMap}toString(){return xR(this)}};function rG(t,e){return ia(t,e)&&t.every((n,i)=>dr(n.parameters,e[i].parameters))}function ia(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function oG(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Fe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Fe&&(n=n.concat(e(r,i)))}),n}var Cu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>new _u,providedIn:"root"});let t=e;return t})(),_u=class{parse(e){let n=new Tw(e);return new Ho(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${uu(e.root,!0)}`,i=cG(e.queryParams),r=typeof e.fragment=="string"?`#${aG(e.fragment)}`:"";return`${n}${i}${r}`}},sG=new _u;function Vp(t){return t.segments.map(e=>xR(e)).join("/")}function uu(t,e){if(!t.hasChildren())return Vp(t);if(e){let n=t.children[Fe]?uu(t.children[Fe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Fe&&i.push(`${r}:${uu(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=oG(t,(i,r)=>r===Fe?[uu(t.children[Fe],!1)]:[`${r}:${uu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Fe]!=null?`${Vp(t)}/${n[0]}`:`${Vp(t)}/(${n.join("//")})`}}function wR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pp(t){return wR(t).replace(/%3B/gi,";")}function aG(t){return encodeURI(t)}function Cw(t){return wR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bp(t){return decodeURIComponent(t)}function lR(t){return Bp(t.replace(/\+/g,"%20"))}function xR(t){return`${Cw(t.path)}${lG(t.parameters)}`}function lG(t){return Object.entries(t).map(([e,n])=>`;${Cw(e)}=${Cw(n)}`).join("")}function cG(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Pp(n)}=${Pp(r)}`).join("&"):`${Pp(n)}=${Pp(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var dG=/^[^\/()?;#]+/;function yw(t){let e=t.match(dG);return e?e[0]:""}var uG=/^[^\/()?;=#]+/;function hG(t){let e=t.match(uG);return e?e[0]:""}var fG=/^[^=?&#]+/;function mG(t){let e=t.match(fG);return e?e[0]:""}var pG=/^[^&#]+/;function gG(t){let e=t.match(pG);return e?e[0]:""}var Tw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Fe]=new ot(e,n)),i}parseSegment(){let e=yw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new na(Bp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=hG(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=yw(this.remaining);r&&(i=r,this.capture(i))}e[Bp(n)]=Bp(i)}parseQueryParam(e){let n=mG(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=gG(this.remaining);s&&(i=s,this.capture(i))}let r=lR(n),o=lR(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=yw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new G(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Fe]:new ot([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function ER(t){return t.segments.length>0?new ot([],{[Fe]:t}):t}function DR(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=DR(r);if(i===Fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new ot(t.segments,e);return _G(n)}function _G(t){if(t.numberOfChildren===1&&t.children[Fe]){let e=t.children[Fe];return new ot(t.segments.concat(e.segments),e.children)}return t}function ql(t){return t instanceof Ho}function bG(t,e,n=null,i=null){let r=IR(t);return CR(r,e,n,i)}function IR(t){let e;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let a=new ot(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=ER(i);return e??r}function CR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return ww(r,r,r,n,i);let o=vG(e);if(o.toRoot())return ww(r,r,new ot([],{}),n,i);let s=yG(o,r,t),a=s.processChildren?mu(s.segmentGroup,s.index,o.commands):SR(s.segmentGroup,s.index,o.commands);return ww(r,s.segmentGroup,a,n,i)}function jp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bu(t){return typeof t=="object"&&t!=null&&t.outlets}function ww(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(u=>`${u}`):`${d}`});let s;t===e?s=n:s=TR(t,e,n);let a=ER(DR(s));return new Ho(a,o,r)}function TR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=TR(o,e,n)}),new ot(t.segments,i)}var zp=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&jp(i[0]))throw new G(4003,!1);let r=i.find(bu);if(r&&r!==gR(i))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vG(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zp(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new zp(n,e,i)}var $l=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function yG(t,e,n){if(t.isAbsolute)return new $l(e,!0,0);if(!n)return new $l(e,!1,NaN);if(n.parent===null)return new $l(n,!0,0);let i=jp(t.commands[0])?0:1,r=n.segments.length-1+i;return wG(n,r,t.numberOfDoubleDots)}function wG(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new G(4005,!1);r=i.segments.length}return new $l(i,!1,r-o)}function xG(t){return bu(t[0])?t[0].outlets:{[Fe]:t}}function SR(t,e,n){if(t??=new ot([],{}),t.segments.length===0&&t.hasChildren())return mu(t,e,n);let i=EG(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new ot(t.segments.slice(0,i.pathIndex),{});return o.children[Fe]=new ot(t.segments.slice(i.pathIndex),t.children),mu(o,0,r)}else return i.match&&r.length===0?new ot(t.segments,{}):i.match&&!t.hasChildren()?Sw(t,e,n):i.match?mu(t,0,r):Sw(t,e,n)}function mu(t,e,n){if(n.length===0)return new ot(t.segments,{});{let i=xG(n),r={};if(Object.keys(i).some(o=>o!==Fe)&&t.children[Fe]&&t.numberOfChildren===1&&t.children[Fe].segments.length===0){let o=mu(t.children[Fe],e,n);return new ot(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=SR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ot(t.segments,r)}}function EG(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(bu(a))break;let l=`${a}`,d=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!dR(l,d,s))return o;i+=2}else{if(!dR(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Sw(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(bu(o)){let l=DG(o.outlets);return new ot(i,l)}if(r===0&&jp(n[0])){let l=t.segments[e];i.push(new na(l.path,cR(n[0]))),r++;continue}let s=bu(o)?o.outlets[Fe]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&jp(a)?(i.push(new na(s,cR(a))),r+=2):(i.push(new na(s,{})),r++)}return new ot(i,{})}function DG(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Sw(new ot([],{}),0,i))}),e}function cR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function dR(t,e,n){return t==n.path&&dr(e,n.parameters)}var pu="imperative",sn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(sn||{}),mi=class{constructor(e,n){this.id=e,this.url=n}},Wl=class extends mi{constructor(e,n,i="imperative",r=null){super(e,n),this.type=sn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ur=class extends mi{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=sn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Jn||{}),Up=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Up||{}),Go=class extends mi{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=sn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qo=class extends mi{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=sn.NavigationSkipped}},vu=class extends mi{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=sn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$p=class extends mi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Aw=class extends mi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mw=class extends mi{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=sn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kw=class extends mi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rw=class extends mi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ow=class{constructor(e){this.route=e,this.type=sn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nw=class{constructor(e){this.route=e,this.type=sn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pw=class{constructor(e){this.snapshot=e,this.type=sn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fw=class{constructor(e){this.snapshot=e,this.type=sn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lw=class{constructor(e){this.snapshot=e,this.type=sn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vw=class{constructor(e){this.snapshot=e,this.type=sn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=sn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},yu=class{},wu=class{constructor(e){this.url=e}};var Bw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Tu,this.attachRef=null}},Tu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Bw,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jw(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=jw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return zw(e,this._root).map(n=>n.value)}};function jw(t,e){if(t===e.value)return e;for(let n of e.children){let i=jw(t,n);if(i)return i}return null}function zw(t,e){if(t===e.value)return[e];for(let n of e.children){let i=zw(t,n);if(i.length)return i.unshift(e),i}return[]}var Xn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ul(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qp=class extends Gp{constructor(e,n){super(e),this.snapshot=n,Zw(this,e)}toString(){return this.snapshot.toString()}};function AR(t){let e=IG(t),n=new yt([new na("",{})]),i=new yt({}),r=new yt({}),o=new yt({}),s=new yt(""),a=new Bi(n,i,o,s,r,Fe,t,e.root);return a.snapshot=e.root,new qp(new Xn(a,[]),e)}function IG(t){let e={},n={},i={},r="",o=new xu([],e,i,r,n,Fe,t,null,{});return new Wp("",new Xn(o,[]))}var Bi=class{constructor(e,n,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(K(d=>d[Iu]))??ie(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Gl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Gl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:H(H({},e.params),t.params),data:H(H({},e.data),t.data),resolve:H(H(H(H({},t.data),e.data),r?.data),t._resolvedData)}:i={params:H({},t.params),data:H({},t.data),resolve:H(H({},t.data),t._resolvedData??{})},r&&kR(r)&&(i.resolve[Iu]=r.title),i}var xu=class{get title(){return this.data?.[Iu]}constructor(e,n,i,r,o,s,a,l,d){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wp=class extends Gp{constructor(e,n){super(n),this.url=e,Zw(this,n)}toString(){return MR(this._root)}};function Zw(t,e){e.value._routerState=t,e.children.forEach(n=>Zw(t,n))}function MR(t){let e=t.children.length>0?` { ${t.children.map(MR).join(", ")} } `:"";return`${t.value}${e}`}function xw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dr(e.params,n.params)||t.paramsSubject.next(n.params),eG(e.url,n.url)||t.urlSubject.next(n.url),dr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Uw(t,e){let n=dr(t.params,e.params)&&rG(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Uw(t.parent,e.parent))}function kR(t){return typeof t.title=="string"||t.title===null}var Xw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=V(Tu),this.location=V(Hn),this.changeDetector=V(Jt),this.environmentInjector=V(nn),this.inputBinder=V(Xp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new $w(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ft]});let t=e;return t})(),$w=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Bi?this.route:e===Tu?this.childContexts:this.parent.get(e,n)}},Xp=new U(""),uR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=xo([r.queryParams,r.params,r.data]).pipe(Ue(([s,a,l],d)=>(l=H(H(H({},s),a),l),d===0?ie(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=vM(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function CG(t,e,n){let i=Eu(t,e._root,n?n._root:void 0);return new qp(i,e)}function Eu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=TG(t,e,n);return new Xn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Eu(t,a)),s}}let i=SG(e.value),r=e.children.map(o=>Eu(t,o));return new Xn(i,r)}}function TG(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Eu(t,i,r);return Eu(t,i)})}function SG(t){return new Bi(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var RR="ngNavigationCancelingError";function OR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ql(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=NR(!1,Jn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function NR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RR]=!0,n.cancellationCode=e,n}function AG(t){return PR(t)&&ql(t.url)}function PR(t){return!!t&&t[RR]}var MG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Se({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ct],decls:1,vars:0,template:function(r,o){r&1&&be(0,"router-outlet")},dependencies:[Xw],encapsulation:2});let t=e;return t})();function kG(t,e){return t.providers&&!t._injector&&(t._injector=Um(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Jw(t){let e=t.children&&t.children.map(Jw),n=e?ze(H({},t),{children:e}):H({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Fe&&(n.component=MG),n}function hr(t){return t.outlet||Fe}function RG(t,e){let n=t.filter(i=>hr(i)===e);return n.push(...t.filter(i=>hr(i)!==e)),n}function Su(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var OG=(t,e,n,i)=>K(r=>(new Hw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Hw=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),xw(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ul(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ul(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ul(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ul(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Vw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fw(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(xw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Su(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},Kp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hl=class{constructor(e,n){this.component=e,this.route=n}};function NG(t,e,n){let i=t._root,r=e?e._root:null;return hu(i,r,n,[i.value])}function PG(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ql(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!jT(t)?t:e.get(t):i}function hu(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ul(e);return t.children.forEach(s=>{FG(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gu(a,n.getContext(s),r)),r}function FG(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=LG(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Kp(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hu(t,e,a?a.children:null,i,r):hu(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Hl(a.outlet.component,s))}else s&&gu(e,a,r),r.canActivateChecks.push(new Kp(i)),o.component?hu(t,null,a?a.children:null,i,r):hu(t,null,n,i,r);return r}function LG(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ia(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ia(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uw(t,e)||!dr(t.queryParams,e.queryParams);case"paramsChange":default:return!Uw(t,e)}}function gu(t,e,n){let i=Ul(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?gu(s,e.children.getContext(o),n):gu(s,null,n):gu(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Hl(e.outlet.component,r)):n.canDeactivateChecks.push(new Hl(null,r)):n.canDeactivateChecks.push(new Hl(null,r))}function Au(t){return typeof t=="function"}function VG(t){return typeof t=="boolean"}function BG(t){return t&&Au(t.canLoad)}function jG(t){return t&&Au(t.canActivate)}function zG(t){return t&&Au(t.canActivateChild)}function UG(t){return t&&Au(t.canDeactivate)}function $G(t){return t&&Au(t.canMatch)}function FR(t){return t instanceof kr||t?.name==="EmptyError"}var Fp=Symbol("INITIAL_VALUE");function Kl(){return Ue(t=>xo(t.map(e=>e.pipe(Ze(1),Bn(Fp)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===Fp)return Fp;if(n===!1||n instanceof Ho)return n}return!0}),Ce(e=>e!==Fp),Ze(1)))}function HG(t,e){return _t(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ie(ze(H({},n),{guardsResult:!0})):GG(s,i,r,t).pipe(_t(a=>a&&VG(a)?qG(i,o,t,e):ie(a)),K(a=>ze(H({},n),{guardsResult:a})))})}function GG(t,e,n,i){return We(t).pipe(_t(r=>ZG(r.component,r.route,n,e,i)),si(r=>r!==!0,!0))}function qG(t,e,n,i){return We(e).pipe(Or(r=>Vn(KG(r.route.parent,i),WG(r.route,i),YG(t,r.path,n),QG(t,r.route,n))),si(r=>r!==!0,!0))}function WG(t,e){return t!==null&&e&&e(new Lw(t)),ie(!0)}function KG(t,e){return t!==null&&e&&e(new Pw(t)),ie(!0)}function QG(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ie(!0);let r=i.map(o=>Rr(()=>{let s=Su(e)??n,a=Ql(o,s),l=jG(a)?a.canActivate(e,t):jr(s,()=>a(e,t));return Wo(l).pipe(si())}));return ie(r).pipe(Kl())}function YG(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PG(s)).filter(s=>s!==null).map(s=>Rr(()=>{let a=s.guards.map(l=>{let d=Su(s.node)??n,u=Ql(l,d),f=zG(u)?u.canActivateChild(i,t):jr(d,()=>u(i,t));return Wo(f).pipe(si())});return ie(a).pipe(Kl())}));return ie(o).pipe(Kl())}function ZG(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ie(!0);let s=o.map(a=>{let l=Su(e)??r,d=Ql(a,l),u=UG(d)?d.canDeactivate(t,e,n,i):jr(l,()=>d(t,e,n,i));return Wo(u).pipe(si())});return ie(s).pipe(Kl())}function XG(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return ie(!0);let o=r.map(s=>{let a=Ql(s,t),l=BG(a)?a.canLoad(e,n):jr(t,()=>a(e,n));return Wo(l)});return ie(o).pipe(Kl(),LR(i))}function LR(t){return Hb(rt(e=>{if(ql(e))throw OR(t,e)}),K(e=>e===!0))}function JG(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return ie(!0);let o=r.map(s=>{let a=Ql(s,t),l=$G(a)?a.canMatch(e,n):jr(t,()=>a(e,n));return Wo(l)});return ie(o).pipe(Kl(),LR(i))}var Du=class{constructor(e){this.segmentGroup=e||null}},Qp=class extends Error{constructor(e){super(),this.urlTree=e}};function zl(t){return Ki(new Du(t))}function e6(t){return Ki(new G(4e3,!1))}function t6(t){return Ki(NR(!1,Jn.GuardRejected))}var Gw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ie(i);if(r.numberOfChildren>1||!r.children[Fe])return e6(e.redirectTo);r=r.children[Fe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Qp(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Ho(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new ot(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new G(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},qw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n6(t,e,n,i,r){let o=ex(t,e,n);return o.matched?(i=kG(e,i),JG(i,e,n,r).pipe(K(s=>s===!0?o:H({},qw)))):ie(o)}function ex(t,e,n){if(e.path==="**")return i6(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?H({},qw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||JH)(n,t,e);if(!r)return H({},qw);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?H(H({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function i6(t){return{matched:!0,parameters:t.length>0?gR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hR(t,e,n,i){return n.length>0&&s6(t,n,i)?{segmentGroup:new ot(e,o6(i,new ot(n,t.children))),slicedSegments:[]}:n.length===0&&a6(t,n,i)?{segmentGroup:new ot(t.segments,r6(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new ot(t.segments,t.children),slicedSegments:n}}function r6(t,e,n,i){let r={};for(let o of n)if(Jp(t,e,o)&&!i[hr(o)]){let s=new ot([],{});r[hr(o)]=s}return H(H({},i),r)}function o6(t,e){let n={};n[Fe]=e;for(let i of t)if(i.path===""&&hr(i)!==Fe){let r=new ot([],{});n[hr(i)]=r}return n}function s6(t,e,n){return n.some(i=>Jp(t,e,i)&&hr(i)!==Fe)}function a6(t,e,n){return n.some(i=>Jp(t,e,i))}function Jp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function l6(t,e,n,i){return hr(t)!==i&&(i===Fe||!Jp(e,n,t))?!1:ex(e,t,n).matched}function c6(t,e,n){return e.length===0&&!t.children[n]}var Ww=class{};function d6(t,e,n,i,r,o,s="emptyOnly"){return new Kw(t,e,n,i,r,s,o).recognize()}var u6=31,Kw=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=hR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(n=>{let i=new xu([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fe,this.rootComponentType,null,{}),r=new Xn(i,n),o=new Wp("",r),s=bG(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Fe).pipe(Qi(i=>{if(i instanceof Qp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Du?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Yw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(K(o=>o instanceof Xn?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return We(r).pipe(Or(o=>{let s=i.children[o],a=RG(n,o);return this.processSegmentGroup(e,a,s,o)}),Ss((o,s)=>(o.push(...s),o)),Io(null),ev(),_t(o=>{if(o===null)return zl(i);let s=VR(o);return h6(s),ie(s)}))}processSegment(e,n,i,r,o,s){return We(n).pipe(Or(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(Qi(l=>{if(l instanceof Du)return ie(null);throw l}))),si(a=>!!a),Qi(a=>{if(FR(a))return c6(i,r,o)?ie(new Ww):zl(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return l6(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):zl(r):zl(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:u}=ex(n,r,o);if(!a)return zl(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>u6&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,f).pipe(_t(p=>this.processSegment(e,i,n,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=n6(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Ue(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ue(({routes:l})=>{let d=i._loadedInjector??e,{consumedSegments:u,remainingSegments:f,parameters:p}=a,g=new xu(u,p,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,m6(i),hr(i),i.component??i._loadedComponent??null,i,p6(i)),{segmentGroup:v,slicedSegments:x}=hR(n,u,f,l);if(x.length===0&&v.hasChildren())return this.processChildren(d,l,v).pipe(K(L=>L===null?null:new Xn(g,L)));if(l.length===0&&x.length===0)return ie(new Xn(g,[]));let I=hr(i)===o;return this.processSegment(d,l,v,x,I?Fe:o,!0).pipe(K(L=>new Xn(g,L instanceof Xn?[L]:[])))}))):zl(n)))}getChildConfig(e,n,i){return n.children?ie({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ie({routes:n._loadedRoutes,injector:n._loadedInjector}):XG(e,n,i,this.urlSerializer).pipe(_t(r=>r?this.configLoader.loadChildren(e,n).pipe(rt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):t6(n))):ie({routes:[],injector:e})}};function h6(t){t.sort((e,n)=>e.value.outlet===Fe?-1:n.value.outlet===Fe?1:e.value.outlet.localeCompare(n.value.outlet))}function f6(t){let e=t.value.routeConfig;return e&&e.path===""}function VR(t){let e=[],n=new Set;for(let i of t){if(!f6(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=VR(i.children);e.push(new Xn(i.value,r))}return e.filter(i=>!n.has(i))}function m6(t){return t.data||{}}function p6(t){return t.resolve||{}}function g6(t,e,n,i,r,o){return _t(s=>d6(t,e,n,i,s.extractedUrl,r,o).pipe(K(({state:a,tree:l})=>ze(H({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function _6(t,e){return _t(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ie(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of BR(l))s.add(d);let a=0;return We(s).pipe(Or(l=>o.has(l)?b6(l,i,t,e):(l.data=Yw(l,l.parent,t).resolve,ie(void 0))),rt(()=>a++),tl(1),_t(l=>a===s.size?ie(n):Pt))})}function BR(t){let e=t.children.map(n=>BR(n)).flat();return[t,...e]}function b6(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!kR(r)&&(o[Iu]=r.title),v6(o,t,e,i).pipe(K(s=>(t._resolvedData=s,t.data=Yw(t,t.parent,n).resolve,null)))}function v6(t,e,n,i){let r=Iw(t);if(r.length===0)return ie({});let o={};return We(r).pipe(_t(s=>y6(t[s],e,n,i).pipe(si(),rt(a=>{o[s]=a}))),tl(1),gd(o),Qi(s=>FR(s)?Pt:Ki(s)))}function y6(t,e,n,i){let r=Su(e)??i,o=Ql(t,r),s=o.resolve?o.resolve(e,n):jr(r,()=>o(e,n));return Wo(s)}function Ew(t){return Ue(e=>{let n=t(e);return n?We(n).pipe(K(()=>e)):ie(e)})}var jR=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Fe);return r}getResolvedTitleForRoute(i){return i.data[Iu]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>V(w6),providedIn:"root"});let t=e;return t})(),w6=(()=>{let e=class e extends jR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(T(KM))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mu=new U("",{providedIn:"root",factory:()=>({})}),Yp=new U(""),tx=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Km)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ie(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Wo(i.loadComponent()).pipe(K(zR),rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Pr(()=>{this.componentLoaders.delete(i)})),o=new Mr(r,()=>new oe).pipe(Qa());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=x6(r,this.compiler,i,this.onLoadEndListener).pipe(Pr(()=>{this.childrenLoaders.delete(r)})),a=new Mr(s,()=>new oe).pipe(Qa());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x6(t,e,n,i){return Wo(t.loadChildren()).pipe(K(zR),_t(r=>r instanceof Sd||Array.isArray(r)?ie(r):We(e.compileModuleAsync(r))),K(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Yp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Jw),injector:o}}))}function E6(t){return t&&typeof t=="object"&&"default"in t}function zR(t){return E6(t)?t.default:t}var nx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>V(D6),providedIn:"root"});let t=e;return t})(),D6=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UR=new U(""),$R=new U("");function I6(t,e,n){let i=t.get($R),r=t.get(we);return t.get(J).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),C6(t))),{onViewTransitionCreated:l}=i;return l&&jr(t,()=>l({transition:a,from:e,to:n})),s})}function C6(t){return new Promise(e=>{jm(e,{injector:t})})}var ix=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new oe,this.transitionAbortSubject=new oe,this.configLoader=V(tx),this.environmentInjector=V(nn),this.urlSerializer=V(Cu),this.rootContexts=V(Tu),this.location=V(Po),this.inputBindingEnabled=V(Xp,{optional:!0})!==null,this.titleStrategy=V(jR),this.options=V(Mu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(nx),this.createViewTransition=V(UR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Ow(o)),r=o=>this.events.next(new Nw(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ze(H(H({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new yt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ce(s=>s.id!==0),K(s=>ze(H({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ue(s=>{let a=!1,l=!1;return ie(s).pipe(Ue(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Jn.SupersededByNewNavigation),Pt;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?ze(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=d.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&f!=="reload"){let p="";return this.events.next(new qo(d.id,this.urlSerializer.serialize(d.rawUrl),p,Up.IgnoredSameUrlNavigation)),d.resolve(null),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return ie(d).pipe(Ue(p=>{let g=this.transitions?.getValue();return this.events.next(new Wl(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Pt:Promise.resolve(p)}),g6(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ze(H({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new $p(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:x,extras:I}=d,L=new Wl(p,this.urlSerializer.serialize(g),v,x);this.events.next(L);let q=AR(this.rootComponentType).snapshot;return this.currentTransition=s=ze(H({},d),{targetSnapshot:q,urlAfterRedirects:g,extras:ze(H({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ie(s)}else{let p="";return this.events.next(new qo(d.id,this.urlSerializer.serialize(d.extractedUrl),p,Up.IgnoredByUrlHandlingStrategy)),d.resolve(null),Pt}}),rt(d=>{let u=new Aw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),K(d=>(this.currentTransition=s=ze(H({},d),{guards:NG(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),HG(this.environmentInjector,d=>this.events.next(d)),rt(d=>{if(s.guardsResult=d.guardsResult,ql(d.guardsResult))throw OR(this.urlSerializer,d.guardsResult);let u=new Mw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(u)}),Ce(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Jn.GuardRejected),!1)),Ew(d=>{if(d.guards.canActivateChecks.length)return ie(d).pipe(rt(u=>{let f=new kw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Ue(u=>{let f=!1;return ie(u).pipe(_6(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Jn.NoDataFromResolver)}}))}),rt(u=>{let f=new Rw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Ew(d=>{let u=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(rt(g=>{f.component=g}),K(()=>{})));for(let g of f.children)p.push(...u(g));return p};return xo(u(d.targetSnapshot.root)).pipe(Io(null),Ze(1))}),Ew(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:d,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,d.root,u.root);return f?We(f).pipe(K(()=>s)):ie(s)}),K(d=>{let u=CG(i.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=ze(H({},d),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),rt(()=>{this.events.next(new yu)}),OG(this.rootContexts,i.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Ze(1),rt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ur(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),$e(this.transitionAbortSubject.pipe(rt(d=>{throw d}))),Pr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Jn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qi(d=>{if(l=!0,PR(d))this.events.next(new Go(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),AG(d)?this.events.next(new wu(d.url)):s.resolve(!1);else{this.events.next(new vu(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(d))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Pt}))}))}cancelNavigationTransition(i,r,o){let s=new Go(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T6(t){return t!==pu}var S6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>V(A6),providedIn:"root"});let t=e;return t})(),Qw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},A6=(()=>{let e=class e extends Qw{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=tr(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>V(M6),providedIn:"root"});let t=e;return t})(),M6=(()=>{let e=class e extends HR{constructor(){super(...arguments),this.location=V(Po),this.urlSerializer=V(Cu),this.options=V(Mu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(nx),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ho,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=AR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Wl)this.stateMemento=this.createStateMemento();else if(i instanceof qo)this.rawUrlTree=r.initialUrl;else if(i instanceof $p){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof yu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Go&&(i.code===Jn.GuardRejected||i.code===Jn.NoDataFromResolver)?this.restoreHistory(r):i instanceof vu?this.restoreHistory(r,!0):i instanceof ur&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=H(H({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=tr(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fu||{});function GR(t,e){t.events.pipe(Ce(n=>n instanceof ur||n instanceof Go||n instanceof vu||n instanceof qo),K(n=>n instanceof ur||n instanceof qo?fu.COMPLETE:(n instanceof Go?n.code===Jn.Redirect||n.code===Jn.SupersededByNewNavigation:!1)?fu.REDIRECTING:fu.FAILED),Ce(n=>n!==fu.REDIRECTING),Ze(1)).subscribe(()=>{e()})}function k6(t){throw t}var R6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(Gm),this.stateManager=V(HR),this.options=V(Mu,{optional:!0})||{},this.pendingTasks=V(Vd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(ix),this.urlSerializer=V(Cu),this.location=V(Po),this.urlHandlingStrategy=V(nx),this._events=new oe,this.errorHandler=this.options.errorHandler||k6,this.navigated=!1,this.routeReuseStrategy=V(S6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Yp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Xp,{optional:!0}),this.eventsSubscription=new qe,this.isNgZoneEnabled=V(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Go&&r.code!==Jn.Redirect&&r.code!==Jn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ur)this.navigated=!0;else if(r instanceof wu){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||T6(o.source)};this.scheduleNavigation(a,pu,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}P6(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=H({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Jw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=r,u=d?this.currentUrlTree.fragment:a,f=null;switch(l){case"merge":f=H(H({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=o?o.snapshot:this.routerState.snapshot.root;p=IR(g)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),p=this.currentUrlTree.root}return CR(p,i,f,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=ql(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,pu,null,r)}navigate(i,r={skipLocationChange:!1}){return N6(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=H({},R6):r===!1?o=H({},O6):o=r,ql(i))return aR(this.currentUrlTree,i,o);let s=this.parseUrl(i);return aR(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,u;a?(l=a.resolve,d=a.reject,u=a.promise):u=new Promise((p,g)=>{l=p,d=g});let f=this.pendingTasks.add();return GR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:d,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N6(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function P6(t){return!(t instanceof yu)&&!(t instanceof wu)}var Yl=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:uA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(M(qt),M(Bi),nr("tabindex"),M(Oo),M(ve),M(Yr))},e.\u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Re("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ht("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Q.HasDecoratorInputTransform,"preserveFragment","preserveFragment",et],skipLocationChange:[Q.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",et],replaceUrl:[Q.HasDecoratorInputTransform,"replaceUrl","replaceUrl",et],routerLink:"routerLink"},standalone:!0,features:[fn,Ft]});let t=e;return t})();var Zp=class{};var F6=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ce(i=>i instanceof ur),Or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Um(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return We(o).pipe(Eo())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=ie(null);let s=o.pipe(_t(a=>a===null?ie(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return We([s,a]).pipe(Eo())}else return s})}};e.\u0275fac=function(r){return new(r||e)(T(qt),T(Km),T(nn),T(Zp),T(tx))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qR=new U(""),L6=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=V(nn),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Wl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ur?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof qo&&i.code===Up.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Hp&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>R(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),jm(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Hp(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Pm()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function V6(t){return t.routerState.root}function ku(t,e){return{\u0275kind:t,\u0275providers:e}}function B6(){let t=V(kt);return e=>{let n=t.get(hi);if(e!==n.components[0])return;let i=t.get(qt),r=t.get(WR);t.get(rx)===1&&i.initialNavigation(),t.get(KR,null,Be.Optional)?.setUpPreloading(),t.get(qR,null,Be.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var WR=new U("",{factory:()=>new oe}),rx=new U("",{providedIn:"root",factory:()=>1});function j6(){return ku(2,[{provide:rx,useValue:0},{provide:Sl,multi:!0,deps:[kt],useFactory:e=>{let n=e.get(SM,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(qt),o=e.get(WR);GR(r,()=>{i(!0)}),e.get(ix).afterPreactivation=()=>(i(!0),o.closed?ie(void 0):o),r.initialNavigation()}))}}])}function z6(){return ku(3,[{provide:Sl,multi:!0,useFactory:()=>{let e=V(qt);return()=>{e.setUpLocationChangeListener()}}},{provide:rx,useValue:2}])}var KR=new U("");function U6(t){return ku(0,[{provide:KR,useExisting:F6},{provide:Zp,useExisting:t}])}function $6(){return ku(8,[uR,{provide:Xp,useExisting:uR}])}function H6(t){let e=[{provide:UR,useValue:I6},{provide:$R,useValue:H({skipNextTransition:!!t?.skipInitialTransition},t)}];return ku(9,e)}var fR=new U("ROUTER_FORROOT_GUARD"),G6=[Po,{provide:Cu,useClass:_u},qt,Tu,{provide:Bi,useFactory:V6,deps:[qt]},tx,[]],ox=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[G6,[],{provide:Yp,multi:!0,useValue:i},{provide:fR,useFactory:Q6,deps:[[qt,new Us,new bm]]},{provide:Mu,useValue:r||{}},r?.useHash?W6():K6(),q6(),r?.preloadingStrategy?U6(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Y6(r):[],r?.bindToComponentInputs?$6().\u0275providers:[],r?.enableViewTransitions?H6().\u0275providers:[],Z6()]}}static forChild(i){return{ngModule:e,providers:[{provide:Yp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(T(fR,8))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();function q6(){return{provide:qR,useFactory:()=>{let t=V(OM),e=V(J),n=V(Mu),i=V(ix),r=V(Cu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new L6(r,i,t,e,n)}}}function W6(){return{provide:Yr,useClass:MM}}function K6(){return{provide:Yr,useClass:_y}}function Q6(t){return"guarded"}function Y6(t){return[t.initialNavigation==="disabled"?z6().\u0275providers:[],t.initialNavigation==="enabledBlocking"?j6().\u0275providers:[]]}var mR=new U("");function Z6(){return[{provide:mR,useFactory:B6},{provide:ry,multi:!0,useExisting:mR}]}var X6="firebase",J6="10.12.0";yo(X6,J6,"app");var Zl=new er("ANGULARFIRE2_VERSION");var e8=(t,e)=>{let n=e?[e]:EC(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},ra=class{constructor(){return e8(t8)}},t8="app-check";function sx(){}var eg=class{zone;delegate;constructor(e,n=Qb){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},ax=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sx,{},sx,sx)),n.pipe(rt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},tg=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new eg(Zone.current)),this.insideAngular=n.run(()=>new eg(Zone.current,ri)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(T(J))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function n8(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Gn(t){return i8(n8())(t)}function i8(t){return function(n){return n=n.lift(new ax(t.ngZone)),n.pipe(Ti(t.outsideAngular),oi(t.insideAngular))}}var s8=new Map,a8={activated:!1,tokenObservers:[]},l8={initialized:!1,enabled:!1};function zi(t){return s8.get(t)||Object.assign({},a8)}function eO(){return l8}var c8="https://content-firebaseappcheck.googleapis.com/v1";var d8="exchangeDebugToken",YR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Woe=24*60*60*1e3;var cx=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return R(this,null,function*(){this.stop();try{this.pending=new Sb,this.pending.promise.catch(n=>{}),yield u8(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Sb,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function u8(t){return new Promise(e=>{setTimeout(e,t)})}var h8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ko=new wC("appCheck","AppCheck",h8);function tO(t){if(!zi(t).activated)throw Ko.create("use-before-activation",{appName:t.name})}function nO(i,r){return R(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(g){throw Ko.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw Ko.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(g){throw Ko.create("fetch-parse-error",{originalErrorMessage:g?.message})}let u=d.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ko.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let f=Number(u[1])*1e3,p=Date.now();return{token:d.token,expireTimeMillis:p+f,issuedAtTimeMillis:p}})}function iO(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${c8}/projects/${n}/apps/${i}:${d8}?key=${r}`,body:{debug_token:e}}}var f8="firebase-app-check-database",m8=1,dx="firebase-app-check-store";var ng=null;function p8(){return ng||(ng=new Promise((t,e)=>{try{let n=indexedDB.open(f8,m8);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(Ko.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(dx,{keyPath:"compositeKey"})}}}catch(n){e(Ko.create("storage-open",{originalErrorMessage:n?.message}))}}),ng)}function g8(t,e){return _8(b8(t),e)}function _8(t,e){return R(this,null,function*(){let i=(yield p8()).transaction(dx,"readwrite"),o=i.objectStore(dx).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var d;a(Ko.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function b8(t){return`${t.options.appId}-${t.name}`}var ux=new Jh("@firebase/app-check");function lx(t,e){return Xh()?g8(t,e).catch(n=>{ux.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rO(){return eO().enabled}function oO(){return R(this,null,function*(){let t=eO();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var v8={error:"UNKNOWN_ERROR"};function y8(t){return bC.encodeString(JSON.stringify(t),!1)}function hx(t,e=!1){return R(this,null,function*(){let n=t.app;tO(n);let i=zi(n),r=i.token,o;if(r&&!Ru(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Ru(l)?r=l:yield lx(n,void 0))}if(!e&&r&&Ru(r))return{token:r.token};let s=!1;if(rO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=nO(iO(n,yield oO()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield lx(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield zi(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?ux.warn(l.message):ux.error(l),o=l}let a;return r?o?Ru(r)?a={token:r.token,internalError:o}:a=XR(o):(a={token:r.token},i.token=r,yield lx(n,r)):a=XR(o),s&&D8(n,a),a})}function w8(t){return R(this,null,function*(){let e=t.app;tO(e);let{provider:n}=zi(e);if(rO()){let i=yield oO(),{token:r}=yield nO(iO(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function x8(t,e,n,i){let{app:r}=t,o=zi(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ru(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),ZR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ZR(t))}function sO(t,e){let n=zi(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function ZR(t){let{app:e}=t,n=zi(e),i=n.tokenRefresher;i||(i=E8(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function E8(t){let{app:e}=t;return new cx(()=>R(this,null,function*(){let n=zi(e),i;if(n.token?i=yield hx(t,!0):i=yield hx(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=zi(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},YR.RETRIAL_MIN_WAIT,YR.RETRIAL_MAX_WAIT)}function D8(t,e){let n=zi(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ru(t){return t.expireTimeMillis-Date.now()>0}function XR(t){return{token:y8(v8),error:t}}var fx=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=zi(this.app);for(let n of e)sO(this.app,n.next);return Promise.resolve()}};function I8(t,e){return new fx(t,e)}function C8(t){return{getToken:e=>hx(t,e),getLimitedUseToken:()=>w8(t),addTokenListener:e=>x8(t,"INTERNAL",e),removeTokenListener:e=>sO(t.app,e)}}var T8="@firebase/app-check",S8="0.8.4";var A8="app-check",JR="app-check-internal";function M8(){cd(new Es(A8,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return I8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(JR).initialize()})),cd(new Es(JR,t=>{let e=t.getProvider("app-check").getImmediate();return C8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),yo(T8,S8)}M8();var k8=["localhost","0.0.0.0","127.0.0.1"],ose=typeof window<"u"&&k8.includes(window.location.hostname);var R8="firebase",O8="10.12.0";Fn.registerVersion(R8,O8,"app-compat");var N8=["ngOnDestroy"],cO=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(N8.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(d=>n.run(()=>d)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,d)=>s.then(u=>{let f=u?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,f),f})})})});var ig=class{constructor(e){return e}},Xl=new U("angularfire2.app.options"),Jl=new U("angularfire2.app.name");function Ou(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=Fn.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Fn.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;P8("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ig(s)}var P8=(t,...e)=>{$d()&&typeof console<"u"&&console[t](...e)},F8={provide:ig,useFactory:Ou,deps:[Xl,J,[new Us,Jl]]},dO=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:Xl,useValue:n},{provide:Jl,useValue:i}]}}constructor(n){Fn.registerVersion("angularfire",Zl.full,"core"),Fn.registerVersion("angularfire",Zl.full,"app-compat"),Fn.registerVersion("angular",dM.full,n.toString())}static \u0275fac=function(i){return new(i||t)(T(Ht))};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[F8]})}return t})();function rg(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return L8(r,s)||(lO("error",`${e} was already initialized on the ${n} Firebase App with different settings.${V8?" You may need to reload as Firebase is not HMR aware.":""}`),lO("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function L8(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var V8=typeof module<"u"&&!!module.hot,lO=(t,...e)=>{$d()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var mx=new U("angularfire2.auth.use-emulator"),px=new U("angularfire2.auth.settings"),gx=new U("angularfire2.auth.tenant-id"),_x=new U("angularfire2.auth.langugage-code"),bx=new U("angularfire2.auth.use-device-language"),vx=new U("angularfire.auth.persistence"),yx=(t,e,n,i,r,o,s,a)=>rg(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[d,u]of Object.entries(s))l.settings[d]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),og=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,d,u,f,p,g){let v=new oe,x=ie(void 0).pipe(oi(s.outsideAngular),Ue(()=>o.runOutsideAngular(()=>import("./chunk-RVBV3CD7.js"))),K(()=>Ou(n,o,i)),K(I=>yx(I,o,a,d,u,f,l,p)),As({bufferSize:1,refCount:!1}));if(Ws(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ie(null);else{x.pipe(si()).subscribe();let I=x.pipe(Ue(j=>j.getRedirectResult().then(te=>te,()=>null)),Gn,As({bufferSize:1,refCount:!1})),L=x.pipe(Ue(j=>new de(te=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(he=>te.next(he),he=>te.error(he),()=>te.complete()))})))),q=x.pipe(Ue(j=>new de(te=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(he=>te.next(he),he=>te.error(he),()=>te.complete()))}))));this.authState=I.pipe(kf(L),Ti(s.outsideAngular),oi(s.insideAngular)),this.user=I.pipe(kf(q),Ti(s.outsideAngular),oi(s.insideAngular)),this.idToken=this.user.pipe(Ue(j=>j?We(j.getIdToken()):ie(null))),this.idTokenResult=this.user.pipe(Ue(j=>j?We(j.getIdTokenResult()):ie(null))),this.credential=Tn(I,v,this.authState.pipe(Ce(j=>!j))).pipe(K(j=>j?.user?j:null),Ti(s.outsideAngular),oi(s.insideAngular))}return cO(this,x,o,{spy:{apply:(I,L,q)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&q.then(j=>v.next(j))}}})}static \u0275fac=function(i){return new(i||t)(T(Xl),T(Jl,8),T(Ht),T(J),T(tg),T(mx,8),T(px,8),T(gx,8),T(_x,8),T(bx,8),T(vx,8),T(ra,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var hO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fO={};var Qo,wx;(function(){var t;function e(E,b){function y(){}y.prototype=b.prototype,E.D=b.prototype,E.prototype=new y,E.prototype.constructor=E,E.C=function(D,C,A){for(var w=Array(arguments.length-2),ni=2;ni<arguments.length;ni++)w[ni-2]=arguments[ni];return b.prototype[C].apply(D,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,b,y){y||(y=0);var D=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)D[C]=b.charCodeAt(y++)|b.charCodeAt(y++)<<8|b.charCodeAt(y++)<<16|b.charCodeAt(y++)<<24;else for(C=0;16>C;++C)D[C]=b[y++]|b[y++]<<8|b[y++]<<16|b[y++]<<24;b=E.g[0],y=E.g[1],C=E.g[2];var A=E.g[3],w=b+(A^y&(C^A))+D[0]+3614090360&4294967295;b=y+(w<<7&4294967295|w>>>25),w=A+(C^b&(y^C))+D[1]+3905402710&4294967295,A=b+(w<<12&4294967295|w>>>20),w=C+(y^A&(b^y))+D[2]+606105819&4294967295,C=A+(w<<17&4294967295|w>>>15),w=y+(b^C&(A^b))+D[3]+3250441966&4294967295,y=C+(w<<22&4294967295|w>>>10),w=b+(A^y&(C^A))+D[4]+4118548399&4294967295,b=y+(w<<7&4294967295|w>>>25),w=A+(C^b&(y^C))+D[5]+1200080426&4294967295,A=b+(w<<12&4294967295|w>>>20),w=C+(y^A&(b^y))+D[6]+2821735955&4294967295,C=A+(w<<17&4294967295|w>>>15),w=y+(b^C&(A^b))+D[7]+4249261313&4294967295,y=C+(w<<22&4294967295|w>>>10),w=b+(A^y&(C^A))+D[8]+1770035416&4294967295,b=y+(w<<7&4294967295|w>>>25),w=A+(C^b&(y^C))+D[9]+2336552879&4294967295,A=b+(w<<12&4294967295|w>>>20),w=C+(y^A&(b^y))+D[10]+4294925233&4294967295,C=A+(w<<17&4294967295|w>>>15),w=y+(b^C&(A^b))+D[11]+2304563134&4294967295,y=C+(w<<22&4294967295|w>>>10),w=b+(A^y&(C^A))+D[12]+1804603682&4294967295,b=y+(w<<7&4294967295|w>>>25),w=A+(C^b&(y^C))+D[13]+4254626195&4294967295,A=b+(w<<12&4294967295|w>>>20),w=C+(y^A&(b^y))+D[14]+2792965006&4294967295,C=A+(w<<17&4294967295|w>>>15),w=y+(b^C&(A^b))+D[15]+1236535329&4294967295,y=C+(w<<22&4294967295|w>>>10),w=b+(C^A&(y^C))+D[1]+4129170786&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^C&(b^y))+D[6]+3225465664&4294967295,A=b+(w<<9&4294967295|w>>>23),w=C+(b^y&(A^b))+D[11]+643717713&4294967295,C=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(C^A))+D[0]+3921069994&4294967295,y=C+(w<<20&4294967295|w>>>12),w=b+(C^A&(y^C))+D[5]+3593408605&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^C&(b^y))+D[10]+38016083&4294967295,A=b+(w<<9&4294967295|w>>>23),w=C+(b^y&(A^b))+D[15]+3634488961&4294967295,C=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(C^A))+D[4]+3889429448&4294967295,y=C+(w<<20&4294967295|w>>>12),w=b+(C^A&(y^C))+D[9]+568446438&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^C&(b^y))+D[14]+3275163606&4294967295,A=b+(w<<9&4294967295|w>>>23),w=C+(b^y&(A^b))+D[3]+4107603335&4294967295,C=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(C^A))+D[8]+1163531501&4294967295,y=C+(w<<20&4294967295|w>>>12),w=b+(C^A&(y^C))+D[13]+2850285829&4294967295,b=y+(w<<5&4294967295|w>>>27),w=A+(y^C&(b^y))+D[2]+4243563512&4294967295,A=b+(w<<9&4294967295|w>>>23),w=C+(b^y&(A^b))+D[7]+1735328473&4294967295,C=A+(w<<14&4294967295|w>>>18),w=y+(A^b&(C^A))+D[12]+2368359562&4294967295,y=C+(w<<20&4294967295|w>>>12),w=b+(y^C^A)+D[5]+4294588738&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^C)+D[8]+2272392833&4294967295,A=b+(w<<11&4294967295|w>>>21),w=C+(A^b^y)+D[11]+1839030562&4294967295,C=A+(w<<16&4294967295|w>>>16),w=y+(C^A^b)+D[14]+4259657740&4294967295,y=C+(w<<23&4294967295|w>>>9),w=b+(y^C^A)+D[1]+2763975236&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^C)+D[4]+1272893353&4294967295,A=b+(w<<11&4294967295|w>>>21),w=C+(A^b^y)+D[7]+4139469664&4294967295,C=A+(w<<16&4294967295|w>>>16),w=y+(C^A^b)+D[10]+3200236656&4294967295,y=C+(w<<23&4294967295|w>>>9),w=b+(y^C^A)+D[13]+681279174&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^C)+D[0]+3936430074&4294967295,A=b+(w<<11&4294967295|w>>>21),w=C+(A^b^y)+D[3]+3572445317&4294967295,C=A+(w<<16&4294967295|w>>>16),w=y+(C^A^b)+D[6]+76029189&4294967295,y=C+(w<<23&4294967295|w>>>9),w=b+(y^C^A)+D[9]+3654602809&4294967295,b=y+(w<<4&4294967295|w>>>28),w=A+(b^y^C)+D[12]+3873151461&4294967295,A=b+(w<<11&4294967295|w>>>21),w=C+(A^b^y)+D[15]+530742520&4294967295,C=A+(w<<16&4294967295|w>>>16),w=y+(C^A^b)+D[2]+3299628645&4294967295,y=C+(w<<23&4294967295|w>>>9),w=b+(C^(y|~A))+D[0]+4096336452&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~C))+D[7]+1126891415&4294967295,A=b+(w<<10&4294967295|w>>>22),w=C+(b^(A|~y))+D[14]+2878612391&4294967295,C=A+(w<<15&4294967295|w>>>17),w=y+(A^(C|~b))+D[5]+4237533241&4294967295,y=C+(w<<21&4294967295|w>>>11),w=b+(C^(y|~A))+D[12]+1700485571&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~C))+D[3]+2399980690&4294967295,A=b+(w<<10&4294967295|w>>>22),w=C+(b^(A|~y))+D[10]+4293915773&4294967295,C=A+(w<<15&4294967295|w>>>17),w=y+(A^(C|~b))+D[1]+2240044497&4294967295,y=C+(w<<21&4294967295|w>>>11),w=b+(C^(y|~A))+D[8]+1873313359&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~C))+D[15]+4264355552&4294967295,A=b+(w<<10&4294967295|w>>>22),w=C+(b^(A|~y))+D[6]+2734768916&4294967295,C=A+(w<<15&4294967295|w>>>17),w=y+(A^(C|~b))+D[13]+1309151649&4294967295,y=C+(w<<21&4294967295|w>>>11),w=b+(C^(y|~A))+D[4]+4149444226&4294967295,b=y+(w<<6&4294967295|w>>>26),w=A+(y^(b|~C))+D[11]+3174756917&4294967295,A=b+(w<<10&4294967295|w>>>22),w=C+(b^(A|~y))+D[2]+718787259&4294967295,C=A+(w<<15&4294967295|w>>>17),w=y+(A^(C|~b))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+A&4294967295}i.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var y=b-this.blockSize,D=this.B,C=this.h,A=0;A<b;){if(C==0)for(;A<=y;)r(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<b;)if(D[C++]=E.charCodeAt(A++),C==this.blockSize){r(this,D),C=0;break}}else for(;A<b;)if(D[C++]=E[A++],C==this.blockSize){r(this,D),C=0;break}}this.h=C,this.o+=b},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var y=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=y&255,y/=256;for(this.u(E),E=Array(16),b=y=0;4>b;++b)for(var D=0;32>D;D+=8)E[y++]=this.g[b]>>>D&255;return E};function o(E,b){var y=a;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=b(E)}function s(E,b){this.h=b;for(var y=[],D=!0,C=E.length-1;0<=C;C--){var A=E[C]|0;D&&A==b||(y[C]=A,D=!1)}this.g=y}var a={};function l(E){return-128<=E&&128>E?o(E,function(b){return new s([b|0],0>b?-1:0)}):new s([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return I(d(-E));for(var b=[],y=1,D=0;E>=y;D++)b[D]=E/y|0,y*=4294967296;return new s(b,0)}function u(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return I(u(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(b,8)),D=f,C=0;C<E.length;C+=8){var A=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+A),b);8>A?(A=d(Math.pow(b,A)),D=D.j(A).add(d(w))):(D=D.j(y),D=D.add(d(w)))}return D}var f=l(0),p=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-I(this).m();for(var E=0,b=1,y=0;y<this.g.length;y++){var D=this.i(y);E+=(0<=D?D:4294967296+D)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(x(this))return"-"+I(this).toString(E);for(var b=d(Math.pow(E,6)),y=this,D="";;){var C=te(y,b).g;y=L(y,C.j(b));var A=((0<y.g.length?y.g[0]:y.h)>>>0).toString(E);if(y=C,v(y))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=L(this,E),x(E)?-1:v(E)?0:1};function I(E){for(var b=E.g.length,y=[],D=0;D<b;D++)y[D]=~E.g[D];return new s(y,~E.h).add(p)}t.abs=function(){return x(this)?I(this):this},t.add=function(E){for(var b=Math.max(this.g.length,E.g.length),y=[],D=0,C=0;C<=b;C++){var A=D+(this.i(C)&65535)+(E.i(C)&65535),w=(A>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);D=w>>>16,A&=65535,w&=65535,y[C]=w<<16|A}return new s(y,y[y.length-1]&-2147483648?-1:0)};function L(E,b){return E.add(I(b))}t.j=function(E){if(v(this)||v(E))return f;if(x(this))return x(E)?I(this).j(I(E)):I(I(this).j(E));if(x(E))return I(this.j(I(E)));if(0>this.l(g)&&0>E.l(g))return d(this.m()*E.m());for(var b=this.g.length+E.g.length,y=[],D=0;D<2*b;D++)y[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<E.g.length;C++){var A=this.i(D)>>>16,w=this.i(D)&65535,ni=E.i(C)>>>16,mo=E.i(C)&65535;y[2*D+2*C]+=w*mo,q(y,2*D+2*C),y[2*D+2*C+1]+=A*mo,q(y,2*D+2*C+1),y[2*D+2*C+1]+=w*ni,q(y,2*D+2*C+1),y[2*D+2*C+2]+=A*ni,q(y,2*D+2*C+2)}for(D=0;D<b;D++)y[D]=y[2*D+1]<<16|y[2*D];for(D=b;D<2*b;D++)y[D]=0;return new s(y,0)};function q(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function j(E,b){this.g=E,this.h=b}function te(E,b){if(v(b))throw Error("division by zero");if(v(E))return new j(f,f);if(x(E))return b=te(I(E),b),new j(I(b.g),I(b.h));if(x(b))return b=te(E,I(b)),new j(I(b.g),b.h);if(30<E.g.length){if(x(E)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var y=p,D=b;0>=D.l(E);)y=he(y),D=he(D);var C=ae(y,1),A=ae(D,1);for(D=ae(D,2),y=ae(y,2);!v(D);){var w=A.add(D);0>=w.l(E)&&(C=C.add(y),A=w),D=ae(D,1),y=ae(y,1)}return b=L(E,C.j(b)),new j(C,b)}for(C=f;0<=E.l(b);){for(y=Math.max(1,Math.floor(E.m()/b.m())),D=Math.ceil(Math.log(y)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=d(y),w=A.j(b);x(w)||0<w.l(E);)y-=D,A=d(y),w=A.j(b);v(A)&&(A=p),C=C.add(A),E=L(E,w)}return new j(C,E)}t.A=function(E){return te(this,E).h},t.and=function(E){for(var b=Math.max(this.g.length,E.g.length),y=[],D=0;D<b;D++)y[D]=this.i(D)&E.i(D);return new s(y,this.h&E.h)},t.or=function(E){for(var b=Math.max(this.g.length,E.g.length),y=[],D=0;D<b;D++)y[D]=this.i(D)|E.i(D);return new s(y,this.h|E.h)},t.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),y=[],D=0;D<b;D++)y[D]=this.i(D)^E.i(D);return new s(y,this.h^E.h)};function he(E){for(var b=E.g.length+1,y=[],D=0;D<b;D++)y[D]=E.i(D)<<1|E.i(D-1)>>>31;return new s(y,E.h)}function ae(E,b){var y=b>>5;b%=32;for(var D=E.g.length-y,C=[],A=0;A<D;A++)C[A]=0<b?E.i(A+y)>>>b|E.i(A+y+1)<<32-b:E.i(A+y);return new s(C,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,wx=fO.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=u,Qo=fO.Integer=s}).apply(typeof hO<"u"?hO:typeof self<"u"?self:typeof window<"u"?window:{});var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eo={};var xx,Ex,ec,Dx,Nu,ag,Ix,Cx,Tx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,m){return c==Array.prototype||c==Object.prototype||(c[h]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sg=="object"&&sg];for(var h=0;h<c.length;++h){var m=c[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(c,h){if(h)e:{var m=i;c=c.split(".");for(var _=0;_<c.length-1;_++){var S=c[_];if(!(S in m))break e;m=m[S]}c=c[c.length-1],_=m[c],h=h(_),h!=_&&h!=null&&e(m,c,{configurable:!0,writable:!0,value:h})}}function o(c,h){c instanceof String&&(c+="");var m=0,_=!1,S={next:function(){if(!_&&m<c.length){var O=m++;return{value:h(O,c[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}r("Array.prototype.values",function(c){return c||function(){return o(this,function(h,m){return m})}});var s=s||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function d(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function u(c,h,m){return c.call.apply(c.bind,arguments)}function f(c,h,m){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,_),c.apply(h,S)}}return function(){return c.apply(h,arguments)}}function p(c,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function g(c,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function v(c,h){function m(){}m.prototype=h.prototype,c.aa=h.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(_,S,O){for(var X=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)X[lt-2]=arguments[lt];return h.prototype[S].apply(_,X)}}function x(c){let h=c.length;if(0<h){let m=Array(h);for(let _=0;_<h;_++)m[_]=c[_];return m}return[]}function I(c,h){for(let m=1;m<arguments.length;m++){let _=arguments[m];if(l(_)){let S=c.length||0,O=_.length||0;c.length=S+O;for(let X=0;X<O;X++)c[S+X]=_[X]}else c.push(_)}}class L{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function q(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var he=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ae(c,h,m){for(let _ in c)h.call(m,c[_],_,c)}function E(c,h){for(let m in c)h.call(void 0,c[m],m,c)}function b(c){let h={};for(let m in c)h[m]=c[m];return h}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,h){let m,_;for(let S=1;S<arguments.length;S++){_=arguments[S];for(m in _)c[m]=_[m];for(let O=0;O<y.length;O++)m=y[O],Object.prototype.hasOwnProperty.call(_,m)&&(c[m]=_[m])}}function C(c){var h=1;c=c.split(":");let m=[];for(;0<h&&c.length;)m.push(c.shift()),h--;return c.length&&m.push(c.join(":")),m}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=je;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class ni{constructor(){this.h=this.g=null}add(h,m){let _=mo.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var mo=new L(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,je=new ni,Nt=()=>{let c=a.Promise.resolve(void 0);ce=()=>{c.then(ii)}};var ii=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(m){A(m)}var h=mo;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}ge=!1};function St(){this.s=this.s,this.C=this.C}St.prototype.s=!1,St.prototype.ma=function(){this.s||(this.s=!0,this.N())},St.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return c}();function po(c,h){if(mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(he){e:{try{te(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else m=="mouseover"?h=c.fromElement:m=="mouseout"&&(h=c.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tb[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&po.aa.h.call(this)}}v(po,mt);var tb={2:"touch",3:"pen",4:"mouse"};po.prototype.h=function(){po.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Ir=0;function Pn(c,h,m,_,S){this.listener=c,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=S,this.key=++Ir,this.da=this.fa=!1}function Cr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function go(c){this.src=c,this.g={},this.h=0}go.prototype.add=function(c,h,m,_,S){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var X=ib(c,h,_,S);return-1<X?(h=c[X],m||(h.fa=!1)):(h=new Pn(h,this.src,O,!!_,S),h.fa=m,c.push(h)),h};function nb(c,h){var m=h.type;if(m in c.g){var _=c.g[m],S=Array.prototype.indexOf.call(_,h,void 0),O;(O=0<=S)&&Array.prototype.splice.call(_,S,1),O&&(Cr(h),c.g[m].length==0&&(delete c.g[m],c.h--))}}function ib(c,h,m,_){for(var S=0;S<c.length;++S){var O=c[S];if(!O.da&&O.listener==h&&O.capture==!!m&&O.ha==_)return S}return-1}var rb="closure_lm_"+(1e6*Math.random()|0),ob={};function pI(c,h,m,_,S){if(_&&_.once)return _I(c,h,m,_,S);if(Array.isArray(h)){for(var O=0;O<h.length;O++)pI(c,h[O],m,_,S);return null}return m=cb(m),c&&c[At]?c.K(h,m,d(_)?!!_.capture:!!_,S):gI(c,h,m,!1,_,S)}function gI(c,h,m,_,S,O){if(!h)throw Error("Invalid event type");var X=d(S)?!!S.capture:!!S,lt=ab(c);if(lt||(c[rb]=lt=new go(c)),m=lt.add(h,m,_,X,O),m.proxy)return m;if(_=nV(),m.proxy=_,_.src=c,_.listener=m,c.addEventListener)pt||(S=X),S===void 0&&(S=!1),c.addEventListener(h.toString(),_,S);else if(c.attachEvent)c.attachEvent(vI(h.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function nV(){function c(m){return h.call(c.src,c.listener,m)}let h=iV;return c}function _I(c,h,m,_,S){if(Array.isArray(h)){for(var O=0;O<h.length;O++)_I(c,h[O],m,_,S);return null}return m=cb(m),c&&c[At]?c.L(h,m,d(_)?!!_.capture:!!_,S):gI(c,h,m,!0,_,S)}function bI(c,h,m,_,S){if(Array.isArray(h))for(var O=0;O<h.length;O++)bI(c,h[O],m,_,S);else _=d(_)?!!_.capture:!!_,m=cb(m),c&&c[At]?(c=c.i,h=String(h).toString(),h in c.g&&(O=c.g[h],m=ib(O,m,_,S),-1<m&&(Cr(O[m]),Array.prototype.splice.call(O,m,1),O.length==0&&(delete c.g[h],c.h--)))):c&&(c=ab(c))&&(h=c.g[h.toString()],c=-1,h&&(c=ib(h,m,_,S)),(m=-1<c?h[c]:null)&&sb(m))}function sb(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[At])nb(h.i,c);else{var m=c.type,_=c.proxy;h.removeEventListener?h.removeEventListener(m,_,c.capture):h.detachEvent?h.detachEvent(vI(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=ab(h))?(nb(m,c),m.h==0&&(m.src=null,h[rb]=null)):Cr(c)}}}function vI(c){return c in ob?ob[c]:ob[c]="on"+c}function iV(c,h){if(c.da)c=!0;else{h=new po(h,this);var m=c.listener,_=c.ha||c.src;c.fa&&sb(c),c=m.call(_,h)}return c}function ab(c){return c=c[rb],c instanceof go?c:null}var lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function cb(c){return typeof c=="function"?c:(c[lb]||(c[lb]=function(h){return c.handleEvent(h)}),c[lb])}function _n(){St.call(this),this.i=new go(this),this.M=this,this.F=null}v(_n,St),_n.prototype[At]=!0,_n.prototype.removeEventListener=function(c,h,m,_){bI(this,c,h,m,_)};function In(c,h){var m,_=c.F;if(_)for(m=[];_;_=_.F)m.push(_);if(c=c.M,_=h.type||h,typeof h=="string")h=new mt(h,c);else if(h instanceof mt)h.target=h.target||c;else{var S=h;h=new mt(_,c),D(h,S)}if(S=!0,m)for(var O=m.length-1;0<=O;O--){var X=h.g=m[O];S=Fh(X,_,!0,h)&&S}if(X=h.g=c,S=Fh(X,_,!0,h)&&S,S=Fh(X,_,!1,h)&&S,m)for(O=0;O<m.length;O++)X=h.g=m[O],S=Fh(X,_,!1,h)&&S}_n.prototype.N=function(){if(_n.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var m=c.g[h],_=0;_<m.length;_++)Cr(m[_]);delete c.g[h],c.h--}}this.F=null},_n.prototype.K=function(c,h,m,_){return this.i.add(String(c),h,!1,m,_)},_n.prototype.L=function(c,h,m,_){return this.i.add(String(c),h,!0,m,_)};function Fh(c,h,m,_){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,O=0;O<h.length;++O){var X=h[O];if(X&&!X.da&&X.capture==m){var lt=X.listener,cn=X.ha||X.src;X.fa&&nb(c.i,X),S=lt.call(cn,_)!==!1&&S}}return S&&!_.defaultPrevented}function yI(c,h,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function wI(c){c.g=yI(()=>{c.g=null,c.i&&(c.i=!1,wI(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class rV extends St{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:wI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kc(c){St.call(this),this.h=c,this.g={}}v(Kc,St);var xI=[];function EI(c){ae(c.g,function(h,m){this.g.hasOwnProperty(m)&&sb(h)},c),c.g={}}Kc.prototype.N=function(){Kc.aa.N.call(this),EI(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var db=a.JSON.stringify,oV=a.JSON.parse,sV=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ub(){}ub.prototype.h=null;function DI(c){return c.h||(c.h=c.i())}function II(){}var Qc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hb(){mt.call(this,"d")}v(hb,mt);function fb(){mt.call(this,"c")}v(fb,mt);var vs={},CI=null;function Lh(){return CI=CI||new _n}vs.La="serverreachability";function TI(c){mt.call(this,vs.La,c)}v(TI,mt);function Yc(c){let h=Lh();In(h,new TI(h))}vs.STAT_EVENT="statevent";function SI(c,h){mt.call(this,vs.STAT_EVENT,c),this.stat=h}v(SI,mt);function Cn(c){let h=Lh();In(h,new SI(h,c))}vs.Ma="timingevent";function AI(c,h){mt.call(this,vs.Ma,c),this.size=h}v(AI,mt);function Zc(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Xc(){this.g=!0}Xc.prototype.xa=function(){this.g=!1};function aV(c,h,m,_,S,O){c.info(function(){if(c.g)if(O)for(var X="",lt=O.split("&"),cn=0;cn<lt.length;cn++){var Je=lt[cn].split("=");if(1<Je.length){var bn=Je[0];Je=Je[1];var vn=bn.split("_");X=2<=vn.length&&vn[1]=="type"?X+(bn+"="+Je+"&"):X+(bn+"=redacted&")}}else X=null;else X=O;return"XMLHTTP REQ ("+_+") [attempt "+S+"]: "+h+`
`+m+`
`+X})}function lV(c,h,m,_,S,O,X){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+S+"]: "+h+`
`+m+`
`+O+" "+X})}function za(c,h,m,_){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+dV(c,m)+(_?" "+_:"")})}function cV(c,h){c.info(function(){return"TIMEOUT: "+h})}Xc.prototype.info=function(){};function dV(c,h){if(!c.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var _=m[c];if(!(2>_.length)){var S=_[1];if(Array.isArray(S)&&!(1>S.length)){var O=S[0];if(O!="noop"&&O!="stop"&&O!="close")for(var X=1;X<S.length;X++)S[X]=""}}}}return db(m)}catch{return h}}var Vh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mb;function Bh(){}v(Bh,ub),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},mb=new Bh;function _o(c,h,m,_){this.j=c,this.i=h,this.l=m,this.R=_||1,this.U=new Kc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kI}function kI(){this.i=null,this.g="",this.h=!1}var RI={},pb={};function gb(c,h,m){c.L=1,c.v=$h(Tr(h)),c.m=m,c.P=!0,OI(c,null)}function OI(c,h){c.F=Date.now(),jh(c),c.A=Tr(c.v);var m=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),WI(m.i,"t",_),c.C=0,m=c.j.J,c.h=new kI,c.g=uC(c.j,m?h:null,!c.m),0<c.O&&(c.M=new rV(p(c.Y,c,c.g),c.O)),h=c.U,m=c.g,_=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(xI[0]=S.toString()),S=xI);for(var O=0;O<S.length;O++){var X=pI(m,S[O],_||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Yc(),aV(c.i,c.u,c.A,c.l,c.R,c.m)}_o.prototype.ca=function(c){c=c.target;let h=this.M;h&&Sr(c)==3?h.j():this.Y(c)},_o.prototype.Y=function(c){try{if(c==this.g)e:{let vn=Sr(this.g);var h=this.g.Ba();let Ha=this.g.Z();if(!(3>vn)&&(vn!=3||this.g&&(this.h.h||this.g.oa()||eC(this.g)))){this.J||vn!=4||h==7||(h==8||0>=Ha?Yc(3):Yc(2)),_b(this);var m=this.g.Z();this.X=m;t:if(NI(this)){var _=eC(this.g);c="";var S=_.length,O=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),Jc(this);var X="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,c+=this.h.i.decode(_[h],{stream:!(O&&h==S-1)});_.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,lV(this.i,this.u,this.A,this.l,this.R,vn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,cn=this.g;if((lt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(lt)){var Je=lt;break t}}Je=null}if(m=Je)za(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bb(this,m);else{this.o=!1,this.s=3,Cn(12),ys(this),Jc(this);break e}}if(this.P){m=!0;let Di;for(;!this.J&&this.C<X.length;)if(Di=uV(this,X),Di==pb){vn==4&&(this.s=4,Cn(14),m=!1),za(this.i,this.l,null,"[Incomplete Response]");break}else if(Di==RI){this.s=4,Cn(15),za(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else za(this.i,this.l,Di,null),bb(this,Di);if(NI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vn!=4||X.length!=0||this.h.h||(this.s=1,Cn(16),m=!1),this.o=this.o&&m,!m)za(this.i,this.l,X,"[Invalid Chunked Response]"),ys(this),Jc(this);else if(0<X.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Db(bn),bn.M=!0,Cn(11))}}else za(this.i,this.l,X,null),bb(this,X);vn==4&&ys(this),this.o&&!this.J&&(vn==4?aC(this.j,this):(this.o=!1,jh(this)))}else SV(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),ys(this),Jc(this)}}}catch{}finally{}};function NI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uV(c,h){var m=c.C,_=h.indexOf(`
`,m);return _==-1?pb:(m=Number(h.substring(m,_)),isNaN(m)?RI:(_+=1,_+m>h.length?pb:(h=h.slice(_,_+m),c.C=_+m,h)))}_o.prototype.cancel=function(){this.J=!0,ys(this)};function jh(c){c.S=Date.now()+c.I,PI(c,c.I)}function PI(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zc(p(c.ba,c),h)}function _b(c){c.B&&(a.clearTimeout(c.B),c.B=null)}_o.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(cV(this.i,this.A),this.L!=2&&(Yc(),Cn(17)),ys(this),this.s=2,Jc(this)):PI(this,this.S-c)};function Jc(c){c.j.G==0||c.J||aC(c.j,c)}function ys(c){_b(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,EI(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function bb(c,h){try{var m=c.j;if(m.G!=0&&(m.g==c||vb(m.h,c))){if(!c.K&&vb(m.h,c)&&m.G==3){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var S=_;if(S[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Kh(m),qh(m);else break e;Eb(m),Cn(18)}}else m.za=S[1],0<m.za-m.T&&37500>S[2]&&m.F&&m.v==0&&!m.C&&(m.C=Zc(p(m.Za,m),6e3));if(1>=VI(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else xs(m,11)}else if((c.K||m.g==c)&&Kh(m),!q(h))for(S=m.Da.g.parse(h),h=0;h<S.length;h++){let Je=S[h];if(m.T=Je[0],Je=Je[1],m.G==2)if(Je[0]=="c"){m.K=Je[1],m.ia=Je[2];let bn=Je[3];bn!=null&&(m.la=bn,m.j.info("VER="+m.la));let vn=Je[4];vn!=null&&(m.Aa=vn,m.j.info("SVER="+m.Aa));let Ha=Je[5];Ha!=null&&typeof Ha=="number"&&0<Ha&&(_=1.5*Ha,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;let Di=c.g;if(Di){let Yh=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yh){var O=_.h;O.g||Yh.indexOf("spdy")==-1&&Yh.indexOf("quic")==-1&&Yh.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(yb(O,O.h),O.h=null))}if(_.D){let Ib=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ib&&(_.ya=Ib,gt(_.I,_.D,Ib))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var X=c;if(_.qa=dC(_,_.J?_.ia:null,_.W),X.K){BI(_.h,X);var lt=X,cn=_.L;cn&&(lt.I=cn),lt.B&&(_b(lt),jh(lt)),_.g=X}else oC(_);0<m.i.length&&Wh(m)}else Je[0]!="stop"&&Je[0]!="close"||xs(m,7);else m.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?xs(m,7):xb(m):Je[0]!="noop"&&m.l&&m.l.ta(Je),m.v=0)}}Yc(4)}catch{}}var hV=class{constructor(c,h){this.g=c,this.map=h}};function FI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function VI(c){return c.h?1:c.g?c.g.size:0}function vb(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function yb(c,h){c.g?c.g.add(h):c.h=h}function BI(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}FI.prototype.cancel=function(){if(this.i=jI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function jI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let m of c.g.values())h=h.concat(m.D);return h}return x(c.i)}function fV(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],m=c.length,_=0;_<m;_++)h.push(c[_]);return h}h=[],m=0;for(_ in c)h[m++]=c[_];return h}function mV(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var m=0;m<c;m++)h.push(m);return h}h=[],m=0;for(let _ in c)h[m++]=_;return h}}}function zI(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var m=mV(c),_=fV(c),S=_.length,O=0;O<S;O++)h.call(void 0,_[O],m&&m[O],c)}var UI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pV(c,h){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var _=c[m].indexOf("="),S=null;if(0<=_){var O=c[m].substring(0,_);S=c[m].substring(_+1)}else O=c[m];h(O,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function ws(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ws){this.h=c.h,zh(this,c.j),this.o=c.o,this.g=c.g,Uh(this,c.s),this.l=c.l;var h=c.i,m=new nd;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),$I(this,m),this.m=c.m}else c&&(h=String(c).match(UI))?(this.h=!1,zh(this,h[1]||"",!0),this.o=ed(h[2]||""),this.g=ed(h[3]||"",!0),Uh(this,h[4]),this.l=ed(h[5]||"",!0),$I(this,h[6]||"",!0),this.m=ed(h[7]||"")):(this.h=!1,this.i=new nd(null,this.h))}ws.prototype.toString=function(){var c=[],h=this.j;h&&c.push(td(h,HI,!0),":");var m=this.g;return(m||h=="file")&&(c.push("//"),(h=this.o)&&c.push(td(h,HI,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(td(m,m.charAt(0)=="/"?bV:_V,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",td(m,yV)),c.join("")};function Tr(c){return new ws(c)}function zh(c,h,m){c.j=m?ed(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Uh(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function $I(c,h,m){h instanceof nd?(c.i=h,wV(c.i,c.h)):(m||(h=td(h,vV)),c.i=new nd(h,c.h))}function gt(c,h,m){c.i.set(h,m)}function $h(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ed(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function td(c,h,m){return typeof c=="string"?(c=encodeURI(c).replace(h,gV),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gV(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var HI=/[#\/\?@]/g,_V=/[#\?:]/g,bV=/[#\?]/g,vV=/[#\?@]/g,yV=/#/g;function nd(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function bo(c){c.g||(c.g=new Map,c.h=0,c.i&&pV(c.i,function(h,m){c.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=nd.prototype,t.add=function(c,h){bo(this),this.i=null,c=Ua(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(h),this.h+=1,this};function GI(c,h){bo(c),h=Ua(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function qI(c,h){return bo(c),h=Ua(c,h),c.g.has(h)}t.forEach=function(c,h){bo(this),this.g.forEach(function(m,_){m.forEach(function(S){c.call(h,S,_,this)},this)},this)},t.na=function(){bo(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){let S=c[_];for(let O=0;O<S.length;O++)m.push(h[_])}return m},t.V=function(c){bo(this);let h=[];if(typeof c=="string")qI(this,c)&&(h=h.concat(this.g.get(Ua(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)h=h.concat(c[m])}return h},t.set=function(c,h){return bo(this),this.i=null,c=Ua(this,c),qI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function WI(c,h,m){GI(c,h),0<m.length&&(c.i=null,c.g.set(Ua(c,h),x(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];let O=encodeURIComponent(String(_)),X=this.V(_);for(_=0;_<X.length;_++){var S=O;X[_]!==""&&(S+="="+encodeURIComponent(String(X[_]))),c.push(S)}}return this.i=c.join("&")};function Ua(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function wV(c,h){h&&!c.j&&(bo(c),c.i=null,c.g.forEach(function(m,_){var S=_.toLowerCase();_!=S&&(GI(this,_),WI(this,S,m))},c)),c.j=h}function xV(c,h){let m=new Xc;if(a.Image){let _=new Image;_.onload=g(vo,m,"TestLoadImage: loaded",!0,h,_),_.onerror=g(vo,m,"TestLoadImage: error",!1,h,_),_.onabort=g(vo,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=g(vo,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else h(!1)}function EV(c,h){let m=new Xc,_=new AbortController,S=setTimeout(()=>{_.abort(),vo(m,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:_.signal}).then(O=>{clearTimeout(S),O.ok?vo(m,"TestPingServer: ok",!0,h):vo(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),vo(m,"TestPingServer: error",!1,h)})}function vo(c,h,m,_,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),_(m)}catch{}}function DV(){this.g=new sV}function IV(c,h,m){let _=m||"";try{zI(c,function(S,O){let X=S;d(S)&&(X=db(S)),h.push(_+O+"="+encodeURIComponent(X))})}catch(S){throw h.push(_+"type="+encodeURIComponent("_badmap")),S}}function id(c){this.l=c.Ub||null,this.j=c.eb||!1}v(id,ub),id.prototype.g=function(){return new Hh(this.l,this.j)},id.prototype.i=function(c){return function(){return c}}({});function Hh(c,h){_n.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Hh,_n),t=Hh.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,od(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rd(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function KI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?rd(this):od(this),this.readyState==3&&KI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,rd(this))},t.Qa=function(c){this.g&&(this.response=c,rd(this))},t.ga=function(){this.g&&rd(this)};function rd(c){c.readyState=4,c.l=null,c.j=null,c.v=null,od(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=h.next();return c.join(`\r
`)};function od(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function QI(c){let h="";return ae(c,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function wb(c,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=QI(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):gt(c,h,m))}function Mt(c){_n.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Mt,_n);var CV=/^https?$/i,TV=["POST","PUT"];t=Mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mb.g(),this.v=this.o?DI(this.o):DI(mb),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(O){YI(this,O);return}if(c=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var S in _)m.set(S,_[S]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let O of _.keys())m.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TV,h,void 0))||_||S||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,X]of m)this.g.setRequestHeader(O,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{JI(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){YI(this,O)}};function YI(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,ZI(c),Gh(c)}function ZI(c){c.A||(c.A=!0,In(c,"complete"),In(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,In(this,"complete"),In(this,"abort"),Gh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gh(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?XI(this):this.bb())},t.bb=function(){XI(this)};function XI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)yI(c.Ea,0,c);else if(In(c,"readystatechange"),Sr(c)==4){c.h=!1;try{let X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=X===0){var S=String(c.D).match(UI)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),_=!CV.test(S?S.toLowerCase():"")}m=_}if(m)In(c,"complete"),In(c,"success");else{c.m=6;try{var O=2<Sr(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",ZI(c)}}finally{Gh(c)}}}}function Gh(c,h){if(c.g){JI(c);let m=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||In(c,"ready");try{m.onreadystatechange=_}catch{}}}function JI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),oV(h)}};function eC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SV(c){let h={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(q(c[_]))continue;var m=C(c[_]);let S=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let O=h[S]||[];h[S]=O,O.push(m)}E(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sd(c,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||h}function tC(c){this.Aa=0,this.i=[],this.j=new Xc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sd("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sd("baseRetryDelayMs",5e3,c),this.cb=sd("retryDelaySeedMs",1e4,c),this.Wa=sd("forwardChannelMaxRetries",2,c),this.wa=sd("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new FI(c&&c.concurrentRequestLimit),this.Da=new DV,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tC.prototype,t.la=8,t.G=1,t.connect=function(c,h,m,_){Cn(0),this.W=c,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=dC(this,null,this.W),Wh(this)};function xb(c){if(nC(c),c.G==3){var h=c.U++,m=Tr(c.I);if(gt(m,"SID",c.K),gt(m,"RID",h),gt(m,"TYPE","terminate"),ad(c,m),h=new _o(c,c.j,h),h.L=2,h.v=$h(Tr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=uC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),jh(h)}cC(c)}function qh(c){c.g&&(Db(c),c.g.cancel(),c.g=null)}function nC(c){qh(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wh(c){if(!LI(c.h)&&!c.s){c.s=!0;var h=c.Ga;ce||Nt(),ge||(ce(),ge=!0),je.add(h,c),c.B=0}}function AV(c,h){return VI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zc(p(c.Ga,c,h),lC(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new _o(this,this.j,c),O=this.o;if(this.S&&(O?(O=b(O),D(O,this.S)):O=this.S),this.m!==null||this.O||(S.H=O,O=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=rC(this,S,h),m=Tr(this.I),gt(m,"RID",c),gt(m,"CVER",22),this.D&&gt(m,"X-HTTP-Session-Id",this.D),ad(this,m),O&&(this.O?h="headers="+encodeURIComponent(String(QI(O)))+"&"+h:this.m&&wb(m,this.m,O)),yb(this.h,S),this.Ua&&gt(m,"TYPE","init"),this.P?(gt(m,"$req",h),gt(m,"SID","null"),S.T=!0,gb(S,m,null)):gb(S,m,h),this.G=2}}else this.G==3&&(c?iC(this,c):this.i.length==0||LI(this.h)||iC(this))};function iC(c,h){var m;h?m=h.l:m=c.U++;let _=Tr(c.I);gt(_,"SID",c.K),gt(_,"RID",m),gt(_,"AID",c.T),ad(c,_),c.m&&c.o&&wb(_,c.m,c.o),m=new _o(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),h&&(c.i=h.D.concat(c.i)),h=rC(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yb(c.h,m),gb(m,_,h)}function ad(c,h){c.H&&ae(c.H,function(m,_){gt(h,_,m)}),c.l&&zI({},function(m,_){gt(h,_,m)})}function rC(c,h,m){m=Math.min(c.i.length,m);var _=c.l?p(c.l.Na,c.l,c):null;e:{var S=c.i;let O=-1;for(;;){let X=["count="+m];O==-1?0<m?(O=S[0].g,X.push("ofs="+O)):O=0:X.push("ofs="+O);let lt=!0;for(let cn=0;cn<m;cn++){let Je=S[cn].g,bn=S[cn].map;if(Je-=O,0>Je)O=Math.max(0,S[cn].g-100),lt=!1;else try{IV(bn,X,"req"+Je+"_")}catch{_&&_(bn)}}if(lt){_=X.join("&");break e}}}return c=c.i.splice(0,m),h.D=c,_}function oC(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;ce||Nt(),ge||(ce(),ge=!0),je.add(h,c),c.v=0}}function Eb(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zc(p(c.Fa,c),lC(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,sC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zc(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),qh(this),sC(this))};function Db(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sC(c){c.g=new _o(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Tr(c.qa);gt(h,"RID","rpc"),gt(h,"SID",c.K),gt(h,"AID",c.T),gt(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(h,"TO",c.ja),gt(h,"TYPE","xmlhttp"),ad(c,h),c.m&&c.o&&wb(h,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=$h(Tr(h)),m.m=null,m.P=!0,OI(m,c)}t.Za=function(){this.C!=null&&(this.C=null,qh(this),Eb(this),Cn(19))};function Kh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function aC(c,h){var m=null;if(c.g==h){Kh(c),Db(c),c.g=null;var _=2}else if(vb(c.h,h))m=h.D,BI(c.h,h),_=1;else return;if(c.G!=0){if(h.o)if(_==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var S=c.B;_=Lh(),In(_,new AI(_,m)),Wh(c)}else oC(c);else if(S=h.s,S==3||S==0&&0<h.X||!(_==1&&AV(c,h)||_==2&&Eb(c)))switch(m&&0<m.length&&(h=c.h,h.i=h.i.concat(m)),S){case 1:xs(c,5);break;case 4:xs(c,10);break;case 3:xs(c,6);break;default:xs(c,2)}}}function lC(c,h){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*h}function xs(c,h){if(c.j.info("Error code "+h),h==2){var m=p(c.fb,c),_=c.Xa;let S=!_;_=new ws(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zh(_,"https"),$h(_),S?xV(_.toString(),m):EV(_.toString(),m)}else Cn(2);c.G=0,c.l&&c.l.sa(h),cC(c),nC(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function cC(c){if(c.G=0,c.ka=[],c.l){let h=jI(c.h);(h.length!=0||c.i.length!=0)&&(I(c.ka,h),I(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function dC(c,h,m){var _=m instanceof ws?Tr(m):new ws(m);if(_.g!="")h&&(_.g=h+"."+_.g),Uh(_,_.s);else{var S=a.location;_=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var O=new ws(null);_&&zh(O,_),h&&(O.g=h),S&&Uh(O,S),m&&(O.l=m),_=O}return m=c.D,h=c.ya,m&&h&&gt(_,m,h),gt(_,"VER",c.la),ad(c,_),_}function uC(c,h,m){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new Mt(new id({eb:m})):new Mt(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hC(){}t=hC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qh(){}Qh.prototype.g=function(c,h){return new Wn(c,h)};function Wn(c,h){_n.call(this),this.g=new tC(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!q(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!q(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new $a(this)}v(Wn,_n),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){xb(this.g)},Wn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=db(c),c=m);h.i.push(new hV(h.Ya++,c)),h.G==3&&Wh(h)},Wn.prototype.N=function(){this.g.l=null,delete this.j,xb(this.g),delete this.g,Wn.aa.N.call(this)};function fC(c){hb.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let m in h){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}v(fC,hb);function mC(){fb.call(this),this.status=1}v(mC,fb);function $a(c){this.g=c}v($a,hC),$a.prototype.ua=function(){In(this.g,"a")},$a.prototype.ta=function(c){In(this.g,new fC(c))},$a.prototype.sa=function(c){In(this.g,new mC)},$a.prototype.ra=function(){In(this.g,"b")},Qh.prototype.createWebChannel=Qh.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,Tx=eo.createWebChannelTransport=function(){return new Qh},Cx=eo.getStatEventTarget=function(){return Lh()},Ix=eo.Event=vs,ag=eo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vh.NO_ERROR=0,Vh.TIMEOUT=8,Vh.HTTP_ERROR=6,Nu=eo.ErrorCode=Vh,MI.COMPLETE="complete",Dx=eo.EventType=MI,II.EventType=Qc,Qc.OPEN="a",Qc.CLOSE="b",Qc.ERROR="c",Qc.MESSAGE="d",_n.prototype.listen=_n.prototype.K,ec=eo.WebChannel=II,Ex=eo.FetchXmlHttpFactory=id,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,xx=eo.XhrIo=Mt}).apply(typeof sg<"u"?sg:typeof self<"u"?self:typeof window<"u"?window:{});var mO="@firebase/firestore";var Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");var kc="10.12.0";var ns=new Jh("@firebase/firestore");function oc(){return ns.logLevel}function mN(t){ns.setLogLevel(t)}function $(t,...e){if(ns.logLevel<=qi.DEBUG){let n=e.map(M1);ns.debug(`Firestore (${kc}): ${t}`,...n)}}function jt(t,...e){if(ns.logLevel<=qi.ERROR){let n=e.map(M1);ns.error(`Firestore (${kc}): ${t}`,...n)}}function gi(t,...e){if(ns.logLevel<=qi.WARN){let n=e.map(M1);ns.warn(`Firestore (${kc}): ${t}`,...n)}}function M1(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function se(t="Unexpected state"){let e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw jt(e),new Error(e)}function ue(t,e){t||se()}function pN(t,e){t||se()}function re(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends yC{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var bg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Rx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}},Ox=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Nx=class{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),o=new Yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yt,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ue(typeof i.accessToken=="string"),new bg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Qt(e)}},Px=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fx=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Px(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lx=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new Lx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function B8(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var vg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=B8(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Me(t,e){return t<e?-1:t>e?1:0}function mc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function gN(t){return t+"\0"}var Tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Tt(0,0))}static max(){return new t(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yg=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&se(),i===void 0?i=e.length-n:i>e.length-n&&se(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Qe=class t extends yg{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new z(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},j8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends yg{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return j8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new z(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new z(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new z(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qe.fromString(e))}static fromName(e){return new t(Qe.fromString(e).popFirst(5))}static empty(){return new t(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qe(e.slice()))}};var pc=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function Bx(t){return t.fields.find(e=>e.kind===2)}function sa(t){return t.fields.filter(e=>e.kind!==2)}pc.UNKNOWN_ID=-1;var uc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var qu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,_i.min())}};function _N(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=pe.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new _i(r,ne.empty(),e)}function bN(t){return new _i(t.readTime,t.key,-1)}var _i=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(pe.min(),ne.empty(),-1)}static max(){return new t(pe.max(),ne.empty(),-1)}};function k1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}var vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hs(t){return R(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==vN)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},l=>i(l))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;n(e[d]).next(u=>{s[d]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var xg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Yt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ha(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=R1(i.target.error);this.V.reject(new ha(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new ha(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new zx(n)}},is=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(ld())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),aa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Xh())return!1;if(t.C())return!0;let e=ld(),n=t.S(e),i=0<n&&n<10,r=yN(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return R(this,null,function*(){return this.db||($("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new z(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new z(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new ha(e,s))},r.onupgradeneeded=o=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return R(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=xg.open(this.db,e,o?"readonly":"readwrite",i),l=r(a).next(d=>(a.g(),d)).catch(d=>(a.abort(d),k.reject(d))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,d=l.name!=="FirebaseError"&&s<3;if($("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),this.close(),!d)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function yN(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var jx=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return aa(this.B.delete())}},ha=class extends z{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function fs(t){return t.name==="IndexedDbTransactionError"}var zx=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),aa(i)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),aa(this.store.add(e))}get(e){return aa(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),aa(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),aa(this.store.count())}U(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new k((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(i),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new k((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(e,n){$("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.H=!1;let r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.W(r,n)}Y(e){let n=this.cursor({});return new k((i,r)=>{n.onerror=o=>{let s=R1(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,n){let i=[];return new k((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let l=new jx(a),d=n(a.primaryKey,a.value,l);if(d instanceof k){let u=d.catch(f=>(l.done(),k.reject(f)));i.push(u)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>k.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function aa(t){return new k((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=R1(i.target.error);n(r)}})}var pO=!1;function R1(t){let e=is.S(ld());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pO||(pO=!0,setTimeout(()=>{throw i},0)),i}}return t}var Ux=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){$("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>R(this,null,function*(){this.task=null;try{$("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){fs(n)?$("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield hs(n)}yield this.X(6e4)}))}},$x=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return R(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let i=new Set,r=n,o=!0;return k.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return $("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}ne(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(r,o)).next(a=>($("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=bN(o);k1(s,i)>0&&(i=s)}),new _i(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var ei=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function mh(t){return t==null}function Wu(t){return t===0&&1/t==-1/0}function wN(t){return typeof t=="number"&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gO(e)),e=z8(t.get(n),e);return gO(e)}function z8(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gO(t){return t+""}function fr(t){let e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),Qe.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&se(),t.charAt(s+1)){case"":let a=t.substring(o,s),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:se()}o=s+2}return new Qe(i)}var _O=["userId","batchId"];function hg(t,e){return[t,Rn(e)]}function xN(t,e,n){return[t,Rn(e),n]}var U8={},$8=["prefixPath","collectionGroup","readTime","documentId"],H8=["prefixPath","collectionGroup","documentId"],G8=["collectionGroup","readTime","prefixPath","documentId"],q8=["canonicalId","targetId"],W8=["targetId","path"],K8=["path","targetId"],Q8=["collectionId","parent"],Y8=["indexId","uid"],Z8=["uid","sequenceNumber"],X8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],J8=["indexId","uid","orderedDocumentKey"],eq=["userId","collectionPath","documentId"],tq=["userId","collectionPath","largestBatchId"],nq=["userId","collectionGroup","largestBatchId"],EN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iq=[...EN,"documentOverlays"],DN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IN=DN,CN=[...IN,"indexConfiguration","indexState","indexEntries"],rq=CN;var Ku=class extends wg{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function ln(t,e){let n=re(t);return is.F(n._e,e)}function bO(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var vt=class t{constructor(e,n){this.comparator=e,this.root=n||pr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}},dc=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pr=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,i,r,o){return this}insert(e,n,i){return new pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Eg(this.data.getIterator())}getIteratorFrom(e){return new Eg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Eg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function tc(t){return t.hasNext()?t.getNext():void 0}var ti=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(zt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Dg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function SN(){return typeof atob<"u"}var an=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Dg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};an.EMPTY_BYTE_STRING=new an("");var oq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(ue(!!t),typeof t=="string"){let e=0,n=oq.exec(t);if(ue(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}function m_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function O1(t){let e=t.mapValue.fields.__previous_value__;return m_(e)?O1(e):e}function Qu(t){let e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}var Hx=class{constructor(e,n,i,r,o,s,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}},os=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var es={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fg={nullValue:"NULL_VALUE"};function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m_(t)?4:AN(t)?9007199254740991:10:se()}function br(t,e){if(t===e)return!0;let n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=io(r.timestampValue),a=io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return rs(r.bytesValue).isEqual(rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Rt(r.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(r.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Rt(r.integerValue)===Rt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Rt(r.doubleValue),a=Rt(o.doubleValue);return s===a?Wu(s)===Wu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(bO(s)!==bO(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!br(s[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Yu(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function ss(t,e){if(t===e)return 0;let n=fa(t),i=fa(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Rt(o.integerValue||o.doubleValue),l=Rt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vO(t.timestampValue,e.timestampValue);case 4:return vO(Qu(t),Qu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,s){let a=rs(o),l=rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let u=Me(a[d],l[d]);if(u!==0)return u}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Me(Rt(o.latitude),Rt(s.latitude));return a!==0?a:Me(Rt(o.longitude),Rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let d=0;d<a.length&&d<l.length;++d){let u=ss(a[d],l[d]);if(u)return u}return Me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===es.mapValue&&s===es.mapValue)return 0;if(o===es.mapValue)return 1;if(s===es.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},u=Object.keys(d);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){let p=Me(l[f],u[f]);if(p!==0)return p;let g=ss(a[l[f]],d[u[f]]);if(g!==0)return g}return Me(l.length,u.length)}(t.mapValue,e.mapValue);default:throw se()}}function vO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=io(t),i=io(e),r=Me(n.seconds,i.seconds);return r!==0?r:Me(n.nanos,i.nanos)}function gc(t){return Gx(t)}function Gx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=io(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=Gx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Gx(n.fields[s])}`;return r+"}"}(t.mapValue):se()}function ma(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qx(t){return!!t&&"integerValue"in t}function Zu(t){return!!t&&"arrayValue"in t}function yO(t){return!!t&&"nullValue"in t}function wO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mg(t){return!!t&&"mapValue"in t}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Da(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=zu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function sq(t){return"nullValue"in t?fg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ma(os.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:se()}function aq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ma(os.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?es:se()}function xO(t,e){let n=ss(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function EO(t,e){let n=ss(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var En=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!mg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=zt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=zu(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());mg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];mg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Da(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(zu(this.value))}};function MN(t){let e=[];return Da(t.fields,(n,i)=>{let r=new zt([n]);if(mg(i)){let o=MN(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new ti(e)}var Zt=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,pe.min(),pe.min(),pe.min(),En.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,pe.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,pe.min(),pe.min(),En.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,pe.min(),pe.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vr=class{constructor(e,n){this.position=e,this.inclusive=n}};function DO(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=ne.comparator(ne.fromName(s.referenceValue),n.key):i=ss(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function IO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}var pa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ig=class{},He=class t extends Ig{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Qx(e,n,i):n==="array-contains"?new Xx(e,i):n==="in"?new Cg(e,i):n==="not-in"?new Jx(e,i):n==="array-contains-any"?new eE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Yx(e,i):new Zx(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ss(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},st=class t extends Ig{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return _c(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function _c(t){return t.op==="and"}function Wx(t){return t.op==="or"}function N1(t){return kN(t)&&_c(t)}function kN(t){for(let e of t.filters)if(e instanceof st)return!1;return!0}function Kx(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+gc(t.value);if(N1(t))return t.filters.map(e=>Kx(e)).join(",");{let e=t.filters.map(n=>Kx(n)).join(",");return`${t.op}(${e})`}}function RN(t,e){return t instanceof He?function(i,r){return r instanceof He&&i.op===r.op&&i.field.isEqual(r.field)&&br(i.value,r.value)}(t,e):t instanceof st?function(i,r){return r instanceof st&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&RN(s,r.filters[a]),!0):!1}(t,e):void se()}function ON(t,e){let n=t.filters.concat(e);return st.create(n,t.op)}function NN(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`}(t):t instanceof st?function(n){return n.op.toString()+" {"+n.getFilters().map(NN).join(" ,")+"}"}(t):"Filter"}var Qx=class extends He{constructor(e,n,i){super(e,n,i),this.key=ne.fromName(i.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},Yx=class extends He{constructor(e,n){super(e,"in",n),this.keys=PN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Zx=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=PN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function PN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ne.fromName(i.referenceValue))}var Xx=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Zu(n)&&Yu(n.arrayValue,this.value)}},Cg=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}},Jx=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Yu(this.value.arrayValue,n)}},eE=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Zu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Yu(this.value.arrayValue,i))}};var tE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function nE(t,e=null,n=[],i=[],r=null,o=null,s=null){return new tE(t,e,n,i,r,o,s)}function ga(t){let e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Kx(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>gc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>gc(i)).join(",")),e.ue=n}return e.ue}function ph(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IO(t.startAt,e.startAt)&&IO(t.endAt,e.endAt)}function Tg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sg(t,e){return t.filters.filter(n=>n instanceof He&&n.field.isEqual(e))}function CO(t,e,n){let i=fg,r=!0;for(let o of Sg(t,e)){let s=fg,a=!0;switch(o.op){case"<":case"<=":s=sq(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=fg}xO({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];xO({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function TO(t,e,n){let i=es,r=!0;for(let o of Sg(t,e)){let s=es,a=!0;switch(o.op){case">=":case">":s=aq(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=es}EO({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];EO({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var Ui=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function FN(t,e,n,i,r,o,s,a){return new Ui(t,e,n,i,r,o,s,a)}function Rc(t){return new Ui(t)}function SO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P1(t){return t.collectionGroup!==null}function hc(t){let e=re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(zt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new pa(o,i))}),n.has(zt.keyField().canonicalString())||e.ce.push(new pa(zt.keyField(),i))}return e.ce}function On(t){let e=re(t);return e.le||(e.le=cq(e,hc(t))),e.le}function cq(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new pa(r.field,o)});let n=t.endAt?new vr(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vr(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function iE(t,e){let n=t.filters.concat([e]);return new Ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ag(t,e,n){return new Ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return ph(On(t),On(e))&&t.limitType===e.limitType}function LN(t){return`${ga(On(t))}|lt:${t.limitType}`}function sc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>NN(r)).join(", ")}]`),mh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>gc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>gc(r)).join(",")),`Target(${i})`}(On(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ne.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of hc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,l){let d=DO(s,a,l);return s.inclusive?d<=0:d<0}(i.startAt,hc(i),r)||i.endAt&&!function(s,a,l){let d=DO(s,a,l);return s.inclusive?d>=0:d>0}(i.endAt,hc(i),r))}(t,e)}function VN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BN(t){return(e,n)=>{let i=!1;for(let r of hc(t)){let o=dq(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function dq(t,e,n){let i=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?ss(l,d):se()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return se()}}var yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}};var uq=new vt(ne.comparator);function qn(){return uq}var jN=new vt(ne.comparator);function Bu(...t){let e=jN;for(let n of t)e=e.insert(n.key,n);return e}function zN(t){let e=jN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function mr(){return Uu()}function UN(){return Uu()}function Uu(){return new yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var hq=new vt(ne.comparator),fq=new dt(ne.comparator);function Ne(...t){let e=fq;for(let n of t)e=e.add(n);return e}var mq=new dt(Me);function F1(){return mq}function $N(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function HN(t){return{integerValue:""+t}}function GN(t,e){return wN(e)?HN(e):$N(t,e)}var bc=class{constructor(){this._=void 0}};function pq(t,e,n){return t instanceof as?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&m_(o)&&(o=O1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ro?WN(t,e):t instanceof oo?KN(t,e):function(r,o){let s=qN(r,o),a=AO(s)+AO(r.Pe);return qx(s)&&qx(r.Pe)?HN(a):$N(r.serializer,a)}(t,e)}function gq(t,e,n){return t instanceof ro?WN(t,e):t instanceof oo?KN(t,e):n}function qN(t,e){return t instanceof ls?function(i){return qx(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var as=class extends bc{},ro=class extends bc{constructor(e){super(),this.elements=e}};function WN(t,e){let n=QN(e);for(let i of t.elements)n.some(r=>br(r,i))||n.push(i);return{arrayValue:{values:n}}}var oo=class extends bc{constructor(e){super(),this.elements=e}};function KN(t,e){let n=QN(e);for(let i of t.elements)n=n.filter(r=>!br(r,i));return{arrayValue:{values:n}}}var ls=class extends bc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function AO(t){return Rt(t.integerValue||t.doubleValue)}function QN(t){return Zu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _a=class{constructor(e,n){this.field=e,this.transform=n}};function _q(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ro&&r instanceof ro||i instanceof oo&&r instanceof oo?mc(i.elements,r.elements,br):i instanceof ls&&r instanceof ls?br(i.Pe,r.Pe):i instanceof as&&r instanceof as}(t.transform,e.transform)}var rE=class{constructor(e,n){this.version=e,this.transformResults=n}},Ot=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vc=class{};function YN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ds(t.key,Ot.none()):new cs(t.key,t.data,Ot.none());{let n=t.data,i=En.empty(),r=new dt(zt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new $i(t.key,i,new ti(r.toArray()),Ot.none())}}function bq(t,e,n){t instanceof cs?function(r,o,s){let a=r.value.clone(),l=kO(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(r,o,s){if(!pg(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kO(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ZN(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $u(t,e,n,i){return t instanceof cs?function(o,s,a,l){if(!pg(o.precondition,s))return a;let d=o.value.clone(),u=RO(o.fieldTransforms,l,s);return d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof $i?function(o,s,a,l){if(!pg(o.precondition,s))return a;let d=RO(o.fieldTransforms,l,s),u=s.data;return u.setAll(ZN(o)),u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(o,s,a){return pg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function vq(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=qN(i.transform,r||null);o!=null&&(n===null&&(n=En.empty()),n.set(i.field,o))}return n||null}function MO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&mc(i,r,(o,s)=>_q(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var cs=class extends vc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},$i=class extends vc{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ZN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function kO(t,e,n){let i=new Map;ue(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,gq(s,a,n[r]))}return i}function RO(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,pq(o,s,e))}return i}var ds=class extends vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xu=class extends vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ju=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&bq(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=$u(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=$u(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=UN();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let l=YN(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(n,i)=>MO(n,i))&&mc(this.baseMutations,e.baseMutations,(n,i)=>MO(n,i))}},oE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ue(e.mutations.length===i.length);let r=function(){return hq}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var eh=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Wt,Ke;function XN(t){switch(t){default:return se();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function JN(t){if(t===void 0)return jt("GRPC error has no .code"),N.UNKNOWN;switch(t){case Wt.OK:return N.OK;case Wt.CANCELLED:return N.CANCELLED;case Wt.UNKNOWN:return N.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return N.INTERNAL;case Wt.UNAVAILABLE:return N.UNAVAILABLE;case Wt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Wt.NOT_FOUND:return N.NOT_FOUND;case Wt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Wt.ABORTED:return N.ABORTED;case Wt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Wt.DATA_LOSS:return N.DATA_LOSS;default:return se()}}(Ke=Wt||(Wt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";var OO=null;function eP(){return new TextEncoder}var yq=new Qo([4294967295,4294967295],0);function NO(t){let e=eP().encode(t),n=new wx;return n.update(e),new Uint8Array(n.digest())}function PO(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qo([n,i],0),new Qo([r,o],0)]}var aE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Qo.fromNumber(i)));return r.compare(yq)===1&&(r=new Qo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=NO(e),[i,r]=PO(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=NO(e),[i,r]=PO(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ua=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var th=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(pe.min(),r,new vt(Me),qn(),Ne())}},nh=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Ne(),Ne(),Ne())}};var fc=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Mg=class{constructor(e,n){this.targetId=e,this.me=n}},kg=class{constructor(e,n,i=an.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Rg=class{constructor(){this.fe=0,this.ge=LO(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ne(),n=Ne(),i=Ne();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:se()}}),new nh(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=LO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},lE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=qn(),this.qe=FO(),this.Qe=new vt(Me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let o=r.target;if(Tg(o))if(i===0){let s=new ne(o.path);this.Ue(n,s,Zt.newNoDocument(s,pe.min()))}else ue(i===1);else{let s=this.Ye(n);if(s!==i){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}OO?.et(function(u,f,p,g,v){var x,I,L,q,j,te;let he={localCacheCount:u,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},ae=f.unchangedNames;return ae&&(he.bloomFilter={applied:v===0,hashCount:(x=ae?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(q=(L=(I=ae?.bits)===null||I===void 0?void 0:I.bitmap)===null||L===void 0?void 0:L.length)!==null&&q!==void 0?q:0,padding:(te=(j=ae?.bits)===null||j===void 0?void 0:j.padding)!==null&&te!==void 0?te:0,mightContain:E=>{var b;return(b=g?.mightContain(E))!==null&&b!==void 0&&b}}),he}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=rs(i).toUint8Array()}catch(l){if(l instanceof Dg)return gi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new aE(s,r,o)}catch(l){return gi(l instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Tg(a.target)){let l=new ne(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Zt.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let i=Ne();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new th(e,n,this.Qe,this.ke,i);return this.ke=qn(),this.qe=FO(),this.Qe=new vt(Me),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Rg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Rg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function FO(){return new vt(ne.comparator)}function LO(){return new vt(ne.comparator)}var wq={asc:"ASCENDING",desc:"DESCENDING"},xq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eq={and:"AND",or:"OR"},cE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dE(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dq(t,e){return yc(t,e.toTimestamp())}function Ut(t){return ue(!!t),pe.fromTimestamp(function(n){let i=io(n);return new Tt(i.seconds,i.nanos)}(t))}function L1(t,e){return uE(t,e).canonicalString()}function uE(t,e){let n=function(r){return new Qe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nP(t){let e=Qe.fromString(t);return ue(hP(e)),e}function ih(t,e){return L1(t.databaseId,e.path)}function gr(t,e){let n=nP(e);if(n.get(1)!==t.databaseId.projectId)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(oP(n))}function iP(t,e){return L1(t.databaseId,e)}function rP(t){let e=nP(t);return e.length===4?Qe.emptyPath():oP(e)}function hE(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oP(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VO(t,e,n){return{name:ih(t,e),fields:n.value.mapValue.fields}}function sP(t,e,n){let i=gr(t,e.name),r=Ut(e.updateTime),o=e.createTime?Ut(e.createTime):pe.min(),s=new En({mapValue:{fields:e.fields}}),a=Zt.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Iq(t,e){return"found"in e?function(i,r){ue(!!r.found),r.found.name,r.found.updateTime;let o=gr(i,r.found.name),s=Ut(r.found.updateTime),a=r.found.createTime?Ut(r.found.createTime):pe.min(),l=new En({mapValue:{fields:r.found.fields}});return Zt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(i,r){ue(!!r.missing),ue(!!r.readTime);let o=gr(i,r.missing),s=Ut(r.readTime);return Zt.newNoDocument(o,s)}(t,e):se()}function Cq(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,u){return d.useProto3Json?(ue(u===void 0||typeof u=="string"),an.fromBase64String(u||"")):(ue(u===void 0||u instanceof Buffer||u instanceof Uint8Array),an.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let u=d.code===void 0?N.UNKNOWN:JN(d.code);return new z(u,d.message||"")}(s);n=new kg(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=gr(t,i.document.name),o=Ut(i.document.updateTime),s=i.document.createTime?Ut(i.document.createTime):pe.min(),a=new En({mapValue:{fields:i.document.fields}}),l=Zt.newFoundDocument(r,o,s,a),d=i.targetIds||[],u=i.removedTargetIds||[];n=new fc(d,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=gr(t,i.document),o=i.readTime?Ut(i.readTime):pe.min(),s=Zt.newNoDocument(r,o),a=i.removedTargetIds||[];n=new fc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=gr(t,i.document),o=i.removedTargetIds||[];n=new fc([],o,r,null)}else{if(!("filter"in e))return se();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new sE(r,o),a=i.targetId;n=new Mg(a,s)}}return n}function rh(t,e){let n;if(e instanceof cs)n={update:VO(t,e.key,e.value)};else if(e instanceof ds)n={delete:ih(t,e.key)};else if(e instanceof $i)n={update:VO(t,e.key,e.data),updateMask:Rq(e.fieldMask)};else{if(!(e instanceof Xu))return se();n={verify:ih(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof as)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ls)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw se()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Dq(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function fE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?Ot.updateTime(Ut(o.updateTime)):o.exists!==void 0?Ot.exists(o.exists):Ot.none()}(e.currentDocument):Ot.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;if("setToServerValue"in a)ue(a.setToServerValue==="REQUEST_TIME"),l=new as;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];l=new ro(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];l=new oo(u)}else"increment"in a?l=new ls(s,a.increment):se();let d=zt.fromServerFormat(a.fieldPath);return new _a(d,l)}(t,r)):[];if(e.update){e.update.name;let r=gr(t,e.update.name),o=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(l){let d=l.fieldPaths||[];return new ti(d.map(u=>zt.fromServerFormat(u)))}(e.updateMask);return new $i(r,o,s,n,i)}return new cs(r,o,n,i)}if(e.delete){let r=gr(t,e.delete);return new ds(r,n)}if(e.verify){let r=gr(t,e.verify);return new Xu(r,n)}return se()}function Tq(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?Ut(r.updateTime):Ut(o);return s.isEqual(pe.min())&&(s=Ut(o)),new rE(s,r.transformResults||[])}(n,e))):[]}function aP(t,e){return{documents:[iP(t,e.path)]}}function lP(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=iP(t,r);let o=function(d){if(d.length!==0)return uP(st.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(u=>function(p){return{field:ac(p.field),direction:Aq(p.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=dE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:r}}function cP(t){let e=rP(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){ue(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){let p=dP(f);return p instanceof st&&N1(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(v){return new pa(lc(v.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,mh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){let p=!!f.before,g=f.values||[];return new vr(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){let p=!f.before,g=f.values||[];return new vr(g,p)}(n.endAt)),FN(e,r,s,o,a,"F",l,d)}function Sq(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=lc(n.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=lc(n.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=lc(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=lc(n.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return He.create(lc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return st.create(n.compositeFilter.filters.map(i=>dP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function Aq(t){return wq[t]}function Mq(t){return xq[t]}function kq(t){return Eq[t]}function ac(t){return{fieldPath:t.canonicalString()}}function lc(t){return zt.fromServerFormat(t.fieldPath)}function uP(t){return t instanceof He?function(n){if(n.op==="=="){if(wO(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NAN"}};if(yO(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wO(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NOT_NAN"}};if(yO(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ac(n.field),op:Mq(n.op),value:n.value}}}(t):t instanceof st?function(n){let i=n.getFilters().map(r=>uP(r));return i.length===1?i[0]:{compositeFilter:{op:kq(n.op),filters:i}}}(t):se()}function Rq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wc=class t{constructor(e,n,i,r,o=pe.min(),s=pe.min(),a=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Og=class{constructor(e){this.ct=e}};function Oq(t,e){let n;if(e.document)n=sP(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=ne.fromSegments(e.noDocument.path),r=va(e.noDocument.readTime);n=Zt.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{let i=ne.fromSegments(e.unknownDocument.path),r=va(e.unknownDocument.version);n=Zt.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new Tt(r[0],r[1]);return pe.fromTimestamp(o)}(e.readTime)),n}function BO(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ng(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:ih(o,s.key),fields:s.data.value.mapValue.fields,updateTime:yc(o,s.version.toTimestamp()),createTime:yc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:ba(e.version)};else{if(!e.isUnknownDocument())return se();i.unknownDocument={path:n.path.toArray(),version:ba(e.version)}}return i}function Ng(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ba(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function va(t){let e=new Tt(t.seconds,t.nanoseconds);return pe.fromTimestamp(e)}function la(t,e){let n=(e.baseMutations||[]).map(o=>fE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>fE(t.ct,o)),r=Tt.fromMillis(e.localWriteTimeMs);return new Ju(e.batchId,r,n,i)}function ju(t){let e=va(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?va(t.lastLimboFreeSnapshotVersion):pe.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return ue(o.documents.length===1),On(Rc(rP(o.documents[0])))}(t.query):function(o){return On(cP(o))}(t.query),new wc(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,an.fromBase64String(t.resumeToken))}function fP(t,e){let n=ba(e.snapshotVersion),i=ba(e.lastLimboFreeSnapshotVersion),r;r=Tg(e.target)?aP(t.ct,e.target):lP(t.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ga(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function V1(t){let e=cP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ag(e,e.limit,"L"):e}function Sx(t,e){return new eh(e.largestBatchId,fE(t.ct,e.overlayMutation))}function jO(t,e){let n=e.path.lastSegment();return[t,Rn(e.path.popLast()),n]}function zO(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:ba(i.readTime),documentKey:Rn(i.documentKey.path),largestBatchId:i.largestBatchId}}var mE=class{getBundleMetadata(e,n){return UO(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:va(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return UO(e).put(function(r){return{bundleId:r.id,createTime:ba(Ut(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return $O(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:V1(o.bundledQuery),readTime:va(o.readTime)}}(i)})}saveNamedQuery(e,n){return $O(e).put(function(r){return{name:r.name,readTime:ba(Ut(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function UO(t){return ln(t,"bundles")}function $O(t){return ln(t,"namedQueries")}var Pg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return Pu(e).get(jO(this.userId,n)).next(i=>i?Sx(this.serializer,i):null)}getOverlays(e,n){let i=mr();return k.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new eh(n,s);r.push(this.ht(e,a))}),k.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(Rn(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Pu(e).j("collectionPathOverlayIndex",a))}),k.waitFor(o)}getOverlaysForCollection(e,n,i){let r=mr(),o=Rn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Pu(e).U("collectionPathOverlayIndex",s).next(a=>{for(let l of a){let d=Sx(this.serializer,l);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=mr(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Pu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,d,u)=>{let f=Sx(this.serializer,d);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}ht(e,n){return Pu(e).put(function(r,o,s){let[a,l,d]=jO(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:rh(r.ct,s.mutation)}}(this.serializer,this.userId,n))}};function Pu(t){return ln(t,"documentOverlays")}var to=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Rt(e.integerValue));else if("doubleValue"in e){let i=Rt(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Wu(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=io(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(rs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?AN(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):se()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),ne.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};to.bt=new to;function Nq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function HO(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=Nq(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var pE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let n=this.Bt(e),i=HO(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(e){let n=this.Bt(e),i=HO(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},gE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},_E=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},ca=class{constructor(){this.Gt=new pE,this.zt=new gE(this.Gt),this.jt=new _E(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var da=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function Yo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=GO(t.arrayValue,e.arrayValue),n!==0?n:(n=GO(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function GO(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var Fg=class{constructor(e){this.Yt=new dt((n,i)=>zt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(ue(e.collectionGroup===this.collectionId),this.en)return!1;let n=Bx(e);if(n!==void 0&&!this.nn(n))return!1;let i=sa(e),r=new Set,o=0,s=0;for(;o<i.length&&this.nn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new dt(zt.comparator),n=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new uc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new uc(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new uc(i.field,i.dir==="asc"?0:1)));return new pc(pc.UNKNOWN_ID,this.collectionId,n,qu.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function mP(t){var e,n;if(ue(t instanceof He||t instanceof st),t instanceof He){if(t instanceof Cg){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>He.create(t.field,"==",o)))||[];return st.create(r,"or")}return t}let i=t.filters.map(r=>mP(r));return st.create(i,t.op)}function Pq(t){if(t.getFilters().length===0)return[];let e=yE(mP(t));return ue(pP(e)),bE(e)||vE(e)?[e]:e.getFilters()}function bE(t){return t instanceof He}function vE(t){return t instanceof st&&N1(t)}function pP(t){return bE(t)||vE(t)||function(n){if(n instanceof st&&Wx(n)){for(let i of n.getFilters())if(!bE(i)&&!vE(i))return!1;return!0}return!1}(t)}function yE(t){if(ue(t instanceof He||t instanceof st),t instanceof He)return t;if(t.filters.length===1)return yE(t.filters[0]);let e=t.filters.map(i=>yE(i)),n=st.create(e,t.op);return n=Lg(n),pP(n)?n:(ue(n instanceof st),ue(_c(n)),ue(n.filters.length>1),n.filters.reduce((i,r)=>B1(i,r)))}function B1(t,e){let n;return ue(t instanceof He||t instanceof st),ue(e instanceof He||e instanceof st),n=t instanceof He?e instanceof He?function(r,o){return st.create([r,o],"and")}(t,e):qO(t,e):e instanceof He?qO(e,t):function(r,o){if(ue(r.filters.length>0&&o.filters.length>0),_c(r)&&_c(o))return ON(r,o.getFilters());let s=Wx(r)?r:o,a=Wx(r)?o:r,l=s.filters.map(d=>B1(d,a));return st.create(l,"or")}(t,e),Lg(n)}function qO(t,e){if(_c(e))return ON(e,t.getFilters());{let n=e.filters.map(i=>B1(t,i));return st.create(n,"or")}}function Lg(t){if(ue(t instanceof He||t instanceof st),t instanceof He)return t;let e=t.getFilters();if(e.length===1)return Lg(e[0]);if(kN(t))return t;let n=e.map(r=>Lg(r)),i=[];return n.forEach(r=>{r instanceof He?i.push(r):r instanceof st&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:st.create(i,t.op)}var wE=class{constructor(){this._n=new oh}addToCollectionParentIndex(e,n){return this._n.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(_i.min())}updateCollectionGroup(e,n,i){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},oh=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new dt(Qe.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new dt(Qe.comparator)).toArray()}};var lg=new Uint8Array(0),xE=class{constructor(e,n){this.databaseId=n,this.an=new oh,this.un=new yr(i=>ga(i),(i,r)=>ph(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:i,parent:Rn(r)};return WO(e).put(o)}return k.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[gN(n),""],!1,!0);return WO(e).U(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push(fr(s.parent))}return i})}addFieldIndex(e,n){let i=Fu(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=ic(e);return o.next(a=>{s.put(zO(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=Fu(e),r=ic(e),o=nc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Fu(e),i=nc(e),r=ic(e);return n.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,n){return k.forEach(this.cn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new Fg(i).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=nc(e),r=!0,o=new Map;return k.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Ne(),a=[];return k.forEach(o,(l,d)=>{$("IndexedDbIndexManager",`Using index ${function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map(te=>`${te.fieldPath}:${te.kind}`).join(",")}`}(l)} to execute ${ga(n)}`);let u=function(j,te){let he=Bx(te);if(he===void 0)return null;for(let ae of Sg(j,he.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null}(d,l),f=function(j,te){let he=new Map;for(let ae of sa(te))for(let E of Sg(j,ae.fieldPath))switch(E.op){case"==":case"in":he.set(ae.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return he.set(ae.fieldPath.canonicalString(),E.value),Array.from(he.values())}return null}(d,l),p=function(j,te){let he=[],ae=!0;for(let E of sa(te)){let b=E.kind===0?CO(j,E.fieldPath,j.startAt):TO(j,E.fieldPath,j.startAt);he.push(b.value),ae&&(ae=b.inclusive)}return new vr(he,ae)}(d,l),g=function(j,te){let he=[],ae=!0;for(let E of sa(te)){let b=E.kind===0?TO(j,E.fieldPath,j.endAt):CO(j,E.fieldPath,j.endAt);he.push(b.value),ae&&(ae=b.inclusive)}return new vr(he,ae)}(d,l),v=this.hn(l,d,p),x=this.hn(l,d,g),I=this.Pn(l,d,f),L=this.In(l.indexId,u,v,p.inclusive,x,g.inclusive,I);return k.forEach(L,q=>i.G(q,n.limit).next(j=>{j.forEach(te=>{let he=ne.fromSegments(te.documentKey);s.has(he)||(s=s.add(he),a.push(he))})}))}).next(()=>a)}return k.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=Pq(st.create(e.filters,"and")).map(i=>nE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,r,o,s,a){let l=(n!=null?n.length:1)*Math.max(i.length,o.length),d=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){let p=n?this.Tn(n[f/d]):lg,g=this.En(e,p,i[f%d],r),v=this.dn(e,p,o[f%d],s),x=a.map(I=>this.En(e,p,I,!0));u.push(...this.createRange(g,v,x))}return u}En(e,n,i,r){let o=new da(e,ne.empty(),n,i);return r?o:o.Jt()}dn(e,n,i,r){let o=new da(e,ne.empty(),n,i);return r?o.Jt():o}ln(e,n){let i=new Fg(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.cn(n);return k.forEach(r,o=>this.ln(e,o).next(s=>{s?i!==0&&s.fields.length<function(l){let d=new dt(zt.comparator),u=!1;for(let f of l.filters)for(let p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?u=!0:d=d.add(p.field));for(let f of l.orderBy)f.field.isKeyField()||(d=d.add(f.field));return d.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(e,n){let i=new ca;for(let r of sa(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.Ht(r.kind);to.bt.Pt(o,s)}return i.Wt()}Tn(e){let n=new ca;return to.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let i=new ca;return to.bt.Pt(ma(this.databaseId,n),i.Ht(function(o){let s=sa(o);return s.length===0?0:s[s.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let r=[];r.push(new ca);let o=0;for(let s of sa(e)){let a=i[o++];for(let l of r)if(this.Vn(n,s.fieldPath)&&Zu(a))r=this.mn(r,s,a);else{let d=l.Ht(s.kind);to.bt.Pt(a,d)}}return this.fn(r)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let l=new ca;l.seed(a.Wt()),to.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(i=>i instanceof He&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=Fu(e),r=ic(e);return(n?i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.U()).next(o=>{let s=[];return k.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(u,f){let p=f?new qu(f.sequenceNumber,new _i(va(f.readTime),new ne(fr(f.documentKey)),f.largestBatchId)):qu.empty(),g=u.fields.map(([v,x])=>new uc(zt.fromServerFormat(v),x));return new pc(u.indexId,u.collectionGroup,g,p)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:Me(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=Fu(e),o=ic(e);return this.gn(e).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>k.forEach(a,l=>o.put(zO(l.indexId,this.uid,s,i)))))}updateIndexEntries(e,n){let i=new Map;return k.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?k.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),k.forEach(a,l=>this.pn(e,r,l).next(d=>{let u=this.yn(o,l);return d.isEqual(u)?k.resolve():this.wn(e,o,l,d,u)}))))})}Sn(e,n,i,r){return nc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,r){return nc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){let r=nc(e),o=new dt(Yo);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(s,a)=>{o=o.add(new da(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let i=new dt(Yo),r=this.An(n,e);if(r==null)return i;let o=Bx(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Zu(s))for(let a of s.arrayValue.values||[])i=i.add(new da(n.indexId,e.key,this.Tn(a),r))}else i=i.add(new da(n.indexId,e.key,lg,r));return i}wn(e,n,i,r,o){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(l,d,u,f,p){let g=l.getIterator(),v=d.getIterator(),x=tc(g),I=tc(v);for(;x||I;){let L=!1,q=!1;if(x&&I){let j=u(x,I);j<0?q=!0:j>0&&(L=!0)}else x!=null?q=!0:L=!0;L?(f(I),I=tc(v)):q?(p(x),x=tc(g)):(x=tc(g),I=tc(v))}}(r,o,Yo,a=>{s.push(this.Sn(e,n,i,a))},a=>{s.push(this.bn(e,n,i,a))}),k.waitFor(s)}gn(e){let n=1;return ic(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>Yo(s,a)).filter((s,a,l)=>!a||Yo(s,l[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=Yo(s,e),l=Yo(s,n);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(s),r.push(s.Jt());else if(l>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,lg,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,lg,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,n){return Yo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(KO)}getMinOffset(e,n){return k.mapArray(this.cn(n),i=>this.ln(e,i).next(r=>r||se())).next(KO)}};function WO(t){return ln(t,"collectionParents")}function nc(t){return ln(t,"indexEntries")}function Fu(t){return ln(t,"indexConfiguration")}function ic(t){return ln(t,"indexState")}function KO(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;k1(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new _i(e.readTime,e.documentKey,n)}var QO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function gP(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=i.J({range:s},(u,f,p)=>(a++,p.delete()));o.push(l.next(()=>{ue(a===1)}));let d=[];for(let u of n.mutations){let f=xN(e,u.key.path,n.batchId);o.push(r.delete(f)),d.push(u.key)}return k.waitFor(o).next(()=>d)}function Vg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(41943040,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);var Bg=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,n,i,r){ue(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).J({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=cc(e),s=Zo(e);return s.add({}).next(a=>{ue(typeof a=="number");let l=new Ju(a,n,i,r),d=function(g,v,x){let I=x.baseMutations.map(q=>rh(g.ct,q)),L=x.mutations.map(q=>rh(g.ct,q));return{userId:v,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:I,mutations:L}}(this.serializer,this.userId,l),u=[],f=new dt((p,g)=>Me(p.canonicalString(),g.canonicalString()));for(let p of r){let g=xN(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),u.push(s.put(d)),u.push(o.put(g,U8))}return f.forEach(p=>{u.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),k.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Zo(e).get(n).next(i=>i?(ue(i.userId===this.userId),la(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?k.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Zo(e).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ue(a.batchId>=i),o=la(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Zo(e).J({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).U("userMutationsIndex",n).next(i=>i.map(r=>la(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=hg(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return cc(e).J({range:r},(s,a,l)=>{let[d,u,f]=s,p=fr(u);if(d===this.userId&&n.path.isEqual(p))return Zo(e).get(f).next(g=>{if(!g)throw se();ue(g.userId===this.userId),o.push(la(this.serializer,g))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new dt(Me),r=[];return n.forEach(o=>{let s=hg(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=cc(e).J({range:a},(d,u,f)=>{let[p,g,v]=d,x=fr(g);p===this.userId&&o.path.isEqual(x)?i=i.add(v):f.done()});r.push(l)}),k.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=hg(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new dt(Me);return cc(e).J({range:s},(l,d,u)=>{let[f,p,g]=l,v=fr(p);f===this.userId&&i.isPrefixOf(v)?v.length===r&&(a=a.add(g)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let i=[],r=[];return n.forEach(o=>{r.push(Zo(e).get(o).next(s=>{if(s===null)throw se();ue(s.userId===this.userId),i.push(la(this.serializer,s))}))}),k.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return gP(e._e,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),k.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return k.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return cc(e).J({range:i},(o,s,a)=>{if(o[0]===this.userId){let l=fr(o[1]);r.push(l)}else a.done()}).next(()=>{ue(r.length===0)})})}containsKey(e,n){return _P(e,this.userId,n)}xn(e){return bP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function _P(t,e,n){let i=hg(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return cc(t).J({range:o,H:!0},(a,l,d)=>{let[u,f,p]=a;u===e&&f===r&&(s=!0),d.done()}).next(()=>s)}function Zo(t){return ln(t,"mutations")}function cc(t){return ln(t,"documentMutations")}function bP(t){return ln(t,"mutationQueues")}var xc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var EE=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new xc(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>pe.fromTimestamp(new Tt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(e,r)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>rc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(ue(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let r=0,o=[];return rc(e).J((s,a)=>{let l=ju(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>k.waitFor(o)).next(()=>r)}forEachTarget(e,n){return rc(e).J((i,r)=>{let o=ju(r);n(o)})}Bn(e){return YO(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}kn(e,n){return YO(e).put("targetGlobalKey",n)}qn(e,n){return rc(e).put(fP(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=ga(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return rc(e).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{let d=ju(a);ph(n,d.target)&&(o=d,l.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=Xo(e);return n.forEach(s=>{let a=Rn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),k.waitFor(r)}removeMatchingKeys(e,n,i){let r=Xo(e);return k.forEach(n,o=>{let s=Rn(o.path);return k.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=Xo(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Xo(e),o=Ne();return r.J({range:i,H:!0},(s,a,l)=>{let d=fr(s[1]),u=new ne(d);o=o.add(u)}).next(()=>o)}containsKey(e,n){let i=Rn(n.path),r=IDBKeyRange.bound([i],[gN(i)],!1,!0),o=0;return Xo(e).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,d)=>{s!==0&&(o++,d.done())}).next(()=>o>0)}ot(e,n){return rc(e).get(n).next(i=>i?ju(i):null)}};function rc(t){return ln(t,"targets")}function YO(t){return ln(t,"targetGlobal")}function Xo(t){return ln(t,"targetDocuments")}function ZO([t,e],[n,i]){let r=Me(t,n);return r===0?Me(e,i):r}var DE=class{constructor(e){this.Kn=e,this.buffer=new dt(ZO),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();ZO(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},IE=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>R(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){fs(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield hs(n)}yield this.zn(3e5)}))}},CE=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return k.resolve(ei.oe);let i=new DE(n);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(QO)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QO):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,r,o,s,a,l,d,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(d=Date.now(),oc()<=qi.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-u}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function Fq(t,e){return new CE(t,e)}var TE=class{constructor(e,n){this.db=e,this.garbageCollector=Fq(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,r)=>n(r))}addReference(e,n,i){return cg(e,i)}removeReference(e,n,i){return cg(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return cg(e,n)}er(e,n){return function(r,o){let s=!1;return bP(r).Y(a=>_P(r,a,o).next(l=>(l&&(s=!0),k.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let l=this.er(e,s).next(d=>{if(!d)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,pe.min()),Xo(e).delete(function(f){return[0,Rn(f.path)]}(s))))});r.push(l)}}).next(()=>k.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return cg(e,n)}Xn(e,n){let i=Xo(e),r,o=ei.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:d})=>{s===0?(o!==ei.oe&&n(new ne(fr(r)),o),o=d,r=l):o=ei.oe}).next(()=>{o!==ei.oe&&n(new ne(fr(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function cg(t,e){return Xo(t).put(function(i,r){return{targetId:0,path:Rn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var jg=class{constructor(){this.changes=new yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var SE=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return oa(e).put(i)}removeEntry(e,n,i){return oa(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ng(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=Zt.newInvalidDocument(n);return oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lu(n))},(r,o)=>{i=this.nr(n,o)}).next(()=>i)}rr(e,n){let i={size:0,document:Zt.newInvalidDocument(n)};return oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lu(n))},(r,o)=>{i={document:this.nr(n,o),size:Vg(o)}}).next(()=>i)}getEntries(e,n){let i=qn();return this.ir(e,n,(r,o)=>{let s=this.nr(r,o);i=i.insert(r,s)}).next(()=>i)}sr(e,n){let i=qn(),r=new vt(ne.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);i=i.insert(o,a),r=r.insert(o,Vg(s))}).next(()=>({documents:i,_r:r}))}ir(e,n,i){if(n.isEmpty())return k.resolve();let r=new dt(eN);n.forEach(l=>r=r.add(l));let o=IDBKeyRange.bound(Lu(r.first()),Lu(r.last())),s=r.getIterator(),a=s.getNext();return oa(e).J({index:"documentKeyIndex",range:o},(l,d,u)=>{let f=ne.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&eN(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?u.$(Lu(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Ng(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oa(e).U(IDBKeyRange.bound(a,l,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let u=qn();for(let f of d){let p=this.nr(ne.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(_h(n,p)||r.has(p.key))&&(u=u.insert(p.key,p))}return u})}getAllFromCollectionGroup(e,n,i,r){let o=qn(),s=JO(n,i),a=JO(n,_i.max());return oa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,d,u)=>{let f=this.nr(ne.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new AE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return XO(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}tr(e,n){return XO(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let i=Oq(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(pe.min())))return i}return Zt.newInvalidDocument(e)}};function vP(t){return new SE(t)}var AE=class extends jg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new yr(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new dt((o,s)=>Me(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let l=BO(this.ar.serializer,s);r=r.add(o.path.popLast());let d=Vg(l);i+=d-a.size,n.push(this.ar.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){let l=BO(this.ar.serializer,s.convertToNoDocument(pe.min()));n.push(this.ar.addEntry(e,o,l))}}),r.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,i)),k.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function XO(t){return ln(t,"remoteDocumentGlobal")}function oa(t){return ln(t,"remoteDocumentsV14")}function Lu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JO(t,e){let n=e.documentKey.path.toArray();return[t,Ng(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function eN(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=Me(n[o],i[o]),r)return r;return r=Me(n.length,i.length),r||(r=Me(n[n.length-2],i[i.length-2]),r||Me(n[n.length-1],i[i.length-1]))}var ME=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zg=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&$u(i.mutation,r,ti.empty(),Tt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ne()){let r=mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Bu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ne()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=qn(),s=Uu(),a=function(){return Uu()}();return n.forEach((l,d)=>{let u=i.get(d.key);r.has(d.key)&&(u===void 0||u.mutation instanceof $i)?o=o.insert(d.key,d):u!==void 0?(s.set(d.key,u.mutation.getFieldMask()),$u(u.mutation,d,u.mutation.getFieldMask(),Tt.now())):s.set(d.key,ti.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,u)=>s.set(d,u)),n.forEach((d,u)=>{var f;return a.set(d,new ME(u,(f=s.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Uu(),r=new vt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=n.get(l);if(d===null)return;let u=i.get(l)||ti.empty();u=a.applyToLocalView(d,u),i.set(l,u);let f=(r.get(a.batchId)||Ne()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,u=l.value,f=UN();u.forEach(p=>{if(!o.has(p)){let g=YN(n.get(p),i.get(p));g!==null&&f.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,f))}return k.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):k.resolve(mr()),a=-1,l=o;return s.next(d=>k.forEach(d,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?k.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,Ne())).next(u=>({batchId:a,changes:zN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(i=>{let r=Bu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Bu();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,l=>{let d=function(f,p){return new Ui(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(u=>{u.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((l,d)=>{let u=d.getKey();s.get(u)===null&&(s=s.insert(u,Zt.newInvalidDocument(u)))});let a=Bu();return s.forEach((l,d)=>{let u=o.get(l);u!==void 0&&$u(u.mutation,d,ti.empty(),Tt.now()),_h(n,d)&&(a=a.insert(l,d))}),a})}};var kE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return k.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ut(r.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:V1(r.bundledQuery),readTime:Ut(r.readTime)}}(n)),k.resolve()}};var RE=class{constructor(){this.overlays=new vt(ne.comparator),this.hr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let i=mr();return k.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),k.resolve()}getOverlaysForCollection(e,n,i){let r=mr(),o=n.length+1,s=new ne(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return k.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new vt((d,u)=>d-u),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let u=o.get(d.largestBatchId);u===null&&(u=mr(),o=o.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}let a=mr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,u)=>a.set(d,u)),!(a.size()>=r)););return k.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new eh(n,i));let o=this.hr.get(n);o===void 0&&(o=Ne(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var sh=class{constructor(){this.Pr=new dt(Kt.Ir),this.Tr=new dt(Kt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Kt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Kt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new ne(new Qe([])),i=new Kt(n,e),r=new Kt(n,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new ne(new Qe([])),i=new Kt(n,e),r=new Kt(n,e+1),o=Ne();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Kt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Kt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Me(e.pr,n.pr)}static Er(e,n){return Me(e.pr,n.pr)||ne.comparator(e.key,n.key)}};var OE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new dt(Kt.Ir)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ju(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new Kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Kt(n,0),r=new Kt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let a=this.Sr(s.pr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new dt(Me);return n.forEach(r=>{let o=new Kt(r,0),s=new Kt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),k.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;ne.isDocumentKey(o)||(o=o.child(""));let s=new Kt(new ne(o),0),a=new dt(Me);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(l.pr)),!0)},s),k.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return k.forEach(n.mutations,r=>{let o=new Kt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Kt(n,0),r=this.wr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var NE=class{constructor(e){this.vr=e,this.docs=function(){return new vt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let i=qn();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Zt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=qn(),s=n.path,a=new ne(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:u}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||k1(bN(u),i)<=0||(r.has(u.key)||_h(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,i,r){se()}Fr(e,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new PE(this)}getSize(e){return k.resolve(this.size)}},PE=class extends jg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),k.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var FE=class{constructor(e){this.persistence=e,this.Mr=new yr(n=>ga(n),ph),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new sh,this.targetCount=0,this.Lr=xc.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),k.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.qn(n),k.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),k.waitFor(o).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return k.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),k.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return k.resolve(i)}containsKey(e,n){return k.resolve(this.Nr.containsKey(n))}};var Ug=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new ei(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new FE(this),this.indexManager=new wE,this.remoteDocumentCache=function(r){return new NE(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Og(n),this.$r=new kE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new OE(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){$("MemoryPersistence","Starting transaction:",e);let r=new LE(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return k.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},LE=class extends wg{constructor(e){super(),this.currentSequenceNumber=e}},$g=class t{constructor(e){this.persistence=e,this.zr=new sh,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),k.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),k.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Jr,i=>{let r=ne.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return k.or([()=>k.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var VE=class{constructor(e){this.serializer=e}O(e,n,i,r){let o=new xg("createOrUpgrade",n);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_O,{unique:!0}),l.createObjectStore("documentMutations")}(e),tN(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=k.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),tN(e)),s=s.next(()=>function(l){let d=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(l,d){return d.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_O,{unique:!0});let f=d.store("mutations"),p=u.map(g=>f.put(g));return k.waitFor(p)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Xr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),i<7&&r>=7&&(s=s.next(()=>this.ti(o))),i<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ri(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(l){let d=l.createObjectStore("documentOverlays",{keyPath:eq});d.createIndex("collectionPathOverlayIndex",tq,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",nq,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){let d=l.createObjectStore("remoteDocumentsV14",{keyPath:$8});d.createIndex("documentKeyIndex",H8),d.createIndex("collectionGroupIndex",G8)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Y8}).createIndex("sequenceNumberIndex",Z8,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:X8}).createIndex("documentKeyIndex",J8,{unique:!1})}(e))),i<16&&r>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((i,r)=>{n+=Vg(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.U().next(r=>k.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>k.forEach(a,l=>{ue(l.userId===o.userId);let d=la(this.serializer,l);return gP(e,o.userId,d).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.J((s,a)=>{let l=new Qe(s),d=function(f){return[0,Rn(f)]}(l);o.push(n.get(d).next(u=>u?k.resolve():(f=>n.put({targetId:0,path:Rn(f),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>k.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Q8});let i=n.store("collectionParents"),r=new oh,o=s=>{if(r.add(s)){let a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:Rn(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let l=new Qe(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],d)=>{let u=fr(a);return o(u.popLast())}))}ri(e){let n=e.store("targets");return n.J((i,r)=>{let o=ju(r),s=fP(this.serializer,o);return n.put(s)})}ii(e,n){let i=n.store("remoteDocuments"),r=[];return i.J((o,s)=>{let a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new ne(Qe.fromString(f.document.name).popFirst(5)):f.noDocument?ne.fromSegments(f.noDocument.path):f.unknownDocument?ne.fromSegments(f.unknownDocument.path):se()}(s).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(d))}).next(()=>k.waitFor(r))}si(e,n){let i=n.store("mutations"),r=vP(this.serializer),o=new Ug($g.Hr,this.serializer.ct);return i.U().next(s=>{let a=new Map;return s.forEach(l=>{var d;let u=(d=a.get(l.userId))!==null&&d!==void 0?d:Ne();la(this.serializer,l).keys().forEach(f=>u=u.add(f)),a.set(l.userId,u)}),k.forEach(a,(l,d)=>{let u=new Qt(d),f=Pg.lt(this.serializer,u),p=o.getIndexManager(u),g=Bg.lt(u,this.serializer,p,o.referenceDelegate);return new zg(r,g,f,p).recalculateAndSaveOverlaysForDocumentKeys(new Ku(n,ei.oe),l).next()})})}};function tN(t){t.createObjectStore("targetDocuments",{keyPath:W8}).createIndex("documentTargetsIndex",K8,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",q8,{unique:!0}),t.createObjectStore("targetGlobal")}var Ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BE=class t{constructor(e,n,i,r,o,s,a,l,d,u,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=o,this.window=s,this.document=a,this._i=d,this.ai=u,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!t.D())throw new z(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TE(this,r),this.Ti=n+"main",this.serializer=new Og(l),this.Ei=new is(this.Ti,this.ui,new VE(this.serializer)),this.Qr=new EE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vP(this.serializer),this.$r=new mE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(N.FAILED_PRECONDITION,Ax);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new ei(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>R(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>R(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>R(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(fs(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Vu(e).get("owner").next(n=>k.resolve(this.Si(n)))}bi(e){return dg(e).delete(this.clientId)}Di(){return R(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=ln(n,"clientMetadata");return i.U().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return k.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?k.resolve(!0):Vu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new z(N.FAILED_PRECONDITION,Ax);return!1}}return!(!this.networkEnabled||!this.inForeground)||dg(e).U().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return R(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Ku(e,ei.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>dg(e).U().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Bg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Pg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){$("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(l){return l===16?rq:l===15?CN:l===14?IN:l===13?DN:l===12?iq:l===11?EN:void se()}(this.ui),s;return this.Ei.runTransaction(e,r,o,a=>(s=new Ku(a,this.kr?this.kr.next():ei.oe),n==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new z(N.FAILED_PRECONDITION,vN);return i(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Vu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(N.FAILED_PRECONDITION,Ax)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vu(e).put("owner",n)}static D(){return is.D()}yi(e){let n=Vu(e);return n.get("owner").next(i=>this.Si(i)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):k.resolve())}Ci(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(jt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Ab()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return jt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Vu(t){return ln(t,"owner")}function dg(t){return ln(t,"clientMetadata")}function j1(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jE=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Ne(),r=Ne();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var zE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ab()?8:yN(ld())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new zE;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(oc()<=qi.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),k.resolve()):(oc()<=qi.DEBUG&&$("QueryEngine","Query:",sc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(oc()<=qi.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):k.resolve())}ji(e,n){if(SO(n))return k.resolve(null);let i=On(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ag(n,null,"F"),i=On(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=Ne(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let d=this.Zi(n,a);return this.Xi(n,d,s,l.readTime)?this.ji(e,Ag(n,null,"F")):this.es(e,d,n,l)}))})))}Hi(e,n,i,r){return SO(n)||r.isEqual(pe.min())?k.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,i,r)?k.resolve(null):(oc()<=qi.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sc(n)),this.es(e,s,n,_N(r,-1)).next(a=>a))})}Zi(e,n){let i=new dt(BN(e));return n.forEach((r,o)=>{_h(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return oc()<=qi.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",sc(n)),this.zi.getDocumentsMatchingQuery(e,n,_i.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var UE=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new vt(Me),this.rs=new yr(o=>ga(o),ph),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function yP(t,e,n,i){return new UE(t,e,n,i)}function wP(t,e){return R(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],l=Ne();for(let d of r){s.push(d.batchId);for(let u of d.mutations)l=l.add(u.key)}for(let d of o){a.push(d.batchId);for(let u of d.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:a}))})})})}function Lq(t,e){let n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,d,u){let f=d.batch,p=f.keys(),g=k.resolve();return p.forEach(v=>{g=g.next(()=>u.getEntry(l,v)).next(x=>{let I=d.docVersions.get(v);ue(I!==null),x.version.compareTo(I)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),u.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ne();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function xP(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Vq(t,e){let n=re(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,f)=>{let p=r.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,f)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(an.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(f,g),function(x,I,L){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(p,g,u)&&a.push(n.Qr.updateTargetData(o,g))});let l=qn(),d=Ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(EP(o,s,e.documentUpdates).next(u=>{l=u.cs,d=u.ls})),!i.isEqual(pe.min())){let u=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(n.ns=r,o))}function EP(t,e,n){let i=Ne(),r=Ne();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=qn();return n.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function Bq(t,e){let n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ec(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,k.resolve(r)):n.Qr.allocateTargetId(i).next(s=>(r=new wc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Dc(t,e,n){return R(this,null,function*(){let i=re(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!fs(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function Gg(t,e,n){let i=re(t),r=pe.min(),o=Ne();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,u){let f=re(l),p=f.rs.get(u);return p!==void 0?k.resolve(f.ns.get(p)):f.Qr.getTargetData(d,u)}(i,s,On(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?r:pe.min(),n?o:Ne())).next(a=>(CP(i,VN(e),a),{documents:a,hs:o})))}function DP(t,e){let n=re(t),i=re(n.Qr),r=n.ns.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,e).next(s=>s?s.target:null))}function IP(t,e){let n=re(t),i=n.ss.get(e)||pe.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.os.getAllFromCollectionGroup(r,e,_N(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CP(n,e,r),r))}function CP(t,e,n){let i=t.ss.get(e)||pe.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}function jq(t,e,n,i){return R(this,null,function*(){let r=re(t),o=Ne(),s=qn();for(let d of n){let u=e.Ps(d.metadata.name);d.document&&(o=o.add(u));let f=e.Is(d);f.setReadTime(e.Ts(d.metadata.readTime)),s=s.insert(u,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield Ec(r,function(u){return On(Rc(Qe.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>EP(d,a,s).next(u=>(a.apply(d),u)).next(u=>r.Qr.removeMatchingKeysForTargetId(d,l.targetId).next(()=>r.Qr.addMatchingKeys(d,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,u.cs,u.ls)).next(()=>u.cs)))})}function zq(i,r){return R(this,arguments,function*(t,e,n=Ne()){let o=yield Ec(t,On(V1(e.bundledQuery))),s=re(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let l=Ut(e.readTime);if(o.snapshotVersion.compareTo(l)>=0)return s.$r.saveNamedQuery(a,e);let d=o.withResumeToken(an.EMPTY_BYTE_STRING,l);return s.ns=s.ns.insert(d.targetId,d),s.Qr.updateTargetData(a,d).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function nN(t,e){return`firestore_clients_${t}_${e}`}function iN(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Mx(t,e){return`firestore_targets_${t}_${e}`}var qg=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Es(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new z(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(jt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Hu=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new z(i.error.code,i.error.message))),o?new t(e,i.state,r):(jt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Wg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=F1();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=wN(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(jt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},$E=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(jt("SharedClientState",`Failed to parse online state: ${e}`),null)}},ah=class{constructor(){this.activeTargetIds=F1()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Gu=class{constructor(e,n,i,r,o){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new vt(Me),this.started=!1,this.ys=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=nN(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new ah),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return R(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(nN(this.persistenceKey,i));if(r){let o=Wg.Es(i,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let i=this.xs(n);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(Mx(this.persistenceKey,e));if(i){let r=Hu.Es(e,i);r&&(n=r.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Mx(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return $("SharedClientState","READ",e,n),n}setItem(e,n){$("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if($("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>R(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let i=this.$s(n.key);return this.Us(i,null)}{let i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){let i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){let i=function(o){let s=ei.oe;if(o!=null)try{let a=JSON.parse(o);ue(typeof a=="number"),s=a}catch(a){jt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==ei.oe&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){let i=this.Js(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){let r=new qg(this.currentUser,e,n,i),o=iN(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Bs(e){let n=iN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){let r=Mx(this.persistenceKey,e),o=new Hu(e,n,i);this.setItem(r,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let i=this.$s(e);return Wg.Es(i,n)}Gs(e,n){let i=this.Ds.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return qg.Es(new Qt(o),r,n)}js(e,n){let i=this.Cs.exec(e),r=Number(i[1]);return Hu.Es(r,n)}xs(e){return $E.Es(e)}Js(e){return JSON.parse(e)}zs(e){return R(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);$("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let i=n?this.ps.insert(e,n):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=F1();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Kg=class{constructor(){this.no=new ah,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ah,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var HE=class{io(e){}shutdown(){}};var Qg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ug=null;function kx(){return ug===null?ug=function(){return 268435456+Math.round(2147483648*Math.random())}():ug++,"0x"+ug.toString(16)}var Uq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var GE=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var xn="WebChannelConnection",qE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(n,i,r,o,s){let a=kx(),l=this.vo(n,i.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(n,l,d,r).then(u=>($("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw gi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}xo(n,i,r,o,s,a){return this.Co(n,i,r,o,s)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}vo(n,i){let r=Uq[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let o=kx();return new Promise((s,a)=>{let l=new xx;l.setWithCredentials(!0),l.listenOnce(Dx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nu.NO_ERROR:let u=l.getResponseJson();$(xn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Nu.TIMEOUT:$(xn,`RPC '${e}' ${o} timed out`),a(new z(N.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:let f=l.getStatus();if($(xn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let g=p?.error;if(g&&g.status&&g.message){let v=function(I){let L=I.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(L)>=0?L:N.UNKNOWN}(g.status);a(new z(v,g.message))}else a(new z(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(N.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{$(xn,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(r);$(xn,`RPC '${e}' ${o} sending request:`,r),l.send(n,"POST",d,i,15)})}Oo(e,n,i){let r=kx(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tx(),a=Cx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new Ex({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;let u=o.join("");$(xn,`Creating RPC '${e}' stream ${r}: ${u}`,l);let f=s.createWebChannel(u,l),p=!1,g=!1,v=new GE({lo:I=>{g?$(xn,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||($(xn,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),$(xn,`RPC '${e}' stream ${r} sending:`,I),f.send(I))},ho:()=>f.close()}),x=(I,L,q)=>{I.listen(L,j=>{try{q(j)}catch(te){setTimeout(()=>{throw te},0)}})};return x(f,ec.EventType.OPEN,()=>{g||($(xn,`RPC '${e}' stream ${r} transport opened.`),v.mo())}),x(f,ec.EventType.CLOSE,()=>{g||(g=!0,$(xn,`RPC '${e}' stream ${r} transport closed`),v.po())}),x(f,ec.EventType.ERROR,I=>{g||(g=!0,gi(xn,`RPC '${e}' stream ${r} transport errored:`,I),v.po(new z(N.UNAVAILABLE,"The operation could not be completed")))}),x(f,ec.EventType.MESSAGE,I=>{var L;if(!g){let q=I.data[0];ue(!!q);let j=q,te=j.error||((L=j[0])===null||L===void 0?void 0:L.error);if(te){$(xn,`RPC '${e}' stream ${r} received error:`,te);let he=te.status,ae=function(y){let D=Wt[y];if(D!==void 0)return JN(D)}(he),E=te.message;ae===void 0&&(ae=N.INTERNAL,E="Unknown error status: "+he+" with message "+te.message),g=!0,v.po(new z(ae,E)),f.close()}else $(xn,`RPC '${e}' stream ${r} received:`,q),v.yo(q)}}),x(a,Ix.STAT_EVENT,I=>{I.stat===ag.PROXY?$(xn,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===ag.NOPROXY&&$(xn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}};function TP(){return typeof window<"u"?window:null}function gg(){return typeof document<"u"?document:null}function bh(t){return new cE(t,!0)}var lh=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Yg=class{constructor(e,n,i,r,o,s,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lh(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return R(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return R(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return R(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(jt(n.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new z(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>R(this,null,function*(){this.state=0,this.start()}))}c_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},WE=class extends Yg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=Cq(this.serializer,e),i=function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Ut(s.readTime):pe.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=hE(this.serializer),n.addTarget=function(o,s){let a,l=s.target;if(a=Tg(l)?{documents:aP(o,l)}:{query:lP(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tP(o,s.resumeToken);let d=dE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=yc(o,s.snapshotVersion.toTimestamp());let d=dE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let i=Sq(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=hE(this.serializer),n.removeTarget=e,this.i_(n)}},KE=class extends Yg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=Tq(e.writeResults,e.commitTime),i=Ut(e.commitTime);return this.listener.A_(i,n)}return ue(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=hE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>rh(this.serializer,i))};this.i_(n)}};var QE=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,uE(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(N.UNKNOWN,o.toString())})}xo(e,n,i,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,uE(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(N.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},YE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(jt(n),this.y_=!1):$("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var ZE=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{i.enqueueAndForget(()=>R(this,null,function*(){ms(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(l){return R(this,null,function*(){let d=re(l);d.M_.add(4),yield Oc(d),d.N_.set("Unknown"),d.M_.delete(4),yield vh(d)})}(this))}))}),this.N_=new YE(i,r)}};function vh(t){return R(this,null,function*(){if(ms(t))for(let e of t.x_)yield e(!0)})}function Oc(t){return R(this,null,function*(){for(let e of t.x_)yield e(!1)})}function p_(t,e){let n=re(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),$1(n)?U1(n):Pc(n).Xo()&&z1(n,e))}function Ic(t,e){let n=re(t),i=Pc(n);n.F_.delete(e),i.Xo()&&SP(n,e),n.F_.size===0&&(i.Xo()?i.n_():ms(n)&&n.N_.set("Unknown"))}function z1(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).P_(e)}function SP(t,e){t.L_.xe(e),Pc(t).I_(e)}function U1(t){t.L_=new lE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.N_.w_()}function $1(t){return ms(t)&&!Pc(t).Zo()&&t.F_.size>0}function ms(t){return re(t).M_.size===0}function AP(t){t.L_=void 0}function $q(t){return R(this,null,function*(){t.N_.set("Online")})}function Hq(t){return R(this,null,function*(){t.F_.forEach((e,n)=>{z1(t,e)})})}function Gq(t,e){return R(this,null,function*(){AP(t),$1(t)?(t.N_.D_(e),U1(t)):t.N_.set("Unknown")})}function qq(t,e,n){return R(this,null,function*(){if(t.N_.set("Online"),e instanceof kg&&e.state===2&&e.cause)try{yield function(r,o){return R(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Zg(t,i)}else if(e instanceof fc?t.L_.Ke(e):e instanceof Mg?t.L_.He(e):t.L_.We(e),!n.isEqual(pe.min()))try{let i=yield xP(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let u=o.F_.get(d);u&&o.F_.set(d,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let u=o.F_.get(l);if(!u)return;o.F_.set(l,u.withResumeToken(an.EMPTY_BYTE_STRING,u.snapshotVersion)),SP(o,l);let f=new wc(u.target,l,d,u.sequenceNumber);z1(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){$("RemoteStore","Failed to raise snapshot:",i),yield Zg(t,i)}})}function Zg(t,e,n){return R(this,null,function*(){if(!fs(e))throw e;t.M_.add(1),yield Oc(t),t.N_.set("Offline"),n||(n=()=>xP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield vh(t)}))})}function MP(t,e){return e().catch(n=>Zg(t,n,e))}function Nc(t){return R(this,null,function*(){let e=re(t),n=us(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Wq(e);)try{let r=yield Bq(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,Kq(e,r)}catch(r){yield Zg(e,r)}kP(e)&&RP(e)})}function Wq(t){return ms(t)&&t.v_.length<10}function Kq(t,e){t.v_.push(e);let n=us(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function kP(t){return ms(t)&&!us(t).Zo()&&t.v_.length>0}function RP(t){us(t).start()}function Qq(t){return R(this,null,function*(){us(t).V_()})}function Yq(t){return R(this,null,function*(){let e=us(t);for(let n of t.v_)e.d_(n.mutations)})}function Zq(t,e,n){return R(this,null,function*(){let i=t.v_.shift(),r=oE.from(i,e,n);yield MP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Nc(t)})}function Xq(t,e){return R(this,null,function*(){e&&us(t).E_&&(yield function(i,r){return R(this,null,function*(){if(function(s){return XN(s)&&s!==N.ABORTED}(r.code)){let o=i.v_.shift();us(i).t_(),yield MP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Nc(i)}})}(t,e)),kP(t)&&RP(t)})}function rN(t,e){return R(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let i=ms(n);n.M_.add(3),yield Oc(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield vh(n)})}function XE(t,e){return R(this,null,function*(){let n=re(t);e?(n.M_.delete(2),yield vh(n)):e||(n.M_.add(2),yield Oc(n),n.N_.set("Unknown"))})}function Pc(t){return t.B_||(t.B_=function(n,i,r){let o=re(n);return o.f_(),new WE(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:$q.bind(null,t),To:Hq.bind(null,t),Ao:Gq.bind(null,t),h_:qq.bind(null,t)}),t.x_.push(e=>R(this,null,function*(){e?(t.B_.t_(),$1(t)?U1(t):t.N_.set("Unknown")):(yield t.B_.stop(),AP(t))}))),t.B_}function us(t){return t.k_||(t.k_=function(n,i,r){let o=re(n);return o.f_(),new KE(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Qq.bind(null,t),Ao:Xq.bind(null,t),R_:Yq.bind(null,t),A_:Zq.bind(null,t)}),t.x_.push(e=>R(this,null,function*(){e?(t.k_.t_(),yield Nc(t)):(yield t.k_.stop(),t.v_.length>0&&($("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var JE=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fc(t,e){if(jt("AsyncQueue",`${e}: ${t}`),fs(t))return new z(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Xg=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ne.comparator(n.key,i.key):(n,i)=>ne.comparator(n.key,i.key),this.keyedMap=Bu(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Jg=class{constructor(){this.q_=new vt(ne.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):se():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},Cc=class t{constructor(e,n,i,r,o,s,a,l,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Xg.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var e1=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},t1=class{constructor(){this.queries=new yr(e=>LN(e),gh),this.onlineState="Unknown",this.z_=new Set}};function H1(t,e){return R(this,null,function*(){let n=re(t),i=3,r=e.query,o=n.queries.get(r);o?!o.W_()&&e.G_()&&(i=2):(o=new e1,i=e.G_()?0:1);try{switch(i){case 0:o.K_=yield n.onListen(r,!0);break;case 1:o.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=Fc(s,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&q1(n)})}function G1(t,e){return R(this,null,function*(){let n=re(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function Jq(t,e){let n=re(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(r)&&(i=!0);s.K_=r}}i&&q1(n)}function e9(t,e,n){let i=re(t),r=i.queries.get(e);if(r)for(let o of r.U_)o.onError(n);i.queries.delete(e)}function q1(t){t.z_.forEach(e=>{e.next()})}var n1,oN;(oN=n1||(n1={})).J_="default",oN.Cache="cache";var ch=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Cc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==n1.Cache}};var i1=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var e_=class{constructor(e){this.serializer=e}Ps(e){return gr(this.serializer,e)}Is(e){return e.metadata.exists?sP(this.serializer,e.document,!1):Zt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ut(e)}},r1=class{constructor(e,n,i){this.oa=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OP(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let i=Qe.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,i=new e_(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||Ne()).add(o);n.set(s,a)}}return n}complete(){return R(this,null,function*(){let e=yield jq(this.localStore,new e_(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let i of this.queries)yield zq(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function OP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var t_=class{constructor(e){this.key=e}},n_=class{constructor(e){this.key=e}},i_=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ne(),this.mutatedKeys=Ne(),this.Ia=BN(e),this.Ta=new Xg(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new Jg,r=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,f)=>{let p=r.get(u),g=_h(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),I=!1;p&&g?p.data.isEqual(g.data)?v!==x&&(i.track({type:3,doc:g}),I=!0):this.Ra(p,g)||(i.track({type:2,doc:g}),I=!0,(l&&this.Ia(g,l)>0||d&&this.Ia(g,d)<0)&&(a=!0)):!p&&g?(i.track({type:0,doc:g}),I=!0):p&&!g&&(i.track({type:1,doc:p}),I=!0,(l||d)&&(a=!0)),I&&(g?(s=s.add(g),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Ta:s,Aa:i,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((u,f)=>function(g,v){let x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return x(g)-x(v)}(u.type,f.type)||this.Ia(u.doc,f.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new Cc(this.query,e.Ta,o,s,e.mutatedKeys,l===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Jg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Ne(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new n_(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new t_(i))}),n}pa(e){this.la=e.hs,this.Pa=Ne();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Cc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},o1=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},s1=class{constructor(e){this.key=e,this.wa=!1}},a1=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new yr(a=>LN(a),gh),this.Da=new Map,this.Ca=new Set,this.va=new vt(ne.comparator),this.Fa=new Map,this.Ma=new sh,this.xa={},this.Oa=new Map,this.Na=xc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function t9(t,e,n=!0){return R(this,null,function*(){let i=g_(t),r,o=i.ba.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield NP(i,e,n,!0),r})}function n9(t,e){return R(this,null,function*(){let n=g_(t);yield NP(n,e,!0,!1)})}function NP(t,e,n,i){return R(this,null,function*(){let r=yield Ec(t.localStore,On(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield W1(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&p_(t.remoteStore,r),a})}function W1(t,e,n,i,r){return R(this,null,function*(){t.Ba=(f,p,g)=>function(x,I,L,q){return R(this,null,function*(){let j=I.view.da(L);j.Xi&&(j=yield Gg(x.localStore,I.query,!1).then(({documents:E})=>I.view.da(E,j)));let te=q&&q.targetChanges.get(I.targetId),he=q&&q.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(j,x.isPrimaryClient,te,he);return l1(x,I.targetId,ae.fa),ae.snapshot})}(t,f,p,g);let o=yield Gg(t.localStore,e,!0),s=new i_(e,o.hs),a=s.da(o.documents),l=nh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),d=s.applyChanges(a,t.isPrimaryClient,l);l1(t,n,d.fa);let u=new o1(e,n,s);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot})}function i9(t,e,n){return R(this,null,function*(){let i=re(t),r=i.ba.get(e),o=i.Da.get(r.targetId);if(o.length>1)return i.Da.set(r.targetId,o.filter(s=>!gh(s,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Dc(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Ic(i.remoteStore,r.targetId),Tc(i,r.targetId)}).catch(hs))):(Tc(i,r.targetId),yield Dc(i.localStore,r.targetId,!0))})}function r9(t,e){return R(this,null,function*(){let n=re(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ic(n.remoteStore,i.targetId))})}function o9(t,e,n){return R(this,null,function*(){let i=Z1(t);try{let r=yield function(s,a){let l=re(s),d=Tt.now(),u=a.reduce((g,v)=>g.add(v.key),Ne()),f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=qn(),x=Ne();return l.os.getEntries(g,u).next(I=>{v=I,v.forEach((L,q)=>{q.isValidDocument()||(x=x.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(I=>{f=I;let L=[];for(let q of a){let j=vq(q,f.get(q.key).overlayedDocument);j!=null&&L.push(new $i(q.key,j,MN(j.value.mapValue),Ot.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,L,a)}).next(I=>{p=I;let L=I.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(g,I.batchId,L)})}).then(()=>({batchId:p.batchId,changes:zN(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let d=s.xa[s.currentUser.toKey()];d||(d=new vt(Me)),d=d.insert(a,l),s.xa[s.currentUser.toKey()]=d}(i,r.batchId,n),yield lo(i,r.changes),yield Nc(i.remoteStore)}catch(r){let o=Fc(r,"Failed to persist write");n.reject(o)}})}function PP(t,e){return R(this,null,function*(){let n=re(t);try{let i=yield Vq(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Fa.get(o);s&&(ue(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?ue(s.wa):r.removedDocuments.size>0&&(ue(s.wa),s.wa=!1))}),yield lo(n,i,e)}catch(i){yield hs(i)}})}function sN(t,e,n){let i=re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=re(s);l.onlineState=a;let d=!1;l.queries.forEach((u,f)=>{for(let p of f.U_)p.j_(a)&&(d=!0)}),d&&q1(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function s9(t,e,n){return R(this,null,function*(){let i=re(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),o=r&&r.key;if(o){let s=new vt(ne.comparator);s=s.insert(o,Zt.newNoDocument(o,pe.min()));let a=Ne().add(o),l=new th(pe.min(),new Map,new vt(Me),s,a);yield PP(i,l),i.va=i.va.remove(o),i.Fa.delete(e),Y1(i)}else yield Dc(i.localStore,e,!1).then(()=>Tc(i,e,n)).catch(hs)})}function a9(t,e){return R(this,null,function*(){let n=re(t),i=e.batch.batchId;try{let r=yield Lq(n.localStore,e);Q1(n,i,null),K1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield lo(n,r)}catch(r){yield hs(r)}})}function l9(t,e,n){return R(this,null,function*(){let i=re(t);try{let r=yield function(s,a){let l=re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(ue(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>l.localDocuments.getDocuments(d,u))})}(i.localStore,e);Q1(i,e,n),K1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield lo(i,r)}catch(r){yield hs(r)}})}function c9(t,e){return R(this,null,function*(){let n=re(t);ms(n.remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(i===-1)return void e.resolve();let r=n.Oa.get(i)||[];r.push(e),n.Oa.set(i,r)}catch(i){let r=Fc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function K1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Q1(t,e,n){let i=re(t),r=i.xa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Tc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||FP(t,i)})}function FP(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Ic(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Y1(t))}function l1(t,e,n){for(let i of n)i instanceof t_?(t.Ma.addReference(i.key,e),d9(t,i)):i instanceof n_?($("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||FP(t,i.key)):se()}function d9(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||($("SyncEngine","New document in limbo: "+n),t.Ca.add(i),Y1(t))}function Y1(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new ne(Qe.fromString(e)),i=t.Na.next();t.Fa.set(i,new s1(n)),t.va=t.va.insert(n,i),p_(t.remoteStore,new wc(On(Rc(n.path)),i,"TargetPurposeLimboResolution",ei.oe))}}function lo(t,e,n){return R(this,null,function*(){let i=re(t),r=[],o=[],s=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{s.push(i.Ba(l,e,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);let u=jE.Ki(l.targetId,d);o.push(u)}}))}),yield Promise.all(s),i.Sa.h_(r),yield function(l,d){return R(this,null,function*(){let u=re(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>k.forEach(d,p=>k.forEach(p.qi,g=>u.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>k.forEach(p.Qi,g=>u.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!fs(f))throw f;$("LocalStore","Failed to update sequence numbers: "+f)}for(let f of d){let p=f.targetId;if(!f.fromCache){let g=u.ns.get(p),v=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(v);u.ns=u.ns.insert(p,x)}}})}(i.localStore,o))})}function u9(t,e){return R(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let i=yield wP(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new z(N.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield lo(n,i.us)}})}function h9(t,e){let n=re(t),i=n.Fa.get(e);if(i&&i.wa)return Ne().add(i.key);{let r=Ne(),o=n.Da.get(e);if(!o)return r;for(let s of o){let a=n.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function f9(t,e){return R(this,null,function*(){let n=re(t),i=yield Gg(n.localStore,e.query,!0),r=e.view.pa(i);return n.isPrimaryClient&&l1(n,e.targetId,r.fa),r})}function m9(t,e){return R(this,null,function*(){let n=re(t);return IP(n.localStore,e).then(i=>lo(n,i))})}function p9(t,e,n,i){return R(this,null,function*(){let r=re(t),o=yield function(a,l){let d=re(a),u=re(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.vn(f,l).next(p=>p?d.localDocuments.getDocuments(f,p):k.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield Nc(r.remoteStore):n==="acknowledged"||n==="rejected"?(Q1(r,e,i||null),K1(r,e),function(a,l){re(re(a).mutationQueue).Mn(l)}(r.localStore,e)):se(),yield lo(r,o)):$("SyncEngine","Cannot apply mutation batch with id: "+e)})}function g9(t,e){return R(this,null,function*(){let n=re(t);if(g_(n),Z1(n),e===!0&&n.La!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield aN(n,i.toArray());n.La=!0,yield XE(n.remoteStore,!0);for(let o of r)p_(n.remoteStore,o)}else if(e===!1&&n.La!==!1){let i=[],r=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Tc(n,s),Dc(n.localStore,s,!0))),Ic(n.remoteStore,s)}),yield r,yield aN(n,i),function(s){let a=re(s);a.Fa.forEach((l,d)=>{Ic(a.remoteStore,d)}),a.Ma.mr(),a.Fa=new Map,a.va=new vt(ne.comparator)}(n),n.La=!1,yield XE(n.remoteStore,!1)}})}function aN(t,e,n){return R(this,null,function*(){let i=re(t),r=[],o=[];for(let s of e){let a,l=i.Da.get(s);if(l&&l.length!==0){a=yield Ec(i.localStore,On(l[0]));for(let d of l){let u=i.ba.get(d),f=yield f9(i,u);f.snapshot&&o.push(f.snapshot)}}else{let d=yield DP(i.localStore,s);a=yield Ec(i.localStore,d),yield W1(i,LP(d),s,!1,a.resumeToken)}r.push(a)}return i.Sa.h_(o),r})}function LP(t){return FN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _9(t){return function(n){return re(re(n).persistence).Bi()}(re(t).localStore)}function b9(t,e,n,i){return R(this,null,function*(){let r=re(t);if(r.La)return void $("SyncEngine","Ignoring unexpected query state notification.");let o=r.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield IP(r.localStore,VN(o[0])),a=th.createSynthesizedRemoteEventForCurrentChange(e,n==="current",an.EMPTY_BYTE_STRING);yield lo(r,s,a);break}case"rejected":yield Dc(r.localStore,e,!0),Tc(r,e,i);break;default:se()}})}function v9(t,e,n){return R(this,null,function*(){let i=g_(t);if(i.La){for(let r of e){if(i.Da.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){$("SyncEngine","Adding an already active target "+r);continue}let o=yield DP(i.localStore,r),s=yield Ec(i.localStore,o);yield W1(i,LP(o),s.targetId,!1,s.resumeToken),p_(i.remoteStore,s)}for(let r of n)i.Da.has(r)&&(yield Dc(i.localStore,r,!1).then(()=>{Ic(i.remoteStore,r),Tc(i,r)}).catch(hs))}})}function g_(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s9.bind(null,e),e.Sa.h_=Jq.bind(null,e.eventManager),e.Sa.ka=e9.bind(null,e.eventManager),e}function Z1(t){let e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l9.bind(null,e),e}function y9(t,e,n){let i=re(t);(function(o,s,a){return R(this,null,function*(){try{let l=yield s.getMetadata();if(yield function(g,v){let x=re(g),I=Ut(v.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",L=>x.$r.getBundleMetadata(L,v.id)).then(L=>!!L&&L.createTime.compareTo(I)>=0)}(o.localStore,l))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(OP(l));let d=new r1(l,o.localStore,s.serializer),u=yield s.qa();for(;u;){let p=yield d._a(u);p&&a._updateProgress(p),u=yield s.qa()}let f=yield d.complete();return yield lo(o,f.ca,void 0),yield function(g,v){let x=re(g);return x.persistence.runTransaction("Save bundle","readwrite",I=>x.$r.saveBundleMetadata(I,v))}(o.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return gi("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var dh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return R(this,null,function*(){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yP(this.persistence,new Hg,e.initialUser,this.serializer)}createPersistence(e){return new Ug($g.Hr,this.serializer)}createSharedClientState(e){return new Kg}terminate(){return R(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var r_=class t extends dh{constructor(e,n,i){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return R(this,null,function*(){yield Tb(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield Z1(this.Qa.syncEngine),yield Nc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return yP(this.persistence,new Hg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new IE(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new $x(n,this.persistence);return new Ux(e.asyncQueue,i)}createPersistence(e){let n=j1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new BE(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,TP(),gg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Kg}},c1=class t extends r_{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return R(this,null,function*(){yield Tb(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof Gu&&(this.sharedClientState.syncEngine={Zs:p9.bind(null,n),Xs:b9.bind(null,n),eo:v9.bind(null,n),Bi:_9.bind(null,n),Ys:m9.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>R(this,null,function*(){yield g9(this.Qa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=TP();if(!Gu.D(n))throw new z(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=j1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gu(n,e.asyncQueue,i,e.clientId,e.initialUser)}},uh=class{initialize(e,n){return R(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u9.bind(null,this.syncEngine),yield XE(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new t1}()}createDatastore(e){let n=bh(e.databaseInfo.databaseId),i=function(o){return new qE(o)}(e.databaseInfo);return function(o,s,a,l){return new QE(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new ZE(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sN(this.syncEngine,n,0),function(){return Qg.D()?new Qg:new HE}())}createSyncEngine(e,n){return function(r,o,s,a,l,d,u){let f=new a1(r,o,s,a,l,d);return u&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return R(this,null,function*(){var e;yield function(i){return R(this,null,function*(){let r=re(i);$("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Oc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function lN(t,e=10240){let n=0;return{read(){return R(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return R(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Sc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var d1=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Yt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){return R(this,null,function*(){return this.metadata.promise})}qa(){return R(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return R(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),i=Number(n);isNaN(i)&&this.ja(`length string (${n}) is not valid number`);let r=yield this.Ha(i);return new i1(JSON.parse(r),e.length+i)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return R(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return R(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return R(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var u1=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return R(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,o){return R(this,null,function*(){let s=re(r),a={documents:o.map(f=>ih(s.serializer,f))},l=yield s.xo("BatchGetDocuments",s.serializer.databaseId,Qe.emptyPath(),a,o.length),d=new Map;l.forEach(f=>{let p=Iq(s.serializer,f);d.set(p.key.toString(),p)});let u=[];return o.forEach(f=>{let p=d.get(f.toString());ue(!!p),u.push(p)}),u})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ds(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return R(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=ne.fromPath(i);this.mutations.push(new Xu(r,this.precondition(r)))}),yield function(i,r){return R(this,null,function*(){let o=re(i),s={writes:r.map(a=>rh(o.serializer,a))};yield o.Co("Commit",o.serializer.databaseId,Qe.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=pe.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new z(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(pe.min())?Ot.exists(!1):Ot.updateTime(n):Ot.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(pe.min()))throw new z(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ot.updateTime(n)}return Ot.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var h1=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Za=i.maxAttempts,this.Yo=new lh(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>R(this,null,function*(){let e=new u1(this.datastore),n=this.tu(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.nu(r)}))}).catch(i=>{this.nu(i)})}))}tu(e){try{let n=this.updateFunction(e);return!mh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!XN(n)}return!1}};var f1=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Qt.UNAUTHENTICATED,this.clientId=vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>R(this,null,function*(){$("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=Fc(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function _g(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>R(this,null,function*(){i.isEqual(r)||(yield wP(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function m1(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield X1(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>rN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>rN(e.remoteStore,r)),t._onlineComponents=e})}function VP(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function X1(t){return R(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _g(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!VP(n))throw n;gi("Error using user provided cache. Falling back to memory cache: "+n),yield _g(t,new dh)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield _g(t,new dh);return t._offlineComponents})}function __(t){return R(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield m1(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield m1(t,new uh))),t._onlineComponents})}function BP(t){return X1(t).then(e=>e.persistence)}function J1(t){return X1(t).then(e=>e.localStore)}function jP(t){return __(t).then(e=>e.remoteStore)}function eD(t){return __(t).then(e=>e.syncEngine)}function w9(t){return __(t).then(e=>e.datastore)}function Ac(t){return R(this,null,function*(){let e=yield __(t),n=e.eventManager;return n.onListen=t9.bind(null,e.syncEngine),n.onUnlisten=i9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r9.bind(null,e.syncEngine),n})}function x9(t){return t.asyncQueue.enqueue(()=>R(this,null,function*(){let e=yield BP(t),n=yield jP(t);return e.setNetworkEnabled(!0),function(r){let o=re(r);return o.M_.delete(0),vh(o)}(n)}))}function E9(t){return t.asyncQueue.enqueue(()=>R(this,null,function*(){let e=yield BP(t),n=yield jP(t);return e.setNetworkEnabled(!1),function(r){return R(this,null,function*(){let o=re(r);o.M_.add(0),yield Oc(o),o.N_.set("Offline")})}(n)}))}function D9(t,e){let n=new Yt;return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o,s){return R(this,null,function*(){try{let a=yield function(d,u){let f=re(d);return f.persistence.runTransaction("read document","readonly",p=>f.localDocuments.getDocument(p,u))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new z(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Fc(a,`Failed to get document '${o} from cache`);s.reject(l)}})}(yield J1(t),e,n)})),n.promise}function zP(t,e,n={}){let i=new Yt;return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,l,d){let u=new Sc({next:p=>{s.enqueueAndForget(()=>G1(o,f));let g=p.docs.has(a);!g&&p.fromCache?d.reject(new z(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?d.reject(new z(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ch(Rc(a.path),u,{includeMetadataChanges:!0,ra:!0});return H1(o,f)}(yield Ac(t),t.asyncQueue,e,n,i)})),i.promise}function I9(t,e){let n=new Yt;return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o,s){return R(this,null,function*(){try{let a=yield Gg(r,o,!0),l=new i_(o,a.hs),d=l.da(a.documents),u=l.applyChanges(d,!1);s.resolve(u.snapshot)}catch(a){let l=Fc(a,`Failed to execute query '${o} against cache`);s.reject(l)}})}(yield J1(t),e,n)})),n.promise}function UP(t,e,n={}){let i=new Yt;return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,l,d){let u=new Sc({next:p=>{s.enqueueAndForget(()=>G1(o,f)),p.fromCache&&l.source==="server"?d.reject(new z(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ch(a,u,{includeMetadataChanges:!0,ra:!0});return H1(o,f)}(yield Ac(t),t.asyncQueue,e,n,i)})),i.promise}function C9(t,e){let n=new Sc(e);return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o){re(r).z_.add(o),o.next()}(yield Ac(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o){re(r).z_.delete(o)}(yield Ac(t),n)}))}}function T9(t,e,n,i){let r=function(s,a){let l;return l=typeof s=="string"?eP().encode(s):s,function(u,f){return new d1(u,f)}(function(u,f){if(u instanceof Uint8Array)return lN(u,f);if(u instanceof ArrayBuffer)return lN(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,bh(e));t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){y9(yield eD(t),r,i)}))}function S9(t,e){return t.asyncQueue.enqueue(()=>R(this,null,function*(){return function(i,r){let o=re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield J1(t),e)}))}function $P(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var cN=new Map;function tD(t,e,n){if(!n)throw new z(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nD(t,e,n,i){if(e===!0&&i===!0)throw new z(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dN(t){if(!ne.isDocumentKey(t))throw new z(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uN(t){if(ne.isDocumentKey(t))throw new z(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=b_(t);throw new z(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function HP(t,e){if(e<=0)throw new z(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var o_=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new z(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$P((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ya=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Rx;switch(i.type){case"firstParty":return new Fx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new z(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=cN.get(n);i&&($("ComponentProvider","Removing Datastore"),cN.delete(n),i.terminate())}(this),Promise.resolve()}};function GP(t,e,n,i={}){var r;let o=(t=Ye(t,ya))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Qt.MOCK_USER;else{a=vC(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new z(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(d)}t._authCredentials=new Ox(new bg(a,l))}}var gn=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ft=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},_r=class t extends gn{constructor(e,n,i){super(e,n,Rc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function iD(t,e,...n){if(t=Et(t),tD("collection","path",e),t instanceof ya){let i=Qe.fromString(e,...n);return uN(i),new _r(t,null,i)}{if(!(t instanceof ft||t instanceof _r))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Qe.fromString(e,...n));return uN(i),new _r(t.firestore,null,i)}}function qP(t,e){if(t=Ye(t,ya),tD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gn(t,null,function(i){return new Ui(Qe.emptyPath(),i)}(e))}function yh(t,e,...n){if(t=Et(t),arguments.length===1&&(e=vg.newId()),tD("doc","path",e),t instanceof ya){let i=Qe.fromString(e,...n);return dN(i),new ft(t,null,new ne(i))}{if(!(t instanceof ft||t instanceof _r))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Qe.fromString(e,...n));return dN(i),new ft(t.firestore,t instanceof _r?t.converter:null,new ne(i))}}function rD(t,e){return t=Et(t),e=Et(e),(t instanceof ft||t instanceof _r)&&(e instanceof ft||e instanceof _r)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function oD(t,e){return t=Et(t),e=Et(e),t instanceof gn&&e instanceof gn&&t.firestore===e.firestore&&gh(t._query,e._query)&&t.converter===e.converter}var p1=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lh(this,"async_queue_retry"),this.hu=()=>{let n=gg();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=gg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Yt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return R(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!fs(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw jt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=JE.createAndSchedule(this,e,n,i,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&se()}verifyOperationInProgress(){}du(){return R(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function g1(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var _1=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var WP=-1,xt=class extends ya{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new p1}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KP(this),this._firestoreClient.terminate()}};function en(t){return t._firestoreClient||KP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KP(t){var e,n,i;let r=t._freezeSettings(),o=function(a,l,d,u){return new Hx(a,l,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,$P(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new f1(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function QP(t,e){rF(t=Ye(t,xt));let n=en(t);if(n._uninitializedComponentsProvider)throw new z(N.FAILED_PRECONDITION,"SDK cache is already specified.");gi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new uh;return ZP(n,r,new r_(r,i.cacheSizeBytes,e?.forceOwnership))}function YP(t){rF(t=Ye(t,xt));let e=en(t);if(e._uninitializedComponentsProvider)throw new z(N.FAILED_PRECONDITION,"SDK cache is already specified.");gi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new uh;return ZP(e,i,new c1(i,n.cacheSizeBytes))}function ZP(t,e,n){let i=new Yt;return t.asyncQueue.enqueue(()=>R(this,null,function*(){try{yield _g(t,n),yield m1(t,e),i.resolve()}catch(r){let o=r;if(!VP(o))throw o;gi("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function XP(t){if(t._initialized&&!t._terminated)throw new z(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Yt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{yield function(i){return R(this,null,function*(){if(!is.D())return Promise.resolve();let r=i+"main";yield is.delete(r)})}(j1(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function JP(t){return function(n){let i=new Yt;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return c9(yield eD(n),i)})),i.promise}(en(t=Ye(t,xt)))}function eF(t){return x9(en(t=Ye(t,xt)))}function tF(t){return E9(en(t=Ye(t,xt)))}function nF(t,e){let n=en(t=Ye(t,xt)),i=new _1;return T9(n,t._databaseId,e,i),i}function iF(t,e){return S9(en(t=Ye(t,xt)),e).then(n=>n?new gn(t,null,n.query):null)}function rF(t){if(t._initialized||t._terminated)throw new z(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(an.fromBase64String(e))}catch(n){throw new z(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Hi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var so=class{constructor(e){this._methodName=e}};var wa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var A9=/^__.*__$/,b1=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new cs(e,this.data,n,this.fieldTransforms)}},s_=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function oF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var a_=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return l_(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(oF(this.fu)&&A9.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},v1=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||bh(e)}Fu(e,n,i,r=!1){return new a_({fu:e,methodName:n,vu:i,path:zt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ia(t){let e=t._freezeSettings(),n=bh(t._databaseId);return new v1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v_(t,e,n,i,r,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,r);lD("Data must be an object, but it was:",s,i);let a=lF(i,s),l,d;if(o.merge)l=new ti(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let f of o.mergeFields){let p=D1(e,f,n);if(!s.contains(p))throw new z(N.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dF(u,p)||u.push(p)}l=new ti(u),d=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=s.fieldTransforms;return new b1(new En(a),l,d)}var hh=class t extends so{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function sF(t,e,n){return new a_({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var y1=class t extends so{_toFieldTransform(e){return new _a(e.path,new as)}isEqual(e){return e instanceof t}},w1=class t extends so{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=sF(this,e,!0),i=this.Mu.map(o=>Ca(o,n)),r=new ro(i);return new _a(e.path,r)}isEqual(e){return e instanceof t&&Mb(this.Mu,e.Mu)}},x1=class t extends so{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=sF(this,e,!0),i=this.Mu.map(o=>Ca(o,n)),r=new oo(i);return new _a(e.path,r)}isEqual(e){return e instanceof t&&Mb(this.Mu,e.Mu)}},E1=class t extends so{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new ls(e.serializer,GN(e.serializer,this.xu));return new _a(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function sD(t,e,n,i){let r=t.Fu(1,e,n);lD("Data must be an object, but it was:",r,i);let o=[],s=En.empty();Da(i,(l,d)=>{let u=cD(e,l,n);d=Et(d);let f=r.Su(u);if(d instanceof hh)o.push(u);else{let p=Ca(d,f);p!=null&&(o.push(u),s.set(u,p))}});let a=new ti(o);return new s_(s,a,r.fieldTransforms)}function aD(t,e,n,i,r,o){let s=t.Fu(1,e,n),a=[D1(e,i,n)],l=[r];if(o.length%2!=0)throw new z(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(D1(e,o[p])),l.push(o[p+1]);let d=[],u=En.empty();for(let p=a.length-1;p>=0;--p)if(!dF(d,a[p])){let g=a[p],v=l[p];v=Et(v);let x=s.Su(g);if(v instanceof hh)d.push(g);else{let I=Ca(v,x);I!=null&&(d.push(g),u.set(g,I))}}let f=new ti(d);return new s_(u,f,s.fieldTransforms)}function aF(t,e,n,i=!1){return Ca(n,t.Fu(i?4:3,e))}function Ca(t,e){if(cF(t=Et(t)))return lD("Unsupported field value:",e,t),lF(t,e);if(t instanceof so)return function(i,r){if(!oF(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let l=Ca(a,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Et(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Tt.fromDate(i);return{timestampValue:yc(r.serializer,o)}}if(i instanceof Tt){let o=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yc(r.serializer,o)}}if(i instanceof wa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wr)return{bytesValue:tP(r.serializer,i._byteString)};if(i instanceof ft){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:L1(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${b_(i)}`)}(t,e)}function lF(t,e){let n={};return TN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,(i,r)=>{let o=Ca(r,e.pu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function cF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof wa||t instanceof wr||t instanceof ft||t instanceof so)}function lD(t,e,n){if(!cF(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=b_(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function D1(t,e,n){if((e=Et(e))instanceof Hi)return e._internalPath;if(typeof e=="string")return cD(t,e);throw l_("Field path arguments must be of type string or ",t,!1,void 0,n)}var M9=new RegExp("[~\\*/\\[\\]]");function cD(t,e,n){if(e.search(M9)>=0)throw l_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hi(...e.split("."))._internalPath}catch{throw l_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function l_(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new z(N.INVALID_ARGUMENT,a+t+l)}function dF(t,e){return t.some(n=>n.isEqual(e))}var xa=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new I1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(y_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},I1=class extends xa{data(){return super.data()}};function y_(t,e){return typeof e=="string"?cD(t,e):e instanceof Hi?e._internalPath:e._delegate._internalPath}function uF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fh=class{},Ea=class extends fh{};function co(t,e,...n){let i=[];e instanceof fh&&i.push(e),i=i.concat(n),function(o){let s=o.filter(l=>l instanceof C1).length,a=o.filter(l=>l instanceof c_).length;if(s>1||s>0&&a>0)throw new z(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var c_=class t extends Ea{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return wF(e._query,n),new gn(e.firestore,e.converter,iE(e._query,n))}_parse(e){let n=Ia(e.firestore);return function(o,s,a,l,d,u,f){let p;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new z(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){fN(f,u);let g=[];for(let v of f)g.push(hN(l,o,v));p={arrayValue:{values:g}}}else p=hN(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||fN(f,u),p=aF(a,s,f,u==="in"||u==="not-in");return He.create(d,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function hF(t,e,n){let i=e,r=y_("where",t);return c_._create(r,i,n)}var C1=class t extends fh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:st.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)wF(s,l),s=iE(s,l)}(e._query,n),new gn(e.firestore,e.converter,iE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var T1=class t extends Ea{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new z(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new z(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pa(o,s)}(e._query,this._field,this._direction);return new gn(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Ui(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function fF(t,e="asc"){let n=e,i=y_("orderBy",t);return T1._create(i,n)}var d_=class t extends Ea{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new gn(e.firestore,e.converter,Ag(e._query,this._limit,this._limitType))}};function mF(t){return HP("limit",t),d_._create("limit",t,"F")}function pF(t){return HP("limitToLast",t),d_._create("limitToLast",t,"L")}var u_=class t extends Ea{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=yF(e,this.type,this._docOrFields,this._inclusive);return new gn(e.firestore,e.converter,function(r,o){return new Ui(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function gF(...t){return u_._create("startAt",t,!0)}function _F(...t){return u_._create("startAfter",t,!1)}var h_=class t extends Ea{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=yF(e,this.type,this._docOrFields,this._inclusive);return new gn(e.firestore,e.converter,function(r,o){return new Ui(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function bF(...t){return h_._create("endBefore",t,!1)}function vF(...t){return h_._create("endAt",t,!0)}function yF(t,e,n,i){if(n[0]=Et(n[0]),n[0]instanceof xa)return function(o,s,a,l,d){if(!l)throw new z(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let f of hc(o))if(f.field.isKeyField())u.push(ma(s,l.key));else{let p=l.data.field(f.field);if(m_(p))throw new z(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){let g=f.field.canonicalString();throw new z(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(p)}return new vr(u,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=Ia(t.firestore);return function(s,a,l,d,u,f){let p=s.explicitOrderBy;if(u.length>p.length)throw new z(N.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let v=0;v<u.length;v++){let x=u[v];if(p[v].field.isKeyField()){if(typeof x!="string")throw new z(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof x}`);if(!P1(s)&&x.indexOf("/")!==-1)throw new z(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${x}' contains a slash.`);let I=s.path.child(Qe.fromString(x));if(!ne.isDocumentKey(I))throw new z(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);let L=new ne(I);g.push(ma(a,L))}else{let I=aF(l,d,x);g.push(I)}}return new vr(g,f)}(t._query,t.firestore._databaseId,r,e,n,i)}}function hN(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new z(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&n.indexOf("/")!==-1)throw new z(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Qe.fromString(n));if(!ne.isDocumentKey(i))throw new z(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ma(t,new ne(i))}if(n instanceof ft)return ma(t,n._key);throw new z(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b_(n)}.`)}function fN(t,e){if(!Array.isArray(t)||t.length===0)throw new z(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wF(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Mc=class{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Da(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new wa(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=O1(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){let n=io(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Qe.fromString(e);ue(hP(i));let r=new os(i.get(1),i.get(3)),o=new ne(i.popFirst(5));return r.isEqual(n)||jt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function w_(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var S1=class extends Mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}};var no=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bi=class extends xa{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ts(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(y_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ts=class extends bi{data(e={}){return super.data(e)}},Gi=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new no(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ts(this._firestore,this._userDataWriter,i.key,i,new no(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new ts(r._firestore,r._userDataWriter,a.doc.key,a.doc,new no(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new ts(r._firestore,r._userDataWriter,a.doc.key,a.doc,new no(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,u=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:k9(a.type),doc:l,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function k9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function dD(t,e){return t instanceof bi&&e instanceof bi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Gi&&e instanceof Gi&&t._firestore===e._firestore&&oD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function xF(t){t=Ye(t,ft);let e=Ye(t.firestore,xt);return zP(en(e),t._key).then(n=>mD(e,t,n))}var ao=class extends Mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}};function EF(t){t=Ye(t,ft);let e=Ye(t.firestore,xt),n=en(e),i=new ao(e);return D9(n,t._key).then(r=>new bi(e,i,t._key,r,new no(r!==null&&r.hasLocalMutations,!0),t.converter))}function DF(t){t=Ye(t,ft);let e=Ye(t.firestore,xt);return zP(en(e),t._key,{source:"server"}).then(n=>mD(e,t,n))}function IF(t){t=Ye(t,gn);let e=Ye(t.firestore,xt),n=en(e),i=new ao(e);return uF(t._query),UP(n,t._query).then(r=>new Gi(e,i,t,r))}function CF(t){t=Ye(t,gn);let e=Ye(t.firestore,xt),n=en(e),i=new ao(e);return I9(n,t._query).then(r=>new Gi(e,i,t,r))}function TF(t){t=Ye(t,gn);let e=Ye(t.firestore,xt),n=en(e),i=new ao(e);return UP(n,t._query,{source:"server"}).then(r=>new Gi(e,i,t,r))}function uD(t,e,n){t=Ye(t,ft);let i=Ye(t.firestore,xt),r=w_(t.converter,e,n);return Lc(i,[v_(Ia(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ot.none())])}function hD(t,e,n,...i){t=Ye(t,ft);let r=Ye(t.firestore,xt),o=Ia(r),s;return s=typeof(e=Et(e))=="string"||e instanceof Hi?aD(o,"updateDoc",t._key,e,n,i):sD(o,"updateDoc",t._key,e),Lc(r,[s.toMutation(t._key,Ot.exists(!0))])}function SF(t){return Lc(Ye(t.firestore,xt),[new ds(t._key,Ot.none())])}function AF(t,e){let n=Ye(t.firestore,xt),i=yh(t),r=w_(t.converter,e);return Lc(n,[v_(Ia(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ot.exists(!1))]).then(()=>i)}function fD(t,...e){var n,i,r;t=Et(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||g1(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(g1(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,d,u;if(t instanceof ft)d=Ye(t.firestore,xt),u=Rc(t._key.path),l={next:f=>{e[s]&&e[s](mD(d,t,f))},error:e[s+1],complete:e[s+2]};else{let f=Ye(t,gn);d=Ye(f.firestore,xt),u=f._query;let p=new ao(d);l={next:g=>{e[s]&&e[s](new Gi(d,p,f,g))},error:e[s+1],complete:e[s+2]},uF(t._query)}return function(p,g,v,x){let I=new Sc(x),L=new ch(g,I,v);return p.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return H1(yield Ac(p),L)})),()=>{I.$a(),p.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return G1(yield Ac(p),L)}))}}(en(d),u,a,l)}function MF(t,e){return C9(en(t=Ye(t,xt)),g1(e)?e:{next:e})}function Lc(t,e){return function(i,r){let o=new Yt;return i.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return o9(yield eD(i),r,o)})),o.promise}(en(t),e)}function mD(t,e,n){let i=n.docs.get(e._key),r=new ao(t);return new bi(t,r,e._key,i,new no(n.hasPendingWrites,n.fromCache),e.converter)}var R9={maxAttempts:5};var f_=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ia(e)}set(e,n,i){this._verifyNotCommitted();let r=Jo(e,this._firestore),o=w_(r.converter,n,i),s=v_(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,Ot.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=Jo(e,this._firestore),s;return s=typeof(n=Et(n))=="string"||n instanceof Hi?aD(this._dataReader,"WriteBatch.update",o._key,n,i,r):sD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Jo(e,this._firestore);return this._mutations=this._mutations.concat(new ds(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Jo(t,e){if((t=Et(t)).firestore!==e)throw new z(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var A1=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=Ia(n)}get(n){let i=Jo(n,this._firestore),r=new S1(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return se();let s=o[0];if(s.isFoundDocument())return new xa(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new xa(this._firestore,r,i._key,null,i.converter);throw se()})}set(n,i,r){let o=Jo(n,this._firestore),s=w_(o.converter,i,r),a=v_(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=Jo(n,this._firestore),a;return a=typeof(i=Et(i))=="string"||i instanceof Hi?aD(this._dataReader,"Transaction.update",s._key,i,r,o):sD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=Jo(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Jo(e,this._firestore),i=new ao(this._firestore);return super.get(e).then(r=>new bi(this._firestore,i,n._key,r._document,new no(!1,!1),n.converter))}};function kF(t,e,n){t=Ye(t,xt);let i=Object.assign(Object.assign({},R9),n);return function(o){if(o.maxAttempts<1)throw new z(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let l=new Yt;return o.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){let d=yield w9(o);new h1(o.asyncQueue,d,a,s,l).Xa()})),l.promise}(en(t),r=>e(new A1(t,r)),i)}function RF(){return new hh("deleteField")}function OF(){return new y1("serverTimestamp")}function NF(...t){return new w1("arrayUnion",t)}function PF(...t){return new x1("arrayRemove",t)}function FF(t){return new E1("increment",t)}(function(e,n=!0){(function(r){kc=r})(xC),cd(new Es("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new xt(new Nx(i.getProvider("auth-internal")),new Vx(i.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new z(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new os(d.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yo(mO,"4.6.2",e),yo(mO,"4.6.2","esm2017")})();var O9="@firebase/firestore-compat",N9="0.3.31";function yD(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function LF(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function VF(){if(!SN())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}var x_=class t{constructor(e){this._delegate=e}static fromBase64String(e){return VF(),new t(wr.fromBase64String(e))}static fromUint8Array(e){return LF(),new t(wr.fromUint8Array(e))}toBase64(){return VF(),this._delegate.toBase64()}toUint8Array(){return LF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function pD(t){return P9(t,["next","error","complete"])}function P9(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var gD=class{enableIndexedDbPersistence(e,n){return QP(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return YP(e._delegate)}clearIndexedDbPersistence(e){return XP(e._delegate)}},E_=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof os||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&gi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){GP(this._delegate,e,n,i)}enableNetwork(){return eF(this._delegate)}disableNetwork(){return tF(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,nD("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return JP(this._delegate)}onSnapshotsInSync(e){return MF(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jc(this,iD(this._delegate,e))}catch(n){throw Nn(n,"collection()","Firestore.collection()")}}doc(e){try{return new xr(this,yh(this._delegate,e))}catch(n){throw Nn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ma(this,qP(this._delegate,e))}catch(n){throw Nn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return kF(this._delegate,n=>e(new D_(this,n)))}batch(){return en(this._delegate),new I_(new f_(this._delegate,e=>Lc(this._delegate,e)))}loadBundle(e){return nF(this._delegate,e)}namedQuery(e){return iF(this._delegate,e).then(n=>n?new Ma(this,n):null)}},Vc=class extends Mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new x_(new wr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return xr.forKey(n,this.firestore,null)}};function F9(t){mN(t)}var D_=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Vc(e)}get(e){let n=Ta(e);return this._delegate.get(n).then(i=>new Sa(this._firestore,new bi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=Ta(e);return i?(yD("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ta(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ta(e);return this._delegate.delete(n),this}},I_=class{constructor(e){this._delegate=e}set(e,n,i){let r=Ta(e);return i?(yD("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ta(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ta(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Bc=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new ts(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Aa(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new Vc(e),n),r.set(n,o)),o}};Bc.INSTANCES=new WeakMap;var xr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Vc(e)}static forPath(e,n,i){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new ft(n._delegate,i,new ne(e)))}static forKey(e,n,i){return new t(n,new ft(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new jc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jc(this.firestore,iD(this._delegate,e))}catch(n){throw Nn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Et(e),e instanceof ft?rD(this._delegate,e):!1}set(e,n){n=yD("DocumentReference.set",n);try{return n?uD(this._delegate,e,n):uD(this._delegate,e)}catch(i){throw Nn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?hD(this._delegate,e):hD(this._delegate,e,n,...i)}catch(r){throw Nn(r,"updateDoc()","DocumentReference.update()")}}delete(){return SF(this._delegate)}onSnapshot(...e){let n=BF(e),i=jF(e,r=>new Sa(this.firestore,new bi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return fD(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=EF(this._delegate):e?.source==="server"?n=DF(this._delegate):n=xF(this._delegate),n.then(i=>new Sa(this.firestore,new bi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Bc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Nn(t,e,n){return t.message=t.message.replace(e,n),t}function BF(t){for(let e of t)if(typeof e=="object"&&!pD(e))return e;return{}}function jF(t,e){var n,i;let r;return pD(t[0])?r=t[0]:pD(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Sa=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new xr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return dD(this._delegate,e._delegate)}},Aa=class extends Sa{data(e){let n=this._delegate.data(e);return this._delegate._converter||pN(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Ma=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Vc(e)}where(e,n,i){try{return new t(this.firestore,co(this._delegate,hF(e,n,i)))}catch(r){throw Nn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,co(this._delegate,fF(e,n)))}catch(i){throw Nn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,co(this._delegate,mF(e)))}catch(n){throw Nn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,co(this._delegate,pF(e)))}catch(n){throw Nn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,co(this._delegate,gF(...e)))}catch(n){throw Nn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,co(this._delegate,_F(...e)))}catch(n){throw Nn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,co(this._delegate,bF(...e)))}catch(n){throw Nn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,co(this._delegate,vF(...e)))}catch(n){throw Nn(n,"endAt()","Query.endAt()")}}isEqual(e){return oD(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=CF(this._delegate):e?.source==="server"?n=TF(this._delegate):n=IF(this._delegate),n.then(i=>new wh(this.firestore,new Gi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=BF(e),i=jF(e,r=>new wh(this.firestore,new Gi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return fD(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Bc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},_D=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Aa(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},wh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ma(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Aa(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new _D(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Aa(this._firestore,i))})}isEqual(e){return dD(this._delegate,e._delegate)}},jc=class t extends Ma{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new xr(this.firestore,e):null}doc(e){try{return e===void 0?new xr(this.firestore,yh(this._delegate)):new xr(this.firestore,yh(this._delegate,e))}catch(n){throw Nn(n,"doc()","CollectionReference.doc()")}}add(e){return AF(this._delegate,e).then(n=>new xr(this.firestore,n))}isEqual(e){return rD(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Bc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ta(t){return Ye(t,ft)}var bD=class t{constructor(...e){this._delegate=new Hi(...e)}static documentId(){return new t(zt.keyField().canonicalString())}isEqual(e){return e=Et(e),e instanceof Hi?this._delegate._internalPath.isEqual(e._internalPath):!1}};var vD=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=OF();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=RF();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=NF(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=PF(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=FF(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var L9={Firestore:E_,GeoPoint:wa,Timestamp:Tt,Blob:x_,Transaction:D_,WriteBatch:I_,DocumentReference:xr,DocumentSnapshot:Sa,Query:Ma,QueryDocumentSnapshot:Aa,QuerySnapshot:wh,CollectionReference:jc,FieldPath:bD,FieldValue:vD,setLogLevel:F9,CACHE_SIZE_UNLIMITED:WP};function V9(t,e){t.INTERNAL.registerComponent(new Es("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},L9)))}function B9(t){V9(t,(e,n)=>new E_(e,n,new gD)),t.registerVersion(O9,N9)}B9(Fn);function j9(t,e=ri){return new de(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function zF(t,e){return j9(t,e)}function z9(t,e){return zF(t,e).pipe(Bn(void 0),nl(),K(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function ED(t,e){return zF(t,e).pipe(K(n=>({payload:n,type:"query"})))}var C_=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=qF(i,n);return new S_(r,o,this.afs)}snapshotChanges(){return z9(this.ref,this.afs.schedulers.outsideAngular).pipe(Gn)}valueChanges(e={}){return this.snapshotChanges().pipe(K(({payload:n})=>e.idField?ze(H({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return We(this.ref.get(e)).pipe(Gn)}};function T_(t,e){return ED(t,e).pipe(Bn(void 0),nl(),K(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let d=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function UF(t,e,n){return T_(t,n).pipe(Ss((i,r)=>U9(i,r.map(o=>o.payload),e),[]),Nr(),K(i=>i.map(r=>({type:r.type,payload:r}))))}function U9(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=$9(t,i))}),t}function wD(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function $9(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return wD(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return wD(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wD(t,e.oldIndex,1);break}return t}function $F(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var S_=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=T_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(K(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Bn(void 0),nl(),Ce(([i,r])=>r.length>0||!i),K(([,i])=>i),Gn)}auditTrail(e){return this.stateChanges(e).pipe(Ss((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=$F(e);return UF(this.query,n,this.afs.schedulers.outsideAngular).pipe(Gn)}valueChanges(e={}){return ED(this.query,this.afs.schedulers.outsideAngular).pipe(K(n=>n.payload.docs.map(i=>e.idField?ze(H({},i.data()),{[e.idField]:i.id}):i.data())),Gn)}get(e){return We(this.query.get(e)).pipe(Gn)}add(e){return this.ref.add(e)}doc(e){return new C_(this.ref.doc(e),this.afs)}},xD=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?T_(this.query,this.afs.schedulers.outsideAngular).pipe(Gn):T_(this.query,this.afs.schedulers.outsideAngular).pipe(K(n=>n.filter(i=>e.indexOf(i.type)>-1)),Ce(n=>n.length>0),Gn)}auditTrail(e){return this.stateChanges(e).pipe(Ss((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=$F(e);return UF(this.query,n,this.afs.schedulers.outsideAngular).pipe(Gn)}valueChanges(e={}){return ED(this.query,this.afs.schedulers.outsideAngular).pipe(K(i=>i.payload.docs.map(r=>e.idField?H({[e.idField]:r.id},r.data()):r.data())),Gn)}get(e){return We(this.query.get(e)).pipe(Gn)}},HF=new U("angularfire2.enableFirestorePersistence"),GF=new U("angularfire2.firestore.persistenceSettings"),H9=new U("angularfire2.firestore.settings"),G9=new U("angularfire2.firestore.use-emulator");function qF(t,e=n=>n){return{query:e(t),ref:t}}var DD=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,l,d,u,f,p,g,v,x,I,L,q){this.schedulers=l;let j=Ou(n,a,i),te=u;f&&yx(j,a,p,v,x,I,g,L),[this.firestore,this.persistenceEnabled$]=rg(`${j.name}.firestore`,"AngularFirestore",j.name,()=>{let he=a.runOutsideAngular(()=>j.firestore());if(o&&he.settings(o),te&&he.useEmulator(...te),r&&!Ws(s)){let ae=()=>{try{return We(he.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(E){return typeof console<"u"&&console.warn(E),ie(!1)}};return[he,a.runOutsideAngular(ae)]}else return[he,ie(!1)]},[o,te,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=qF(r,i),a=this.schedulers.ngZone.run(()=>o);return new S_(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new xD(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new C_(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(T(Xl),T(Jl,8),T(HF,8),T(H9,8),T(Ht),T(J),T(tg),T(GF,8),T(G9,8),T(og,8),T(mx,8),T(px,8),T(gx,8),T(_x,8),T(bx,8),T(vx,8),T(ra,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),WF=(()=>{class t{constructor(){Fn.registerVersion("angularfire",Zl.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:HF,useValue:!0},{provide:GF,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[DD]})}return t})();var vi=(()=>{let e=class e{constructor(i){this.firestore=i,this.productsCollection=this.firestore.collection("products"),this.cart=new yt([])}getProducts(){return this.productsCollection.valueChanges({idField:"id"})}getProduct(i){return this.productsCollection.doc(i).valueChanges()}addProduct(i){return this.productsCollection.doc(i.id).set(i)}updateProduct(i,r){return this.productsCollection.doc(i).update(r)}deleteProduct(i){return this.productsCollection.doc(i).delete()}getCart(){return this.cart.asObservable()}addToCart(i){let r=this.cart.value;this.cart.next([...r,i])}removeFromCart(i){let o=this.cart.value.filter(s=>s.id!==i.id);this.cart.next(o)}getTotalPrice(){return this.cart.asObservable().pipe(K(i=>i.reduce((r,o)=>r+o.price,0)))}generateId(){return this.firestore.createId()}getProductsByCategory(i){return this.firestore.collection("products",r=>r.where("category","==",i)).valueChanges()}getTopRatedProducts(i){return this.firestore.collection("products",r=>r.orderBy("rating","desc").limit(i)).valueChanges()}};e.\u0275fac=function(r){return new(r||e)(T(DD))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var CD;try{CD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CD=!1}var at=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?qs(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||CD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(T(Ht))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Uc,KF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function TD(){if(Uc)return Uc;if(typeof document!="object"||!document)return Uc=new Set(KF),Uc;let t=document.createElement("input");return Uc=new Set(KF.filter(e=>(t.setAttribute("type",e),t.type===e))),Uc}var xh;function W9(){if(xh==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xh=!0}))}finally{xh=xh||!1}return xh}function ps(t){return W9()?t:!!t.capture}var ka;function QF(){if(ka==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ka=!1,ka;if("scrollBehavior"in document.documentElement.style)ka=!0;else{let t=Element.prototype.scrollTo;t?ka=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ka=!1}}return ka}var ID;function K9(){if(ID==null){let t=typeof document<"u"?document.head:null;ID=!!(t&&(t.createShadowRoot||t.attachShadow))}return ID}function YF(t){if(K9()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function yi(t){return t.composedPath?t.composedPath()[0]:t.target}function Eh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function uo(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Ra(t){return t!=null&&`${t}`!="false"}function $c(t){return Array.isArray(t)?t:[t]}function $t(t){return t==null?"":typeof t=="string"?t:`${t}px`}function wi(t){return t instanceof ve?t.nativeElement:t}var Q9=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[Q9]});let t=e;return t})();var ZF=new Set,Oa,Y9=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):X9}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&Z9(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(T(at),T(Fd,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z9(t,e){if(!ZF.has(t))try{Oa||(Oa=document.createElement("style"),e&&Oa.setAttribute("nonce",e),Oa.setAttribute("type","text/css"),document.head.appendChild(Oa)),Oa.sheet&&(Oa.sheet.insertRule(`@media ${t} {body{ }}`,0),ZF.add(t))}catch(n){console.error(n)}}function X9(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var JF=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return XF($c(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=XF($c(i)).map(a=>this._registerQuery(a).observable),s=xo(o);return s=Vn(s.pipe(Ze(1)),s.pipe(il(1),pd(0))),s.pipe(K(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:u})=>{l.matches=l.matches||d,l.breakpoints[u]=d}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new de(a=>{let l=d=>this._zone.run(()=>a.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Bn(r),K(({matches:a})=>({query:i,matches:a})),$e(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(T(Y9),T(J))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XF(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var n2=" ";function i2(t,e,n){let i=r2(t,e);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),t.setAttribute(e,i.join(n2)))}function OD(t,e,n){let i=r2(t,e);n=n.trim();let r=i.filter(o=>o!==n);r.length?t.setAttribute(e,r.join(n2)):t.removeAttribute(e)}function r2(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var AD=class{constructor(e,n){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new oe,this._typeaheadSubscription=qe.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new oe,this.change=new oe,e instanceof gl?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):zm(e)&&(this._effectRef=ay(()=>this._itemsChanged(e()),{injector:n}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(rt(n=>this._pressedLetters.push(n)),pd(e),Ce(()=>this._pressedLetters.length>0),K(()=>this._pressedLetters.join(""))).subscribe(n=>{let i=this._getItemsArray();for(let r=1;r<i.length+1;r++){let o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(n)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){let n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||uo(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),i=typeof e=="number"?e:n.indexOf(e),r=n[i];this._activeItem=r??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+e*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=n,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return zm(this._items)?this._items():this._items instanceof gl?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}},R_=class extends AD{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};function ND(t){return t.buttons===0||t.detail===0}function PD(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var hW=new U("cdk-input-modality-detector-options"),fW={ignoreKeys:[18,17,224,91,16]},o2=650,Hc=ps({passive:!0,capture:!0}),mW=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new yt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yi(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<o2||(this._modality.next(ND(a)?"keyboard":"mouse"),this._mostRecentTarget=yi(a))},this._onTouchstart=a=>{if(PD(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yi(a)},this._options=H(H({},fW),s),this.modalityDetected=this._modality.pipe(il(1)),this.modalityChanged=this.modalityDetected.pipe(Nr()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Hc),o.addEventListener("mousedown",this._onMousedown,Hc),o.addEventListener("touchstart",this._onTouchstart,Hc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hc),document.removeEventListener("mousedown",this._onMousedown,Hc),document.removeEventListener("touchstart",this._onTouchstart,Hc))}};e.\u0275fac=function(r){return new(r||e)(T(at),T(J),T(we),T(hW,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pW=new U("liveAnnouncerElement",{providedIn:"root",factory:gW});function gW(){return null}var _W=new U("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),bW=0,s2=(()=>{let e=class e{constructor(i,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=i||this._createLiveElement()}announce(i,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",r=this._document.getElementsByClassName(i),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(i),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${bW++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(i){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(i)===-1&&s.setAttribute("aria-owns",a+" "+i):s.setAttribute("aria-owns",i)}}};e.\u0275fac=function(r){return new(r||e)(T(pW,8),T(J),T(we),T(_W,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k_=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(k_||{}),vW=new U("cdk-focus-monitor-default-options"),M_=ps({passive:!0,capture:!0}),a2=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new oe,this._rootNodeFocusAndBlurListener=l=>{let d=yi(l);for(let u=d;u;u=u.parentElement)l.type==="focus"?this._onFocus(l,u):this._onBlur(l,u)},this._document=s,this._detectionMode=a?.detectionMode||k_.IMMEDIATE}monitor(i,r=!1){let o=wi(i);if(!this._platform.isBrowser||o.nodeType!==1)return ie();let s=YF(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new oe,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let r=wi(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=wi(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===k_.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===k_.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?o2:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=yi(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,M_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,M_)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($e(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,M_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,M_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(T(J),T(at),T(mW),T(we,8),T(vW,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Na=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Na||{}),e2="cdk-high-contrast-black-on-white",t2="cdk-high-contrast-white-on-black",SD="cdk-high-contrast-active",l2=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=V(JF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Na.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Na.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Na.BLACK_ON_WHITE}return Na.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(SD,e2,t2),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Na.BLACK_ON_WHITE?i.add(SD,e2):r===Na.WHITE_ON_BLACK&&i.add(SD,t2)}}};e.\u0275fac=function(r){return new(r||e)(T(at),T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yW=new U("cdk-dir-doc",{providedIn:"root",factory:wW});function wW(){return V(we)}var xW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function EW(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?xW.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Pa=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Te,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=EW(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(T(yW,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var DW=["text"],IW=[[["mat-icon"]],"*"],CW=["mat-icon","*"];function TW(t,e){if(t&1&&be(0,"mat-pseudo-checkbox",1),t&2){let n=Oe();De("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function SW(t,e){if(t&1&&be(0,"mat-pseudo-checkbox",3),t&2){let n=Oe();De("disabled",n.disabled)}}function AW(t,e){if(t&1&&(F(0,"span",4),W(1),P()),t&2){let n=Oe();ee(),ci("(",n.group.label,")")}}function MW(){return!0}var kW=new U("mat-sanity-checks",{providedIn:"root",factory:MW}),ut=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Eh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(T(l2),T(kW,8),T(we))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[gs,gs]});let t=e;return t})();var Gc=class{constructor(e,n,i,r,o){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var B_=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xi=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(xi||{}),BD=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=xi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},d2=ps({passive:!0,capture:!0}),jD=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=yi(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,d2)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,d2)))}},u2={enterDuration:225,exitDuration:150},RW=800,h2=ps({passive:!0,capture:!0}),f2=["mousedown","touchstart"],m2=["mouseup","mouseleave","touchend","touchcancel"],Dh=class Dh{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=wi(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=H(H({},u2),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||OW(e,n,r),a=e-r.left,l=n-r.top,d=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${l-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),p=f.transitionProperty,g=f.transitionDuration,v=p==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,x=new BD(this,u,i,v);u.style.transform="scale3d(1, 1, 1)",x.state=xi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=x);let I=null;return!v&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let L=()=>this._finishRippleTransition(x),q=()=>this._destroyRipple(x);u.addEventListener("transitionend",L),u.addEventListener("transitioncancel",q),I={onTransitionEnd:L,onTransitionCancel:q}}),this._activeRipples.set(x,I),(v||!d)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===xi.FADING_OUT||e.state===xi.HIDDEN)return;let n=e.element,i=H(H({},u2),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=xi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=wi(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,f2.forEach(i=>{Dh._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{m2.forEach(n=>{this._triggerElement.addEventListener(n,this,h2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===xi.FADING_IN?this._startFadeOutTransition(e):e.state===xi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=xi.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=xi.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=ND(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+RW;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!PD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===xi.VISIBLE||e.config.terminateOnPointerUp&&e.state===xi.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(f2.forEach(n=>Dh._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(m2.forEach(n=>e.removeEventListener(n,this,h2)),this._pointerUpEventsRegistered=!1))}};Dh._eventManager=new jD;var F_=Dh;function OW(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var UD=new U("mat-ripple-global-options"),v2=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new F_(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:H(H(H({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,H(H({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,H(H({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(J),M(at),M(UD,8),M($n,8))},e.\u0275dir=ye({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Xe("mat-ripple-unbounded",o.unbounded)},inputs:{color:[Q.None,"matRippleColor","color"],unbounded:[Q.None,"matRippleUnbounded","unbounded"],centered:[Q.None,"matRippleCentered","centered"],radius:[Q.None,"matRippleRadius","radius"],animation:[Q.None,"matRippleAnimation","animation"],disabled:[Q.None,"matRippleDisabled","disabled"],trigger:[Q.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Ih=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,ut]});let t=e;return t})(),NW=(()=>{let e=class e{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(r){return new(r||e)(M($n,8))},e.\u0275cmp=Se({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){r&2&&Xe("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Ct],decls:0,vars:0,template:function(r,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})(),$D=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut]});let t=e;return t})(),HD=new U("MAT_OPTION_PARENT_COMPONENT");var GD=new U("MatOptgroup");var PW=0,zD=class{constructor(e,n=!1){this.source=e,this.isUserInput=n}},j_=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(i,r,o,s){this._element=i,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${PW++}`,this.onSelectionChange=new Te,this._stateChanges=new oe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,r){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!uo(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new zD(this,i))}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(Jt),M(HD,8),M(GD,8))},e.\u0275cmp=Se({type:e,selectors:[["mat-option"]],viewQuery:function(r,o){if(r&1&&on(DW,7),r&2){let s;nt(s=it())&&(o._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&1&&Re("click",function(){return o._selectViaInteraction()})("keydown",function(a){return o._handleKeydown(a)}),r&2&&(qr("id",o.id),ht("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),Xe("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[Q.HasDecoratorInputTransform,"disabled","disabled",et]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[fn,Ct],ngContentSelectors:CW,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){r&1&&(rn(IW),Ae(0,TW,1,2,"mat-pseudo-checkbox",1),tt(1),F(2,"span",2,0),tt(4,1),P(),Ae(5,SW,1,1,"mat-pseudo-checkbox",3)(6,AW,2,1,"span",4),be(7,"div",5)),r&2&&(It(0,o.multiple?0:-1),ee(5),It(5,!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),ee(),It(6,o.group&&o.group._inert?6:-1),ee(),De("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[NW,v2],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();function y2(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let s=0;s<t+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function w2(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}var qD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ih,ut,$D]});let t=e;return t})(),p2={capture:!0},g2=["focus","click","mouseenter","touchstart"],LD="mat-ripple-loader-uninitialized",VD="mat-ripple-loader-class-name",_2="mat-ripple-loader-centered",P_="mat-ripple-loader-disabled",x2=(()=>{let e=class e{constructor(){this._document=V(we,{optional:!0}),this._animationMode=V($n,{optional:!0}),this._globalRippleOptions=V(UD,{optional:!0}),this._platform=V(at),this._ngZone=V(J),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let o=i.target.closest(`[${LD}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let i of g2)this._document?.addEventListener(i,this._onInteraction,p2)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of g2)this._document?.removeEventListener(r,this._onInteraction,p2)}configureRipple(i,r){i.setAttribute(LD,""),(r.className||!i.hasAttribute(VD))&&i.setAttribute(VD,r.className||""),r.centered&&i.setAttribute(_2,""),r.disabled&&i.setAttribute(P_,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(P_,""):i.removeAttribute(P_)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(VD)),i.append(o);let s=new v2(new ve(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(_2),s.disabled=i.hasAttribute(P_),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(LD),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FW=["mat-button",""],LW=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],VW=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var BW=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var jW=["mat-icon-button",""],zW=["*"];var UW=new U("MAT_BUTTON_CONFIG");var $W=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],E2=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=V(a2),this._rippleLoader=V(x2),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=V(UW,{optional:!0}),l=i.nativeElement,d=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:u,mdcClasses:f}of $W)l.hasAttribute(u)&&d.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Pm()},e.\u0275dir=ye({type:e,inputs:{color:"color",disableRipple:[Q.HasDecoratorInputTransform,"disableRipple","disableRipple",et],disabled:[Q.HasDecoratorInputTransform,"disabled","disabled",et],ariaDisabled:[Q.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",et],disabledInteractive:[Q.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",et]},features:[fn]});let t=e;return t})();var Dn=(()=>{let e=class e extends E2{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(at),M(J),M($n,8))},e.\u0275cmp=Se({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(ht("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Pi(o.color?"mat-"+o.color:""),Xe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Xt,Ct],attrs:FW,ngContentSelectors:VW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(rn(LW),be(0,"span",0),tt(1),F(2,"span",1),tt(3,1),P(),tt(4,2),be(5,"span",2)(6,"span",3)),r&2&&Xe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var D2=(()=>{let e=class e extends E2{constructor(i,r,o,s){super(i,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(at),M(J),M($n,8))},e.\u0275cmp=Se({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(ht("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Pi(o.color?"mat-"+o.color:""),Xe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Xt,Ct],attrs:jW,ngContentSelectors:zW,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(rn(),be(0,"span",0),tt(1),be(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',BW],encapsulation:2,changeDetection:0});let t=e;return t})();var I2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,Ih,ut]});let t=e;return t})();var Fa=(()=>{let e=class e{transform(i){return i==null?"0":i.toLocaleString("hu-HU",{style:"currency",currency:"HUF",minimumFractionDigits:0,maximumFractionDigits:0})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=ym({name:"price",type:e,pure:!0});let t=e;return t})();var HW=t=>["/products",t];function GW(t,e){if(t&1){let n=mn();F(0,"div",13),be(1,"img",14),F(2,"h3"),W(3),P(),F(4,"p"),W(5),di(6,"price"),P(),F(7,"button",15),Re("click",function(){let r=Lt(n).$implicit,o=Oe();return Vt(o.addToCart(r))}),W(8,"Kos\xE1rba"),P(),F(9,"a",16),W(10,"R\xE9szletek"),P()()}if(t&2){let n=e.$implicit;ee(),Wr("alt",n.name),De("src",n.imageUrl,Hr),ee(2),bt(n.name),ee(2),ci("",ui(6,5,n.price)," Ft"),ee(4),De("routerLink",jd(7,HW,n.id))}}var C2=(()=>{let e=class e{constructor(i){this.productService=i}ngOnInit(){this.products$=this.productService.getProducts()}addToCart(i){this.productService.addToCart(i),alert(`${i.name} kos\xE1rba t\xE9ve.`)}};e.\u0275fac=function(r){return new(r||e)(M(vi))},e.\u0275cmp=Se({type:e,selectors:[["app-home"]],decls:42,vars:3,consts:[[1,"wave-separator"],["viewBox","0 0 1200 120","preserveAspectRatio","none"],["d","M0,0V46.29c47.39,22.56,103.61,30.43,156,16.27C230.25,45.42,280,12.65,332,2.05c43.58-8.33,87.8,1.72,131,11.17,26.88,5.76,53.45,14,80,22.14,36.21,10.77,74.37,22.73,112,20.56,27.64-1.51,53.47-11.21,80-18.31,43.18-11.58,92.17-11.2,135,1.26,24.1,6.93,48.12,17.76,72,27.26,40.37,15.91,80.24,34.34,123,40.77,29.79,4.41,59.28-1.3,88-8.11,30.21-7.16,59.69-18.44,90-26.32V0Z","opacity",".25",1,"shape-fill"],["d","M0,0V15.81C47.36,34.29,103.68,45.82,156,28.94c30.53-8.72,56.79-26.65,87-33.71C296.52,2.61,339.52,17.07,380,31.56c20.67,7.36,41.17,15.39,62,22.63,35.36,12,71.64,24.14,110,21.3,29.54-2.13,55.57-12.76,83-20.77,33.26-9.98,69.49-9.71,103,1.59,20.19,6.38,38.89,17.23,58,26.26,40.15,18.62,80.37,38.41,125,43.42,30.48,3.29,59.39-2.26,88-8.55,32.05-7.21,63.24-19.06,95-27.13V0Z","opacity",".5",1,"shape-fill"],["d","M0,0V5.63C46.69,29.51,104.15,45.74,159,39.59c27.52-3.16,52.43-14.22,78-24.4C272.4,3.15,308.35,15.37,343,27.86c30.37,11.59,59.26,23.22,91,27.5,31.53,4.2,60.23-5.45,90-14.32,33.71-10.04,68.93-11.62,103-1.35,32.41,9.57,61.65,27.7,93,37.83,39.48,12.65,81.21,6.26,122-1.33,28.77-5.23,57.15-13.23,86-19.42V0Z",1,"shape-fill"],[1,"hero"],[1,"hero-content"],[1,"hero-subtitle"],["mat-raised-button","","color","accent","routerLink","/create"],[1,"why-us"],[2,"text-align","center"],[1,"recommended-products"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],["mat-button","","color","primary",3,"click"],[3,"routerLink"]],template:function(r,o){if(r&1&&(F(0,"div",0),wl(),F(1,"svg",1),be(2,"path",2)(3,"path",3)(4,"path",4),P()(),Tm(),F(5,"div",5)(6,"div",6)(7,"h1")(8,"div",7)(9,"b"),W(10,"Greenland"),P(),W(11," Kert\xE9szet"),P(),be(12,"br"),W(13," Otthon \xE9s kert "),P(),F(14,"p"),W(15,"Tal\xE1lja meg a t\xF6k\xE9letes szersz\xE1mokat minden kerti munk\xE1hoz!"),P(),F(16,"p"),W(17,"Saj\xE1t term\xE9k l\xE9trehoz\xE1sa"),P(),F(18,"button",8),W(19,"Term\xE9k l\xE9trehoz\xE1sa"),P()()(),F(20,"div",9)(21,"h2"),W(22,"Mi\xE9rt v\xE1s\xE1rolj t\u0151l\xFCnk?"),P(),F(23,"ul")(24,"li"),W(25,"Sz\xE9les term\xE9kk\xEDn\xE1lat"),P(),F(26,"li"),W(27,"Kiv\xE1l\xF3 min\u0151s\xE9g\u0171 term\xE9kek"),P(),F(28,"li"),W(29,"Gyors sz\xE1ll\xEDt\xE1s"),P(),F(30,"li"),W(31,"Versenyk\xE9pes \xE1rak"),P()()(),F(32,"div",0),wl(),F(33,"svg",1),be(34,"path",2)(35,"path",3)(36,"path",4),P()(),Tm(),F(37,"h2",10),W(38,"Neked aj\xE1nljuk"),P(),F(39,"div",11),Ae(40,GW,11,9,"div",12),di(41,"async"),P()),r&2){let s;ee(40),De("ngForOf",(s=ui(41,1,o.products$))==null?null:s.slice(0,3))}},dependencies:[Al,Yl,Dn,Ml,Fa],styles:[".hero[_ngcontent-%COMP%]{background-size:cover;color:green;text-align:center;padding:100px 20px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;margin-bottom:20px}.hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.2em}.wave-separator[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:150px}.wave-separator[_ngcontent-%COMP%]   .shape-fill[_ngcontent-%COMP%]{fill:#4caf50}.why-us[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;text-align:center;margin-bottom:20px}.why-us[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;justify-content:space-around}.why-us[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.recommended-products[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;margin:20px 0}.recommended-products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:15%;margin:15px;text-align:center;border:1px solid #e0e0e0;padding:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a}.recommended-products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:15px}.recommended-products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;font-size:1.5em}.recommended-products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:green}.recommended-products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.recommended-products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;margin-top:10px;color:#00f;text-decoration:underline}"]});let t=e;return t})();var KD=class{constructor(e){this._box=e,this._destroyed=new oe,this._resizeSubject=new oe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new de(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ce(n=>n.some(i=>i.target===e)),As({bufferSize:1,refCount:!0}),$e(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},T2=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=V(J),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new KD(o)),this._observers.get(o).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qW=["notch"],WW=["matFormFieldNotchedOutline",""],KW=["*"],QW=["textField"],YW=["iconPrefixContainer"],ZW=["textPrefixContainer"],XW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],JW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function e7(t,e){t&1&&be(0,"span",17)}function t7(t,e){if(t&1&&(F(0,"label",16),tt(1,1),Ae(2,e7,1,0,"span",17),P()),t&2){let n=Oe(2);De("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),ht("for",n._control.disableAutomaticLabeling?null:n._control.id),ee(2),It(2,!n.hideRequiredMarker&&n._control.required?2:-1)}}function n7(t,e){if(t&1&&Ae(0,t7,3,5,"label",16),t&2){let n=Oe();It(0,n._hasFloatingLabel()?0:-1)}}function i7(t,e){t&1&&be(0,"div",5)}function r7(t,e){}function o7(t,e){if(t&1&&Ae(0,r7,0,0,"ng-template",11),t&2){Oe(2);let n=Kr(1);De("ngTemplateOutlet",n)}}function s7(t,e){if(t&1&&(F(0,"div",7),Ae(1,o7,1,1,null,11),P()),t&2){let n=Oe();De("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),ee(),It(1,n._forceDisplayInfixLabel()?-1:1)}}function a7(t,e){t&1&&(F(0,"div",8,2),tt(2,2),P())}function l7(t,e){t&1&&(F(0,"div",9,3),tt(2,3),P())}function c7(t,e){}function d7(t,e){if(t&1&&Ae(0,c7,0,0,"ng-template",11),t&2){Oe();let n=Kr(1);De("ngTemplateOutlet",n)}}function u7(t,e){t&1&&(F(0,"div",12),tt(1,4),P())}function h7(t,e){t&1&&(F(0,"div",13),tt(1,5),P())}function f7(t,e){t&1&&be(0,"div",14)}function m7(t,e){if(t&1&&(F(0,"div",18),tt(1,6),P()),t&2){let n=Oe();De("@transitionMessages",n._subscriptAnimationState)}}function p7(t,e){if(t&1&&(F(0,"mat-hint",20),W(1),P()),t&2){let n=Oe(2);De("id",n._hintLabelId),ee(),bt(n.hintLabel)}}function g7(t,e){if(t&1&&(F(0,"div",19),Ae(1,p7,2,2,"mat-hint",20),tt(2,7),be(3,"div",21),tt(4,8),P()),t&2){let n=Oe();De("@transitionMessages",n._subscriptAnimationState),ee(),It(1,n.hintLabel?1:-1)}}var Ei=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})(),_7=0,F2=new U("MatError"),$_=(()=>{let e=class e{constructor(i,r){this.id=`mat-mdc-error-${_7++}`,i||r.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(r){return new(r||e)(nr("aria-live"),M(ve))},e.\u0275dir=ye({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,o){r&2&&qr("id",o.id)},inputs:{id:"id"},standalone:!0,features:[Bt([{provide:F2,useExisting:e}])]});let t=e;return t})(),b7=0,S2=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${b7++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(qr("id",o.id),ht("align",null),Xe("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),v7=new U("MatPrefix");var y7=new U("MatSuffix");var L2=new U("FloatingLabelParent"),A2=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=V(T2),this._ngZone=V(J),this._parent=V(L2),this._resizeSubscription=new qe}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return w7(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(M(ve))},e.\u0275dir=ye({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Xe("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function w7(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var M2="mdc-line-ripple--active",U_="mdc-line-ripple--deactivating",k2=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(U_);o.propertyName==="opacity"&&a&&s.remove(M2,U_)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(U_),i.add(M2)}deactivate(){this._elementRef.nativeElement.classList.add(U_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(J))},e.\u0275dir=ye({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),R2=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(J))},e.\u0275cmp=Se({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&on(qW,5),r&2){let s;nt(s=it())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Xe("mdc-notched-outline--notched",o.open)},inputs:{open:[Q.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Ct],attrs:WW,ngContentSelectors:KW,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(rn(),be(0,"div",1),F(1,"div",2,0),tt(3),P(),be(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),x7={transitionMessages:Yd("transitionMessages",[op("enter",ar({opacity:1,transform:"translateY(0%)"})),Rl("void => enter",[ar({opacity:0,transform:"translateY(-5px)"}),Zd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ch=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e});let t=e;return t})();var Th=new U("MatFormField"),E7=new U("MAT_FORM_FIELD_DEFAULT_OPTIONS"),O2=0,N2="fill",D7="auto",P2="fixed",I7="translateY(-50%)",Dr=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Ra(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||D7}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,o=i||this._defaults?.appearance||N2;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||P2}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||P2}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,o,s,a,l,d,u){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance=N2,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${O2++}`,this._hintLabelId=`mat-mdc-hint-${O2++}`,this._subscriptAnimationState="",this._destroyed=new oe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe($e(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Tn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($e(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe($e(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,a=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+a}px`,f=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${I7} translateX(${f})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(Jt),M(J),M(Pa),M(at),M(E7,8),M($n,8),M(we))},e.\u0275cmp=Se({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(pn(s,Ei,5),pn(s,Ei,7),pn(s,Ch,5),pn(s,v7,5),pn(s,y7,5),pn(s,F2,5),pn(s,S2,5)),r&2){let a;nt(a=it())&&(o._labelChildNonStatic=a.first),nt(a=it())&&(o._labelChildStatic=a.first),nt(a=it())&&(o._formFieldControl=a.first),nt(a=it())&&(o._prefixChildren=a),nt(a=it())&&(o._suffixChildren=a),nt(a=it())&&(o._errorChildren=a),nt(a=it())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(on(QW,5),on(YW,5),on(ZW,5),on(A2,5),on(R2,5),on(k2,5)),r&2){let s;nt(s=it())&&(o._textField=s.first),nt(s=it())&&(o._iconPrefixContainer=s.first),nt(s=it())&&(o._textPrefixContainer=s.first),nt(s=it())&&(o._floatingLabel=s.first),nt(s=it())&&(o._notchedOutline=s.first),nt(s=it())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Xe("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Bt([{provide:Th,useExisting:e},{provide:L2,useExisting:e}]),Ct],ngContentSelectors:JW,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=mn();rn(XW),Ae(0,n7,1,1,"ng-template",null,0,Tl),F(2,"div",4,1),Re("click",function(l){return Lt(s),Vt(o._control.onContainerClick(l))}),Ae(4,i7,1,0,"div",5),F(5,"div",6),Ae(6,s7,2,2,"div",7)(7,a7,3,0,"div",8)(8,l7,3,0,"div",9),F(9,"div",10),Ae(10,d7,1,1,null,11),tt(11),P(),Ae(12,u7,2,0,"div",12)(13,h7,2,0,"div",13),P(),Ae(14,f7,1,0,"div",14),P(),F(15,"div",15),Ae(16,m7,2,1)(17,g7,5,2),P()}if(r&2){let s;ee(2),Xe("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),ee(2),It(4,!o._hasOutline()&&!o._control.disabled?4:-1),ee(2),It(6,o._hasOutline()?6:-1),ee(),It(7,o._hasIconPrefix?7:-1),ee(),It(8,o._hasTextPrefix?8:-1),ee(2),It(10,!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),ee(2),It(12,o._hasTextSuffix?12:-1),ee(),It(13,o._hasIconSuffix?13:-1),ee(),It(14,o._hasOutline()?-1:14),ee(),Xe("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),ee(),It(16,(s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[A2,R2,Jm,k2,S2],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[x7.transitionMessages]},changeDetection:0});let t=e;return t})(),La=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,Fo,A_,ut]});let t=e;return t})();var H_=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new oe,n&&n.length&&(e?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);let n=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),n.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let i of n)if(this.compareWith(e,i))return i;return e}else return e}};var C7=20,V2=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=C7){return this._platform.isBrowser?new de(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(Tf(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Ce(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=wi(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return tn(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(T(J),T(at),T(we,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var T7=20,Ah=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new oe,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(i=T7){return i>0?this._change.pipe(Tf(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(T(at),T(J),T(we,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),QD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[gs,G_,gs,G_]});let t=e;return t})();var Mh=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},YD=class extends Mh{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},kh=class extends Mh{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ZD=class extends Mh{constructor(e){super(),this.element=e instanceof ve?e.nativeElement:e}},XD=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof YD)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof kh)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ZD)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var q_=class extends XD{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||kt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var j2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var z2=QF(),JD=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=$t(-this._previousScrollPosition.left),e.style.top=$t(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),z2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),z2&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var eI=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ce(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},W_=class{enable(){}disable(){}attach(){}};function tI(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function U2(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var nI=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();tI(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},A7=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new W_,this.close=a=>new eI(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new JD(this._viewportRuler,this._document),this.reposition=a=>new nI(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(T(V2),T(Ah),T(J),T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K_=class{constructor(e){if(this.scrollStrategy=new W_,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var iI=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var W2=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(T(we))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M7=(()=>{let e=class e extends W2{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(T(we),T(J,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k7=(()=>{let e=class e extends W2{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=yi(s)},this._clickListener=s=>{let a=yi(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let u=d.length-1;u>-1;u--){let f=d[u];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(l))break;let p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(s)):p.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(T(we),T(at),T(J,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K2=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Eh()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),Eh()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(T(we),T(at))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rI=class{constructor(e,n,i,r,o,s,a,l,d,u=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new oe,this._attachments=new oe,this._detachments=new oe,this._locationChanges=qe.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new oe,this._outsidePointerEvents=new oe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ze(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=H(H({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ze(H({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=$t(this._config.width),e.height=$t(this._config.height),e.minWidth=$t(this._config.minWidth),e.minHeight=$t(this._config.minHeight),e.maxWidth=$t(this._config.maxWidth),e.maxHeight=$t(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=$c(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe($e(Tn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},$2="cdk-overlay-connected-position-bounding-box",R7=/([A-Za-z%]+)$/,oI=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new oe,this._resizeSubscription=qe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add($2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(l,n,a),u=this._getOverlayFit(d,n,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(u,d,i)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:d,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let d of o){let u=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);u>l&&(l=u,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Va(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=G2(n),{x:s,y:a}=e,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(a+=d);let u=0-s,f=s+o.width-i.width,p=0-a,g=a+o.height-i.height,v=this._subtractOverflows(o.width,u,f),x=this._subtractOverflows(o.height,p,g),I=v*x;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=H2(this._overlayRef.getConfig().minHeight),a=H2(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&d}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=G2(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0),u=0,f=0;return r.width<=o.width?u=d||-s:u=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?f=l||-a:f=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:f},{x:e.x+u,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!O7(this._lastScrollVisibility,i)){let r=new iI(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,d=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,u,f,p;if(d)p=i.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(l)f=e.x,u=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),v=this._lastBoundingBoxSize.width;u=g*2,f=e.x-g,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-v/2)}return{top:s,left:f,bottom:a,right:p,width:u,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=$t(i.height),r.top=$t(i.top),r.bottom=$t(i.bottom),r.width=$t(i.width),r.left=$t(i.left),r.right=$t(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=$t(o)),s&&(r.maxWidth=$t(s))}this._lastBoundingBoxSize=i,Va(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Va(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Va(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Va(i,this._getExactOverlayY(n,e,u)),Va(i,this._getExactOverlayX(n,e,u))}else i.position="static";let a="",l=this._getOffset(n,"x"),d=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=$t(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=$t(s.maxWidth):o&&(i.maxWidth="")),Va(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=$t(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=$t(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:U2(e,i),isOriginOutsideView:tI(e,i),isOverlayClipped:U2(n,i),isOverlayOutsideView:tI(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&$c(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ve)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function Va(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function H2(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(R7);return!n||n==="px"?parseFloat(e):null}return t||null}function G2(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function O7(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var q2="cdk-global-overlay-wrapper",sI=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(q2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,f=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",g="",v="",x="";l?x="flex-start":u==="center"?(x="center",p?v=f:g=f):p?u==="left"||u==="end"?(x="flex-end",g=f):(u==="right"||u==="start")&&(x="flex-start",v=f):u==="left"||u==="start"?(x="flex-start",g=f):(u==="right"||u==="end")&&(x="flex-end",v=f),e.position=this._cssPosition,e.marginLeft=l?"0":g,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":v,n.justifyContent=x,n.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(q2),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},N7=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new sI}flexibleConnectedTo(i){return new oI(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(T(Ah),T(we),T(at),T(K2))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),P7=0,Ba=(()=>{let e=class e{constructor(i,r,o,s,a,l,d,u,f,p,g,v){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=u,this._directionality=f,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new K_(i);return a.direction=a.direction||this._directionality.value,new rI(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${P7++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(hi)),new q_(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(T(A7),T(K2),T(Gs),T(N7),T(M7),T(kt),T(J),T(we),T(Pa),T(Po),T(k7),T($n,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F7=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Q2=new U("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=V(Ba);return()=>t.scrollStrategies.reposition()}}),Rh=(()=>{let e=class e{constructor(i){this.elementRef=i}};e.\u0275fac=function(r){return new(r||e)(M(ve))},e.\u0275dir=ye({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),aI=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}constructor(i,r,o,s,a){this._overlay=i,this._dir=a,this._backdropSubscription=qe.EMPTY,this._attachSubscription=qe.EMPTY,this._detachSubscription=qe.EMPTY,this._positionSubscription=qe.EMPTY,this._disposeOnNavigation=!1,this._ngZone=V(J),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Te,this.positionChange=new Te,this.attach=new Te,this.detach=new Te,this.overlayKeydown=new Te,this.overlayOutsideClick=new Te,this._templatePortal=new kh(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=F7);let i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!uo(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=yi(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let i=this._position=this.positionStrategy||this._createPositionStrategy(),r=new K_({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(i){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof Rh?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Rh?this.origin.elementRef.nativeElement:this.origin instanceof ve?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(iv(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(M(Ba),M(Kn),M(Hn),M(Q2),M(Pa,8))},e.\u0275dir=ye({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[Q.None,"cdkConnectedOverlayOrigin","origin"],positions:[Q.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[Q.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[Q.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[Q.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[Q.None,"cdkConnectedOverlayWidth","width"],height:[Q.None,"cdkConnectedOverlayHeight","height"],minWidth:[Q.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[Q.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[Q.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[Q.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[Q.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[Q.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[Q.None,"cdkConnectedOverlayOpen","open"],disableClose:[Q.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[Q.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[Q.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",et],lockPosition:[Q.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",et],flexibleDimensions:[Q.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",et],growAfterOpen:[Q.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",et],push:[Q.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",et],disposeOnNavigation:[Q.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",et]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[fn,Ft]});let t=e;return t})();function L7(t){return()=>t.scrollStrategies.reposition()}var V7={provide:Q2,deps:[Ba],useFactory:L7},Y2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[Ba,V7],imports:[gs,j2,QD,QD]});let t=e;return t})();var B7=["trigger"],j7=["panel"],z7=[[["mat-select-trigger"]],"*"],U7=["mat-select-trigger","*"];function $7(t,e){if(t&1&&(F(0,"span",4),W(1),P()),t&2){let n=Oe();ee(),bt(n.placeholder)}}function H7(t,e){t&1&&tt(0)}function G7(t,e){if(t&1&&(F(0,"span",11),W(1),P()),t&2){let n=Oe(2);ee(),bt(n.triggerValue)}}function q7(t,e){if(t&1&&(F(0,"span",10),Ae(1,H7,1,0)(2,G7,2,1),P()),t&2){let n=Oe();ee(),It(1,n.customTrigger?1:2)}}function W7(t,e){if(t&1){let n=mn();F(0,"div",12,1),Re("@transformPanel.done",function(r){Lt(n);let o=Oe();return Vt(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){Lt(n);let o=Oe();return Vt(o._handleKeydown(r))}),tt(2,1),P()}if(t&2){let n=Oe();oM("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),De("ngClass",n.panelClass)("@transformPanel","showing"),ht("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}var K7={transformPanelWrap:Yd("transformPanelWrap",[Rl("* => void",ZM("@transformPanel",[YM()],{optional:!0}))]),transformPanel:Yd("transformPanel",[op("void",ar({opacity:0,transform:"scale(1, 0.8)"})),Rl("void => showing",Zd("120ms cubic-bezier(0, 0, 0.2, 1)",ar({opacity:1,transform:"scale(1, 1)"}))),Rl("* => void",Zd("100ms linear",ar({opacity:0})))])};var Z2=0,X2=new U("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=V(Ba);return()=>t.scrollStrategies.reposition()}});function Q7(t){return()=>t.scrollStrategies.reposition()}var Y7=new U("MAT_SELECT_CONFIG"),Z7={provide:X2,deps:[Ba],useFactory:Q7},X7=new U("MatSelectTrigger"),lI=class{constructor(e,n){this.source=e,this.value=n}},J2=(()=>{let e=class e{_scrollOptionIntoView(i){let r=this.options.toArray()[i];if(r){let o=this.panel.nativeElement,s=y2(i,this.options,this.optionGroups),a=r._getHostElement();i===0&&s===1?o.scrollTop=0:o.scrollTop=w2(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new lI(this,i)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Gt.required)??!1}set required(i){this._required=i,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,a,l,d,u,f,p,g,v,x,I){this._viewportRuler=i,this._changeDetectorRef=r,this._elementRef=a,this._dir=l,this._parentFormField=f,this.ngControl=p,this._liveAnnouncer=x,this._defaultOptions=I,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(L,q)=>L===q,this._uid=`mat-select-${Z2++}`,this._triggerAriaLabelledBy=null,this._destroy=new oe,this.stateChanges=new oe,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Z2++}`,this._panelDoneAnimatingStream=new oe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new oe,this.optionSelectionChanges=Rr(()=>{let L=this.options;return L?L.changes.pipe(Bn(L),Ue(()=>Tn(...L.map(q=>q.onSelectionChange)))):this._initialized.pipe(Ue(()=>this.optionSelectionChanges))}),this.openedChange=new Te,this._openedStream=this.openedChange.pipe(Ce(L=>L),K(()=>{})),this._closedStream=this.openedChange.pipe(Ce(L=>!L),K(()=>{})),this.selectionChange=new Te,this.valueChange=new Te,this._trackedModal=null,this._skipPredicate=L=>this.panelOpen?!1:L.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),I?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=I.typeaheadDebounceInterval),this._errorStateTracker=new Gc(s,p,u,d,this.stateChanges),this._scrollStrategyFactory=v,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new H_(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Nr(),$e(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe($e(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe($e(this._destroy)).subscribe(i=>{i.added.forEach(r=>r.select()),i.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Bn(null),$e(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),r=this.ngControl;if(i!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?o.setAttribute("aria-labelledby",i):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let r=`${this.id}-panel`;this._trackedModal&&OD(this._trackedModal,"aria-owns",r),i2(i,"aria-owns",r),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;OD(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let r=i.keyCode,o=r===40||r===38||r===37||r===39,s=r===13||r===32,a=this._keyManager;if(!a.isTyping()&&s&&!uo(i)||(this.multiple||i.altKey)&&o)i.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;a.onKeydown(i);let d=this.selected;d&&l!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(i){let r=this._keyManager,o=i.keyCode,s=o===40||o===38,a=r.isTyping();if(s&&i.altKey)i.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&r.activeItem&&!uo(i))i.preventDefault(),r.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&i.ctrlKey){i.preventDefault();let l=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(l?d.select():d.deselect())})}else{let l=r.activeItemIndex;r.onKeydown(i),this._multiple&&s&&i.shiftKey&&r.activeItem&&r.activeItemIndex!==l&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ze(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(i);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return o.value!=null&&this._compareWith(o.value,i)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof Rh?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new R_(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=Tn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($e(i)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Tn(...this.options.map(r=>r._stateChanges)).pipe($e(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,r){let o=this._selectionModel.isSelected(i);i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(o!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),r&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),r&&this.focus())),o!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,i):i.indexOf(r)-i.indexOf(o)),this.stateChanges.next()}}_propagateChanges(i){let r;this.multiple?r=this.selected.map(o=>o.value):r=this.selected?this.selected.value:i,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){i=r;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=i?i+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(M(Ah),M(Jt),M(J),M(B_),M(ve),M(Pa,8),M(Js,8),M(Vi,8),M(Th,8),M(Li,10),nr("tabindex"),M(X2),M(s2),M(Y7,8))},e.\u0275cmp=Se({type:e,selectors:[["mat-select"]],contentQueries:function(r,o,s){if(r&1&&(pn(s,X7,5),pn(s,j_,5),pn(s,GD,5)),r&2){let a;nt(a=it())&&(o.customTrigger=a.first),nt(a=it())&&(o.options=a),nt(a=it())&&(o.optionGroups=a)}},viewQuery:function(r,o){if(r&1&&(on(B7,5),on(j7,5),on(aI,5)),r&2){let s;nt(s=it())&&(o.trigger=s.first),nt(s=it())&&(o.panel=s.first),nt(s=it())&&(o._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){r&1&&Re("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),r&2&&(ht("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),Xe("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[Q.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[Q.HasDecoratorInputTransform,"disabled","disabled",et],disableRipple:[Q.HasDecoratorInputTransform,"disableRipple","disableRipple",et],tabIndex:[Q.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?0:Hd(i)],hideSingleSelectionIndicator:[Q.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",et],placeholder:"placeholder",required:[Q.HasDecoratorInputTransform,"required","required",et],multiple:[Q.HasDecoratorInputTransform,"multiple","multiple",et],disableOptionCentering:[Q.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",et],compareWith:"compareWith",value:"value",ariaLabel:[Q.None,"aria-label","ariaLabel"],ariaLabelledby:[Q.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[Q.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",Hd],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Bt([{provide:Ch,useExisting:e},{provide:HD,useExisting:e}]),fn,Ft,Ct],ngContentSelectors:U7,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(r&1){let s=mn();rn(z7),F(0,"div",2,0),Re("click",function(){return Lt(s),Vt(o.open())}),F(3,"div",3),Ae(4,$7,2,1,"span",4)(5,q7,3,1),P(),F(6,"div",5)(7,"div",6),wl(),F(8,"svg",7),be(9,"path",8),P()()()(),Ae(10,W7,3,9,"ng-template",9),Re("backdropClick",function(){return Lt(s),Vt(o.close())})("attach",function(){return Lt(s),Vt(o._onAttached())})("detach",function(){return Lt(s),Vt(o.close())})}if(r&2){let s=Kr(1);ee(3),ht("id",o._valueId),ee(),It(4,o.empty?4:5),ee(6),De("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[Rh,aI,RM],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[K7.transformPanel]},changeDetection:0});let t=e;return t})();var eL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[Z7],imports:[Fo,Y2,qD,ut,G_,La,qD,ut]});let t=e;return t})();var eK=t=>["/products",t];function tK(t,e){if(t&1){let n=mn();F(0,"div",12),be(1,"img",13),F(2,"h2"),W(3),P(),F(4,"p"),W(5),di(6,"price"),P(),F(7,"button",14),Re("click",function(){let r=Lt(n).$implicit,o=Oe();return Vt(o.addToCart(r))}),W(8,"Kos\xE1rba"),P(),F(9,"a",15),W(10,"R\xE9szletek"),P()()}if(t&2){let n=e.$implicit;ee(),Wr("alt",n.name),De("src",n.imageUrl,Hr),ee(2),bt(n.name),ee(2),bt(ui(6,5,n.price)),ee(4),De("routerLink",jd(7,eK,n.id))}}var tL=(()=>{let e=class e{constructor(i){this.productService=i,this.products$=this.productService.getProducts(),this.sortedProducts$=this.products$}ngOnInit(){this.products$=this.productService.getProducts(),this.sortedProducts$=this.products$}sortProducts(i){this.sortedProducts$=this.products$.pipe(K(r=>r.sort((o,s)=>i==="name"?o.name.localeCompare(s.name):i==="price"?o.price-s.price:0)))}addToCart(i){this.productService.addToCart(i)}};e.\u0275fac=function(r){return new(r||e)(M(vi))},e.\u0275cmp=Se({type:e,selectors:[["app-products"]],decls:36,vars:3,consts:[[1,"hero"],[1,"hero-content"],[1,"hero-subtitle"],[1,"hero-image"],[1,"content-frame"],["alt","Term\xE9kek","src","https://www.fieldmann.hu/Fieldmann/media/static-media/60f21875-b4c7-4171-8891-0d6ba949b81a@w800.webp",1,"content-frame-polygon"],[1,"why-us"],[1,"products-container"],[3,"selectionChange"],["value","name"],["value","price"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],["mat-button","","color","primary",3,"click"],[3,"routerLink"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"div",1)(2,"h1")(3,"div",2),W(4,"Kert\xE9szetben az els\u0151 "),be(5,"br")(6,"br"),W(7," Greenland "),P()()(),F(8,"div",3)(9,"div",4),be(10,"img",5),P()()(),F(11,"div",6)(12,"h2"),W(13,"Mi\xE9rt v\xE1s\xE1rolj t\u0151l\xFCnk?"),P(),F(14,"ul")(15,"li"),W(16,"Sz\xE9les term\xE9kk\xEDn\xE1lat"),P(),F(17,"li"),W(18,"Kiv\xE1l\xF3 min\u0151s\xE9g\u0171 term\xE9kek"),P(),F(19,"li"),W(20,"Gyors sz\xE1ll\xEDt\xE1s"),P(),F(21,"li"),W(22,"Versenyk\xE9pes \xE1rak"),P()()(),F(23,"h1"),W(24,"Term\xE9kek"),P(),F(25,"div",7)(26,"mat-form-field")(27,"mat-label"),W(28,"Rendez\xE9s"),P(),F(29,"mat-select",8),Re("selectionChange",function(a){return o.sortProducts(a.value)}),F(30,"mat-option",9),W(31,"N\xE9v szerint"),P(),F(32,"mat-option",10),W(33,"\xC1r szerint"),P()()(),Ae(34,tK,11,9,"div",11),di(35,"async"),P()),r&2&&(ee(34),De("ngForOf",ui(35,1,o.sortedProducts$)))},dependencies:[Al,Yl,Dn,Dr,Ei,J2,j_,Ml,Fa],styles:[".hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:50px 20px;background:#fff}.hero-content[_ngcontent-%COMP%]{flex:1;text-align:left}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;color:#4caf50}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.2em;color:#4caf50;margin-bottom:10px}.hero-image[_ngcontent-%COMP%]{flex:1;text-align:right}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.why-us[_ngcontent-%COMP%]{text-align:center;padding:50px 20px}.why-us[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:20px}.why-us[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.why-us[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.products-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;padding:20px}.product-card[_ngcontent-%COMP%]{width:300px;margin:20px;padding:20px;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 4px 8px #0000001a;text-align:center}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-bottom:1px solid #e0e0e0;margin-bottom:20px}.product-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:10px}.product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;background-color:#4caf50;color:#fff}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();function nK(t,e){if(t&1){let n=mn();$m(0),F(1,"h1"),W(2),P(),be(3,"img",3),F(4,"p"),W(5),P(),F(6,"p"),W(7),P(),F(8,"button",1),Re("click",function(){Lt(n);let r=Oe();return Vt(r.addToCart())}),W(9,"Kos\xE1rba"),P(),Hm()}if(t&2){let n=Oe();ee(2),bt(n.product.name),ee(),Wr("alt",n.product.name),De("src",n.product.imageUrl,Hr),ee(2),bt(n.product.description),ee(2),ci("",n.product.price," Ft")}}var nL=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.productService=o}ngOnInit(){this.route.paramMap.pipe(Ue(i=>this.productService.getProduct(i.get("id")))).subscribe(i=>this.product=i)}goBack(){this.router.navigate(["/products"])}addToCart(){this.product&&(this.productService.addToCart(this.product),alert(`${this.product.name} a kos\xE1rba ker\xFClt!`))}};e.\u0275fac=function(r){return new(r||e)(M(Bi),M(qt),M(vi))},e.\u0275cmp=Se({type:e,selectors:[["app-product-detail"]],decls:4,vars:1,consts:[[1,"product-detail"],["mat-button","","color","primary",3,"click"],[4,"ngIf"],[3,"src","alt"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"button",1),Re("click",function(){return o.goBack()}),W(2,"Vissza"),P(),Ae(3,nK,10,5,"ng-container",2),P()),r&2&&(ee(3),De("ngIf",o.product))},dependencies:[or,Dn],styles:[".product-detail[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;text-align:center}.product-detail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.product-detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}.product-detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 0}.product-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}"]});let t=e;return t})();var iK=["*"],Q_;function rK(){if(Q_===void 0&&(Q_=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Q_=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Q_}function Oh(t){return rK()?.createHTML(t)||t}function iL(t){return Error(`Unable to find icon with the name "${t}"`)}function oK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function rL(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function oL(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var fo=class{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}},sK=(()=>{let e=class e{constructor(i,r,o,s){this._httpClient=i,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,r,o){return this.addSvgIconInNamespace("",i,r,o)}addSvgIconLiteral(i,r,o){return this.addSvgIconLiteralInNamespace("",i,r,o)}addSvgIconInNamespace(i,r,o,s){return this._addSvgIconConfig(i,r,new fo(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,o,s){let a=this._sanitizer.sanitize(wn.HTML,o);if(!a)throw oL(o);let l=Oh(a);return this._addSvgIconConfig(i,r,new fo("",l,s))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,o){return this._addSvgIconSetConfig(i,new fo(r,null,o))}addSvgIconSetLiteralInNamespace(i,r,o){let s=this._sanitizer.sanitize(wn.HTML,r);if(!s)throw oL(r);let a=Oh(s);return this._addSvgIconSetConfig(i,new fo("",a,o))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(wn.RESOURCE_URL,i);if(!r)throw rL(i);let o=this._cachedIconsByUrl.get(r);return o?ie(Y_(o)):this._loadSvgIconFromConfig(new fo(i,null)).pipe(rt(s=>this._cachedIconsByUrl.set(r,s)),K(s=>Y_(s)))}getNamedSvgIcon(i,r=""){let o=sL(r,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(i,a):Ki(iL(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?ie(Y_(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(K(r=>Y_(r)))}_getSvgFromIconSetConfigs(i,r){let o=this._extractIconWithNameFromAnySet(i,r);if(o)return ie(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Qi(l=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(wn.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(u)),ie(null)})));return fd(s).pipe(K(()=>{let a=this._extractIconWithNameFromAnySet(i,r);if(!a)throw iL(i);return a}))}_extractIconWithNameFromAnySet(i,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,i,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(rt(r=>i.svgText=r),K(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?ie(null):this._fetchIcon(i).pipe(rt(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,o){let s=i.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(Oh("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let r=this._svgElementFromString(Oh("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw oK();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(wn.RESOURCE_URL,r);if(!a)throw rL(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let d=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(K(u=>Oh(u)),Pr(()=>this._inProgressUrlFetches.delete(a)),_d());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(i,r,o){return this._svgIconConfigs.set(sL(i,r),o),this}_addSvgIconSetConfig(i,r){let o=this._iconSetConfigs.get(i);return o?o.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,i);if(s)return aK(s)?new fo(s.url,null,s.options):new fo(s,null)}}};e.\u0275fac=function(r){return new(r||e)(T(jM,8),T(Oy),T(we,8),T(kn))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y_(t){return t.cloneNode(!0)}function sL(t,e){return t+":"+e}function aK(t){return!!(t.url&&t.options)}var lK=new U("MAT_ICON_DEFAULT_OPTIONS"),cK=new U("mat-icon-location",{providedIn:"root",factory:dK});function dK(){let t=V(we),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var aL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],uK=aL.map(t=>`[${t}]`).join(", "),hK=/^url\(['"]?#(.*?)['"]?\)$/,lL=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,o,s,a,l){this._elementRef=i,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=qe.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=i.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),r.forEach(o=>i.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(uK),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)aL.forEach(a=>{let l=r[s],d=l.getAttribute(a),u=d?d.match(hK):null;if(u){let f=o.get(l);f||(f=[],o.set(l,f)),f.push({name:a,value:u[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,o]=this._splitIconName(i);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Ze(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(sK),nr("aria-hidden"),M(cK),M(kn),M(lK,8))},e.\u0275cmp=Se({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(ht("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Pi(o.color?"mat-"+o.color:""),Xe("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[Q.HasDecoratorInputTransform,"inline","inline",et],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[fn,Ct],ngContentSelectors:iK,decls:1,vars:0,template:function(r,o){r&1&&(rn(),tt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),cL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,ut]});let t=e;return t})();function mK(t,e){if(t&1){let n=mn();F(0,"div",6),be(1,"img",7),F(2,"div",8)(3,"h2"),W(4),P(),F(5,"p"),W(6),di(7,"price"),P()(),F(8,"button",9),Re("click",function(){let r=Lt(n).$implicit,o=Oe(2);return Vt(o.removeFromCart(r))}),F(9,"mat-icon"),W(10,"delete"),P()()()}if(t&2){let n=e.$implicit;ee(),Wr("alt",n.name),De("src",n.imageUrl,Hr),ee(3),bt(n.name),ee(2),ci("",ui(7,4,n.price)," Ft")}}function pK(t,e){if(t&1&&(F(0,"div")(1,"div",3),Ae(2,mK,11,6,"div",4),P(),F(3,"div",5)(4,"h2"),W(5),di(6,"async"),di(7,"price"),P()()()),t&2){let n=e.ngIf,i=Oe();ee(2),De("ngForOf",n),ee(3),ci("\xD6sszesen: ",ui(7,4,ui(6,2,i.totalPrice$)),"")}}function gK(t,e){t&1&&(F(0,"p"),W(1,"A kos\xE1r \xFCres."),P())}var dL=(()=>{let e=class e{constructor(i){this.productService=i,this.totalPrice$=this.productService.getTotalPrice().pipe(K(r=>r??0))}ngOnInit(){this.cartItems$=this.productService.getCart()}removeFromCart(i){this.productService.removeFromCart(i)}};e.\u0275fac=function(r){return new(r||e)(M(vi))},e.\u0275cmp=Se({type:e,selectors:[["app-cart"]],decls:7,vars:4,consts:[["emptyCart",""],[1,"cart-container"],[4,"ngIf","ngIfElse"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"total-price"],[1,"cart-item"],[3,"src","alt"],[1,"item-details"],["mat-icon-button","","color","warn",3,"click"]],template:function(r,o){if(r&1&&(F(0,"div",1)(1,"h1"),W(2,"Kos\xE1r"),P(),Ae(3,pK,8,6,"div",2),di(4,"async"),Ae(5,gK,2,0,"ng-template",null,0,Tl),P()),r&2){let s=Kr(6);ee(3),De("ngIf",ui(4,2,o.cartItems$))("ngIfElse",s)}},dependencies:[Al,or,D2,lL,Ml,Fa],styles:[".cart-container[_ngcontent-%COMP%]{padding:20px}.cart-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:2.5em;color:#4caf50}.cart-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.cart-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;overflow:hidden;transition:transform .2s}.cart-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.item-details[_ngcontent-%COMP%]{padding:10px;text-align:center}.item-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin:10px 0;color:#333}.item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#4caf50}.total-price[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.total-price[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;color:#4caf50}button[mat-icon-button][_ngcontent-%COMP%]{background-color:#f44336;color:#fff;margin-top:10px}button[mat-icon-button][_ngcontent-%COMP%]:hover{background-color:#d32f2f}"]});let t=e;return t})();var _s=(()=>{let e=class e{constructor(i,r){this.afAuth=i,this.router=r,this.isLoggedInSubject=new yt(!1),this.isLoggedIn$=this.isLoggedInSubject.asObservable(),this.afAuth.authState.subscribe(o=>{this.isLoggedInSubject.next(!!o)})}login(i,r){return R(this,null,function*(){yield this.afAuth.signInWithEmailAndPassword(i,r),this.isLoggedInSubject.next(!0)})}register(i,r){return R(this,null,function*(){yield this.afAuth.createUserWithEmailAndPassword(i,r),this.isLoggedInSubject.next(!0)})}logout(){return R(this,null,function*(){yield this.afAuth.signOut(),this.isLoggedInSubject.next(!1),this.router.navigate(["/login"])})}};e.\u0275fac=function(r){return new(r||e)(T(og),T(qt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uL=ps({passive:!0}),hL=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Pt;let r=wi(i),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new oe,a="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,uL),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,uL)}}),s}stopMonitoring(i){let r=wi(i),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(T(at),T(J))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var bK=new U("MAT_INPUT_VALUE_ACCESSOR"),vK=["button","checkbox","file","hidden","image","radio","range","reset","submit"],yK=0,bs=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=Ra(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gt.required)??!1}set required(i){this._required=Ra(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&TD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Ra(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,a,l,d,u,f,p){this._elementRef=i,this._platform=r,this.ngControl=o,this._autofillMonitor=u,this._formField=p,this._uid=`mat-input-${yK++}`,this.focused=!1,this.stateChanges=new oe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(x=>TD().has(x)),this._iOSKeyupListener=x=>{let I=x.target;!I.value&&I.selectionStart===0&&I.selectionEnd===0&&(I.setSelectionRange(1,1),I.setSelectionRange(0,0))};let g=this._elementRef.nativeElement,v=g.nodeName.toLowerCase();this._inputValueAccessor=d||g,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&f.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Gc(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=v==="select",this._isTextarea=v==="textarea",this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=g.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){vK.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(at),M(Li,10),M(Js,8),M(Vi,8),M(B_),M(bK,10),M(hL),M(J),M(Th,8))},e.\u0275dir=ye({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&Re("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(qr("id",o.id)("disabled",o.disabled)("required",o.required),ht("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Xe("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[Q.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Bt([{provide:Ch,useExisting:e}]),Ft]});let t=e;return t})(),mL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,La,La,fL,ut]});let t=e;return t})();function wK(t,e){if(t&1&&(F(0,"mat-error"),W(1),P()),t&2){let n=Oe();ee(),bt(n.getEmailErrorMessage())}}function xK(t,e){if(t&1&&(F(0,"mat-error"),W(1),P()),t&2){let n=Oe();ee(),bt(n.getPasswordErrorMessage())}}function EK(t,e){if(t&1&&(F(0,"div",9),W(1),P()),t&2){let n=Oe();ee(),bt(n.loginError)}}function DK(t,e){if(t&1&&(F(0,"div",10),W(1),P()),t&2){let n=Oe();ee(),bt(n.successMessage)}}var pL=(()=>{let e=class e{constructor(i,r,o){this.fb=i,this.authService=r,this.router=o,this.loginError="",this.successMessage=""}ngOnInit(){this.loginForm=this.fb.group({email:["",[Gt.required,Gt.email]],password:["",Gt.required]})}getEmailErrorMessage(){return this.loginForm.get("email")?.hasError("required")?"Email is required":this.loginForm.get("email")?.hasError("email")?"Not a valid email":""}getPasswordErrorMessage(){return this.loginForm.get("password")?.hasError("required")?"Password is required":""}onSubmit(){this.loginForm.valid&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password).then(i=>{this.successMessage="Sikeres bejelentkez\xE9s!",setTimeout(()=>{this.router.navigate(["/"])},1500)}).catch(i=>{this.loginError=i.message})}};e.\u0275fac=function(r){return new(r||e)(M(Bl),M(_s),M(qt))},e.\u0275cmp=Se({type:e,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","password","formControlName","password","required",""],["mat-raised-button","","color","primary","type","submit"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"error"],[1,"success"]],template:function(r,o){if(r&1&&(F(0,"div",0)(1,"form",1),Re("ngSubmit",function(){return o.onSubmit()}),F(2,"mat-form-field",2)(3,"mat-label"),W(4,"Email"),P(),be(5,"input",3),Ae(6,wK,2,1,"mat-error",4),P(),F(7,"mat-form-field",2)(8,"mat-label"),W(9,"Password"),P(),be(10,"input",5),Ae(11,xK,2,1,"mat-error",4),P(),F(12,"button",6),W(13,"Bejelentkez\xE9s"),P()(),Ae(14,EK,2,1,"div",7)(15,DK,2,1,"div",8),P()),r&2){let s,a;ee(),De("formGroup",o.loginForm),ee(5),De("ngIf",(s=o.loginForm.get("email"))==null?null:s.invalid),ee(5),De("ngIf",(a=o.loginForm.get("password"))==null?null:a.invalid),ee(3),De("ngIf",o.loginError),ee(),De("ngIf",o.successMessage)}},dependencies:[or,$o,cr,zo,Uo,ta,Vi,ea,Dn,Dr,Ei,$_,bs],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.login-container[_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;width:300px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}button[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}mat-error[_ngcontent-%COMP%]{color:red;font-size:14px}"]});let t=e;return t})();function IK(t,e){if(t&1&&(F(0,"mat-error"),W(1),P()),t&2){let n=Oe();ee(),bt(n.getEmailErrorMessage())}}function CK(t,e){if(t&1&&(F(0,"mat-error"),W(1),P()),t&2){let n=Oe();ee(),bt(n.getPasswordErrorMessage())}}var gL=(()=>{let e=class e{constructor(i,r,o){this.fb=i,this.authService=r,this.router=o,this.registerForm=this.fb.group({email:["",[Gt.required,Gt.email]],password:["",[Gt.required,Gt.minLength(6)]]})}onSubmit(){if(this.registerForm.valid){let{email:i,password:r}=this.registerForm.value;this.authService.register(i,r).then(o=>{this.router.navigate(["/"])}).catch(o=>{console.error("Registration error:",o)})}}getEmailErrorMessage(){return this.registerForm.get("email")?.hasError("required")?"Email is required":this.registerForm.get("email")?.hasError("email")?"Not a valid email":""}getPasswordErrorMessage(){return this.registerForm.get("password")?.hasError("required")?"Password is required":this.registerForm.get("password")?.hasError("minlength")?"Password must be at least 6 characters":""}};e.\u0275fac=function(r){return new(r||e)(M(Bl),M(_s),M(qt))},e.\u0275cmp=Se({type:e,selectors:[["app-register"]],decls:14,vars:3,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","password","formControlName","password","required",""],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){if(r&1&&(F(0,"div",0)(1,"form",1),Re("ngSubmit",function(){return o.onSubmit()}),F(2,"mat-form-field",2)(3,"mat-label"),W(4,"Email"),P(),be(5,"input",3),Ae(6,IK,2,1,"mat-error",4),P(),F(7,"mat-form-field",2)(8,"mat-label"),W(9,"Password"),P(),be(10,"input",5),Ae(11,CK,2,1,"mat-error",4),P(),F(12,"button",6),W(13,"Regisztr\xE1ci\xF3"),P()()()),r&2){let s,a;ee(),De("formGroup",o.registerForm),ee(5),De("ngIf",(s=o.registerForm.get("email"))==null?null:s.invalid),ee(5),De("ngIf",(a=o.registerForm.get("password"))==null?null:a.invalid)}},dependencies:[or,$o,cr,zo,Uo,ta,Vi,ea,Dn,Dr,Ei,$_,bs],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f0f0f0}.login-container[_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;width:300px;text-align:center}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}button[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:16px;margin-top:20px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}mat-error[_ngcontent-%COMP%]{color:red;font-size:14px}']});let t=e;return t})();var _L=(()=>{let e=class e{constructor(i,r){this.productService=i,this.router=r,this.product={id:"",name:"",description:"",price:0,imageUrl:""}}addProduct(){this.product.id=this.productService.generateId(),this.productService.addProduct(this.product).then(()=>{this.router.navigate(["/products"])})}};e.\u0275fac=function(r){return new(r||e)(M(vi),M(qt))},e.\u0275cmp=Se({type:e,selectors:[["app-product-create"]],decls:22,vars:4,consts:[[1,"product-form"],[3,"ngSubmit"],["matInput","","name","name","required","",3,"ngModelChange","ngModel"],["matInput","","type","number","name","price","required","",3,"ngModelChange","ngModel"],["matInput","","name","description","required","",3,"ngModelChange","ngModel"],["matInput","","name","imageUrl","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"h2"),W(2,"\xDAj Term\xE9k L\xE9trehoz\xE1sa"),P(),F(3,"form",1),Re("ngSubmit",function(){return o.addProduct()}),F(4,"mat-form-field")(5,"mat-label"),W(6,"N\xE9v"),P(),F(7,"input",2),Cl("ngModelChange",function(a){return Bd(o.product.name,a)||(o.product.name=a),a}),P()(),F(8,"mat-form-field")(9,"mat-label"),W(10,"\xC1r"),P(),F(11,"input",3),Cl("ngModelChange",function(a){return Bd(o.product.price,a)||(o.product.price=a),a}),P()(),F(12,"mat-form-field")(13,"mat-label"),W(14,"Le\xEDr\xE1s"),P(),F(15,"textarea",4),Cl("ngModelChange",function(a){return Bd(o.product.description,a)||(o.product.description=a),a}),P()(),F(16,"mat-form-field")(17,"mat-label"),W(18,"K\xE9p URL"),P(),F(19,"input",5),Cl("ngModelChange",function(a){return Bd(o.product.imageUrl,a)||(o.product.imageUrl=a),a}),P()(),F(20,"button",6),W(21,"L\xE9trehoz\xE1s"),P()()()),r&2&&(ee(7),Il("ngModel",o.product.name),ee(4),Il("ngModel",o.product.price),ee(4),Il("ngModel",o.product.description),ee(4),Il("ngModel",o.product.imageUrl))},dependencies:[$o,cr,du,zo,Uo,ta,vw,Js,Dn,Dr,Ei,bs]});let t=e;return t})();var bL=(()=>{let e=class e{constructor(i,r,o){this.fb=i,this.route=r,this.productService=o,this.productId="",this.productForm=this.fb.group({name:["",Gt.required],price:["",Gt.required],description:["",Gt.required],imageUrl:["",Gt.required]})}ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&(this.productId=i,this.productService.getProduct(this.productId).subscribe(r=>{r&&this.productForm.patchValue(r)}))}onSubmit(){this.productForm.valid&&this.productService.updateProduct(this.productId,this.productForm.value).then(()=>{console.log("Product updated")})}};e.\u0275fac=function(r){return new(r||e)(M(Bl),M(Bi),M(vi))},e.\u0275cmp=Se({type:e,selectors:[["app-product-edit"]],decls:22,vars:1,consts:[[1,"product-form"],[3,"ngSubmit","formGroup"],["matInput","","formControlName","name"],["matInput","","type","number","formControlName","price"],["matInput","","formControlName","description"],["matInput","","formControlName","imageUrl"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"h2"),W(2,"Term\xE9k Szerkeszt\xE9se"),P(),F(3,"form",1),Re("ngSubmit",function(){return o.onSubmit()}),F(4,"mat-form-field")(5,"mat-label"),W(6,"N\xE9v"),P(),be(7,"input",2),P(),F(8,"mat-form-field")(9,"mat-label"),W(10,"\xC1r"),P(),be(11,"input",3),P(),F(12,"mat-form-field")(13,"mat-label"),W(14,"Le\xEDr\xE1s"),P(),be(15,"textarea",4),P(),F(16,"mat-form-field")(17,"mat-label"),W(18,"K\xE9p URL"),P(),be(19,"input",5),P(),F(20,"button",6),W(21,"Ment\xE9s"),P()()()),r&2&&(ee(3),De("formGroup",o.productForm))},dependencies:[$o,cr,du,zo,Uo,Vi,ea,Dn,Dr,Ei,bs]});let t=e;return t})();var cI=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return this.authService.isLoggedIn$.pipe(K(o=>o?!0:this.router.createUrlTree(["/login"])))}};e.\u0275fac=function(r){return new(r||e)(T(_s),T(qt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TK=[{path:"",component:C2},{path:"products",component:tL},{path:"products/:id",component:nL},{path:"cart",component:dL},{path:"login",component:pL},{path:"register",component:gL},{path:"create",component:_L,canActivate:[cI]},{path:"edit/:id",component:bL,canActivate:[cI]}],vL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ox.forRoot(TK),ox]});let t=e;return t})();var SK=["*",[["mat-toolbar-row"]]],AK=["*","mat-toolbar-row"],MK=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),yL=(()=>{let e=class e{constructor(i,r,o){this._elementRef=i,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(M(ve),M(at),M(we))},e.\u0275cmp=Se({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&pn(s,MK,5),r&2){let a;nt(a=it())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(Pi(o.color?"mat-"+o.color:""),Xe("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Ct],ngContentSelectors:AK,decls:2,vars:0,template:function(r,o){r&1&&(rn(SK),tt(0),tt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var wL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,ut]});let t=e;return t})();function RK(t,e){if(t&1){let n=mn();F(0,"a",8),Re("click",function(){Lt(n);let r=Oe();return Vt(r.logout())}),W(1,"Kijelentkez\xE9s"),P()}}var xL=(()=>{let e=class e{constructor(i){this.authService=i,this.isLoggedIn=!1}ngOnInit(){this.authService.isLoggedIn$.subscribe(i=>{this.isLoggedIn=i})}logout(){this.authService.logout()}};e.\u0275fac=function(r){return new(r||e)(M(_s))},e.\u0275cmp=Se({type:e,selectors:[["app-header"]],decls:15,vars:1,consts:[["color","primary"],[1,"spacer"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/products"],["mat-button","","routerLink","/cart"],["mat-button","","routerLink","/login"],["mat-button","","routerLink","/register"],["class","logout",3,"click",4,"ngIf"],[1,"logout",3,"click"]],template:function(r,o){r&1&&(F(0,"mat-toolbar",0)(1,"span"),W(2,"Greenland Kert\xE9szet"),P(),be(3,"span",1),F(4,"button",2),W(5,"Kezd\u0151lap"),P(),F(6,"button",3),W(7,"Term\xE9kek"),P(),F(8,"button",4),W(9,"Kos\xE1r"),P(),F(10,"button",5),W(11,"Bejelentkez\xE9s"),P(),F(12,"button",6),W(13,"Regisztr\xE1ci\xF3"),P(),Ae(14,RK,2,0,"a",7),P()),r&2&&(ee(14),De("ngIf",o.isLoggedIn))},dependencies:[or,Yl,yL,Dn],styles:[".mat-toolbar.mat-primary{background-color:#4caf50;color:#fff;display:flex;flex-wrap:wrap;justify-content:space-between}  .mat-button{color:#fff}  .header-title{font-size:1.5em;font-weight:700}  .spacer{flex:1 1 auto}  .logout{cursor:pointer}@media (max-width: 768px){  .header-title{font-size:1.2em}  .mat-toolbar-row{flex-direction:column;align-items:flex-start}  .mat-button,   .logout{margin-top:10px}}@media (max-width: 480px){  .header-title{font-size:1em}  .mat-button,   .logout{margin-top:5px;font-size:.8em}}"]});let t=e;return t})();var EL=(()=>{let e=class e{constructor(){this.title="garden-shop"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Se({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,o){r&1&&be(0,"app-header")(1,"router-outlet")},dependencies:[Xw,xL]});let t=e;return t})();var DL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ut,ut]});let t=e;return t})();var IL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[A_,Fo,ut,Ih,$D,DL]});let t=e;return t})();var NK=["*"];var PK=["dialog"];var CL={animation:!0,transitionTimerDelayMs:5},FK=(()=>{let e=class e{constructor(){this.animation=CL.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LK(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function TL(t){return typeof t=="string"}function dI(t){return t!=null}function VK(t){return t&&t.then}function SL(t){return(t||document.body).getBoundingClientRect()}function BK(t){return e=>new de(n=>{let i=s=>t.run(()=>n.next(s)),r=s=>t.run(()=>n.error(s)),o=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:o})})}var jK=()=>{},{transitionTimerDelayMs:zK}=CL,J_=new Map,ja=(t,e,n,i)=>{let r=i.context||{},o=J_.get(e);if(o)switch(i.runningTransition){case"continue":return Pt;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),J_.delete(e)}let s=n(e,i.animation,r)||jK;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>s()),ie(void 0).pipe(BK(t));let a=new oe,l=new oe,d=a.pipe(Jb(!0));J_.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=LK(e);return t.runOutsideAngular(()=>{let f=tn(e,"transitionend").pipe($e(d),Ce(({target:g})=>g===e)),p=Ts(u+zK).pipe($e(d));Zb(p,f,l).pipe($e(d)).subscribe(()=>{J_.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var AL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var ML=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var kL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),RL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var fI=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(fI||{});var phe=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var UK=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function OL(t){let e=Array.from(t.querySelectorAll(UK)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var $K=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=tn(e,"focusin").pipe($e(n),K(o=>o.target));tn(e,"keydown").pipe($e(n),Ce(o=>o.which===fI.Tab),Rf(r)).subscribe(([o,s])=>{let[a,l]=OL(e);(s===a||s===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&tn(e,"click").pipe($e(n),Rf(r),K(o=>o[1])).subscribe(o=>o.focus())})};var ghe=new Date(1882,10,12),_he=new Date(2174,10,25);var bhe=1e3*60*60*24;var mI=1080,HK=24*mI,GK=12*mI+793,vhe=29*HK+GK,yhe=11*mI+204;var NL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var PL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),qK=(()=>{let e=class e{constructor(){this._ngbConfig=V(FK),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qc=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var WK=(()=>{let e=class e{constructor(){this._document=V(we)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,o=r.style,{overflow:s,paddingRight:a}=o;if(i>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);o.paddingRight=`${l+i}px`}return o.overflow="hidden",()=>{i>0&&(o.paddingRight=a),o.overflow=s}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KK=(()=>{let e=class e{constructor(){this._nativeElement=V(ve).nativeElement,this._zone=V(J)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ze(1)).subscribe(()=>{ja(this._zone,this._nativeElement,(i,r)=>{r&&SL(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ja(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Se({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,o){r&2&&(Pi("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),Xe("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ct],decls:0,vars:0,template:function(r,o){},encapsulation:2});let t=e;return t})(),eb=class{update(e){}close(e){}dismiss(e){}},QK=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],YK=["animation","backdropClass"],uI=class{_applyWindowOptions(e,n){QK.forEach(i=>{dI(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){YK.forEach(i=>{dI(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($e(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($e(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new oe,this._dismissed=new oe,this._hidden=new oe,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();VK(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ie(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),md(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},hI=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(hI||{}),ZK=(()=>{let e=class e{constructor(){this._document=V(we),this._elRef=V(ve),this._zone=V(J),this._closed$=new oe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Te,this.shown=new oe,this.hidden=new oe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":TL(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ze(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=ja(this._zone,i,()=>i.classList.remove("show"),r),s=ja(this._zone,this._dialogEl.nativeElement,()=>{},r),a=md(o,s);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=ja(this._zone,this._elRef.nativeElement,(s,a)=>{a&&SL(s),s.classList.add("show")},i),o=ja(this._zone,this._dialogEl.nativeElement,()=>{},i);md(r,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{tn(i,"keydown").pipe($e(this._closed$),Ce(o=>o.which===fI.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(hI.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;tn(this._dialogEl.nativeElement,"mousedown").pipe($e(this._closed$),rt(()=>r=!1),Ue(()=>tn(i,"mouseup").pipe($e(this._closed$),Ze(1))),Ce(({target:o})=>i===o)).subscribe(()=>{r=!0}),tn(i,"click").pipe($e(this._closed$)).subscribe(({target:o})=>{i===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(hI.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),o=OL(i)[0];(r||o||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,o;r&&r.focus&&i.contains(r)?o=r:o=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ja(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Se({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,o){if(r&1&&on(PK,7),r&2){let s;nt(s=it())&&(o._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,o){r&2&&(ht("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Pi("modal d-block"+(o.windowClass?" "+o.windowClass:"")),Xe("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ct],ngContentSelectors:NK,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,o){r&1&&(rn(),F(0,"div",1,0)(2,"div",2),tt(3),P()()),r&2&&Pi("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),XK=(()=>{let e=class e{constructor(){this._applicationRef=V(hi),this._injector=V(kt),this._environmentInjector=V(nn),this._document=V(we),this._scrollBar=V(WK),this._activeWindowCmptHasChanged=new oe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Te;let i=V(J);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];$K(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,o){let s=o.container instanceof HTMLElement?o.container:dI(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new eb;i=o.injector||i;let l=i.get(nn,null)||this._environmentInjector,d=this._getContentRef(i,l,r,a,o),u=o.backdrop!==!1?this._attachBackdrop(s):void 0,f=this._attachWindowComponent(s,d.nodes),p=new uI(f,d,u,o.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.hidden.pipe(Ze(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=g=>{p.close(g)},a.dismiss=g=>{p.dismiss(g)},a.update=g=>{p.update(g)},p.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=Ym(KK,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let o=Ym(ZK,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_getContentRef(i,r,o,s,a){return o?o instanceof Kn?this._createFromTemplateRef(o,s):TL(o)?this._createFromString(o):this._createFromComponent(i,r,o,s,a):new qc([])}_createFromTemplateRef(i,r){let o={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},s=i.createEmbeddedView(o);return this._applicationRef.attachView(s),new qc([s.rootNodes],s)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new qc([[r]])}_createFromComponent(i,r,o,s,a){let l=kt.create({providers:[{provide:eb,useValue:s}],parent:i}),d=Ym(o,{environmentInjector:r,elementInjector:l}),u=d.location.nativeElement;return a.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new qc([[u]],d.hostView,d)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==i&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let o=this._modalRefs.indexOf(i);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JK=(()=>{let e=class e{constructor(){this._injector=V(kt),this._modalStack=V(XK),this._config=V(qK)}open(i,r={}){let o=H(ze(H({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[JK]});let t=e;return t})();var LL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var VL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var BL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var jL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var zL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var UL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var $L=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var HL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var GL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var whe=new U("live announcer delay",{providedIn:"root",factory:()=>100});var qL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var WL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),eQ=[AL,ML,kL,RL,NL,PL,FL,LL,WL,VL,BL,jL,zL,UL,$L,HL,GL,qL],KL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[eQ,AL,ML,kL,RL,NL,PL,FL,LL,WL,VL,BL,jL,zL,UL,$L,HL,GL,qL]});let t=e;return t})();var Ph="Service workers are disabled or not supported by this browser";function tQ(t){return Rr(()=>Ki(new Error(t)))}var Wc=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=tQ(Ph);else{let i=tn(e,"controllerchange").pipe(K(()=>e.controller)),r=Rr(()=>ie(e.controller)),o=Vn(r,i);this.worker=o.pipe(Ce(u=>!!u)),this.registration=this.worker.pipe(Ue(()=>e.getRegistration()));let d=tn(e,"message").pipe(K(u=>u.data)).pipe(Ce(u=>u&&u.type)).pipe(tv());d.connect(),this.events=d}}postMessage(e,n){return this.worker.pipe(Ze(1),rt(i=>{i.postMessage(H({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,i){let r=this.waitForOperationCompleted(i),o=this.postMessage(e,n);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=i=>i.type===e:n=i=>e.includes(i.type),this.events.pipe(Ce(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ze(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ce(n=>n.nonce===e),Ze(1),K(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},XL=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,this.pushManager=null,this.subscriptionChanges=new oe,!i.isEnabled){this.messages=Do,this.notificationClicks=Do,this.subscription=Do;return}this.messages=this.sw.eventsOfType("PUSH").pipe(K(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(K(o=>o.data)),this.pushManager=this.sw.registration.pipe(K(o=>o.pushManager));let r=this.pushManager.pipe(Ue(o=>o.getSubscription()));this.subscription=Tn(r,this.subscriptionChanges)}requestSubscription(i){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ph));let r={userVisibleOnly:!0},o=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return r.applicationServerKey=s,this.pushManager.pipe(Ue(a=>a.subscribe(r)),Ze(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ph));let i=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Ze(1),Ue(i)).toPromise()}decodeBase64(i){return atob(i)}};e.\u0275fac=function(r){return new(r||e)(T(Wc))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),JL=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,!i.isEnabled){this.versionUpdates=Do,this.unrecoverable=Do;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ph));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ph));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}};e.\u0275fac=function(r){return new(r||e)(T(Wc))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var QL=new U("");function nQ(t,e,n,i){return()=>{if(!(qs(i)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let r;if(typeof n.registrationStrategy=="function")r=n.registrationStrategy();else{let[s,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=ie(null);break;case"registerWithDelay":r=YL(+a[0]||0);break;case"registerWhenStable":r=a[0]?Tn(ZL(t),YL(+a[0])):ZL(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(J).runOutsideAngular(()=>r.pipe(Ze(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function YL(t){return ie(null).pipe(Af(t))}function ZL(t){return t.get(hi).isStable.pipe(Ce(n=>n))}function iQ(t,e){return new Wc(qs(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Nh=class{};function rQ(t,e={}){return wm([XL,JL,{provide:QL,useValue:t},{provide:Nh,useValue:e},{provide:Wc,useFactory:iQ,deps:[Nh,Ht]},{provide:Sl,useFactory:nQ,deps:[kt,QL,Nh,Ht],multi:!0}])}var eV=(()=>{let e=class e{static register(i,r={}){return{ngModule:e,providers:[rQ(i,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[XL,JL]});let t=e;return t})();var tV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e,bootstrap:[EL]}),e.\u0275inj=Y({imports:[rp,Tk,vL,oR,sR,wL,IL,I2,cL,La,mL,eL,KL,dO.initializeApp({projectId:"garden-shop-70f5d",appId:"1:188785990732:web:058ee087b65748508068e9",storageBucket:"garden-shop-70f5d.appspot.com",apiKey:"AIzaSyAf9JZPI29piafqkyvVe1saxrc-LV_lerk",authDomain:"garden-shop-70f5d.firebaseapp.com",messagingSenderId:"188785990732",measurementId:"G-717RYLNLN9"}),WF,eV.register("ngsw-worker.js",{enabled:!$d(),registrationStrategy:"registerWhenStable:30000"})]});let t=e;return t})();WM().bootstrapModule(tV).catch(t=>console.error(t));
